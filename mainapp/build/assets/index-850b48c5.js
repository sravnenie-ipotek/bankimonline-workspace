import{j as n}from"./ui-vendor-19e4e52b.js";import{l as E,u as ao,f as v,j as Z,r as U,b as to,k as xo}from"./react-vendor-9ed0ad78.js";import{n as s,a as F,u as I,O as lo,c as V,j as N,J as Io,P as jo,Q as So,E as yo,R as Oo,p as Po,q as Bo,r as Fo,S as qo,T as Co,U as Ao,x as Do,y as Mo,z as ko,N as No}from"./index-6e45afc9.js";import{a as D,S as $o,E as co,D as H,b as mo,d as oo,B as eo,M as no,L as Eo}from"./index-3333763f.js";import{P as Ro}from"./ProgressBar-f8ded9a7.js";import{u as M,a as R,c as u,g as ro,f as A,F as z,b as T}from"./form-vendor-67b0fc1d.js";import{b as Y,A as ho,a as uo,O as zo,c as W,M as _o,g as po}from"./componentsByIncomeSource-dc390bb7.js";import{D as fo}from"./DoubleButtons-a5f374ca.js";import{C as O}from"./Column-a8ef8409.js";import{F as bo}from"./FormContainer-e92386a0.js";import{R as B}from"./Row-389aebbb.js";import{F as wo}from"./FormCaption-192297af.js";import{R as To}from"./RowTwo-b38b6984.js";import{N as Yo,B as Lo,E as Uo,A as Ho,T as Wo,C as Jo,M as Ko,I as Qo,P as Go}from"./Taxes-97e3a2c4.js";import{C as Xo,a as Zo,H as vo}from"./HowMuchChildrens-9499306b.js";import{F as Vo}from"./FamilyStatus-c8680f7f.js";import{I as oe}from"./Info-52842d63.js";import{u as P}from"./i18n-vendor-e8db3f4c.js";import{U as G,A as X}from"./AddButton-23292c66.js";import{a as io}from"./useDropdownData-05964376.js";import{D as ee}from"./DropdownMenu-dc5040a3.js";import"./state-vendor-8e443ca8.js";import"./utils-vendor-f2764326.js";import"./components-vendor-66cd084e.js";import"./FormattedInput-a9b4c8dd.js";import"./Control-ea4fbaf0.js";import"./Calendar-bb4f5a89.js";import"./ShieldCheckIcon-7bae9c5d.js";const ne=()=>{P();const{getContent:o}=D("other_borrowers_step1"),{values:_,setFieldValue:m,errors:d,touched:a,setFieldTouched:e}=M();return n.jsxs(O,{children:[n.jsx($o,{title:o("app.other_borrowers.step1.who_are_you_for_borrowers_label","What is your relationship to the borrowers?"),placeholder:o("who_are_you_for_borrowers_ph","Please specify your relationship"),name:"whoAreYouForBorrowers",onChange:h=>m("whoAreYouForBorrowers",h),onBlur:()=>e("whoAreYouForBorrowers"),error:a.whoAreYouForBorrowers&&d.whoAreYouForBorrowers,value:_.whoAreYouForBorrowers}),a.whoAreYouForBorrowers&&d.whoAreYouForBorrowers&&n.jsx(co,{error:d.whoAreYouForBorrowers})]})},te=()=>{P();const{getContent:o}=D("other_borrowers_step1"),[_]=E(),m=_.get("pageId"),{values:d}=M();return n.jsxs(bo,{children:[n.jsx(wo,{title:o("app.other_borrowers.step1.personal_data_title","Personal Data of Borrower")+" "+m}),n.jsx(To,{children:n.jsx(oe,{})}),n.jsxs(B,{children:[n.jsx(Yo,{}),n.jsx(Lo,{}),n.jsx(Uo,{})]}),n.jsxs(B,{children:[n.jsx(Ho,{}),n.jsx(Wo,{}),n.jsx(Jo,{}),d.additionalCitizenships==="yes"&&n.jsx(Xo,{}),d.taxes==="yes"&&n.jsx(Zo,{}),d.childrens==="yes"&&n.jsx(vo,{})]}),n.jsx(H,{}),n.jsxs(B,{children:[n.jsx(Ko,{}),n.jsx(Qo,{}),n.jsx(Go,{})]}),n.jsx(H,{}),n.jsxs(B,{children:[n.jsx(ne,{}),n.jsx(Vo,{}),n.jsx(O,{})]})]})},re=R().shape({nameSurname:u().required(s("error_name_surname","Please enter your name and surname")),birthday:u().required(s("error_date","Please enter a valid date")),education:u().required(s("error_select_answer","Please select an answer")),additionalCitizenships:u().required(s("error_select_answer","Please select an answer")),citizenshipsDropdown:ro().when("additionalCitizenships",{is:"yes",then:o=>o.min(1,s("error_select_answer","Please select an answer")),otherwise:o=>o.min(0)}),taxes:u().required(s("error_select_answer","Please select an answer")),countriesPayTaxes:ro().when("taxes",{is:"yes",then:o=>o.min(1,s("error_select_answer","Please select an answer")),otherwise:o=>o.min(0)}),childrens:u().required(s("error_select_answer","Please select an answer")),howMuchChildrens:A().required(s("error_fill_field","Please fill this field")),medicalInsurance:u().required(s("error_select_answer","Please select an answer")),isForeigner:u().required(s("error_select_answer","Please select an answer")),publicPerson:u().required(s("error_select_answer","Please select an answer")),whoAreYouForBorrowers:u().required(s("error_fill_field","Please fill this field")),familyStatus:u().required(s("error_select_answer","Please select an answer"))}),ie=()=>{const o=F(),_=ao(),m=v(),d=I(r=>r.otherBorrowers.otherBorrowersPageId),a=I(r=>r.otherBorrowers.otherBorrowers),e=a.find(r=>r.id===d),c=!a.some(r=>r.id===d)?Y(a):d;_.search.includes(`?pageId=${c}`)||m({pathname:"/services/other-borrowers/1/",search:Z({pageId:String(c)}).toString()});const i={nameSurname:(e==null?void 0:e.nameSurname)||"",birthday:(e==null?void 0:e.birthday)||new Date(new Date().setFullYear(new Date().getFullYear()-18)).getTime(),education:(e==null?void 0:e.education)||"",additionalCitizenships:(e==null?void 0:e.additionalCitizenships)||null,citizenshipsDropdown:(e==null?void 0:e.citizenshipsDropdown)||[],taxes:(e==null?void 0:e.taxes)||null,countriesPayTaxes:(e==null?void 0:e.countriesPayTaxes)||[],childrens:(e==null?void 0:e.childrens)||null,howMuchChildrens:(e==null?void 0:e.howMuchChildrens)||1,medicalInsurance:(e==null?void 0:e.medicalInsurance)||null,isForeigner:(e==null?void 0:e.isForeigner)||null,publicPerson:(e==null?void 0:e.publicPerson)||null,whoAreYouForBorrowers:(e==null?void 0:e.whoAreYouForBorrowers)||"",familyStatus:(e==null?void 0:e.familyStatus)||"",sourceOfIncomeModal:(e==null?void 0:e.sourceOfIncomeModal)||[],additionalIncomeModal:(e==null?void 0:e.additionalIncomeModal)||[],obligationModal:(e==null?void 0:e.obligationModal)||[]};return n.jsx(z,{initialValues:i,validationSchema:re,validateOnMount:!0,onSubmit:r=>{o(lo({id:c,newFields:r})),m({pathname:"/services/other-borrowers/2/",search:Z({pageId:String(c)}).toString()})},children:n.jsxs(T,{children:[n.jsx(mo,{children:n.jsx(te,{})}),n.jsx(fo,{})]})})},se="_modal_lzcpe_1",ae="_buttons_lzcpe_49",le={modal:se,"modal-item":"_modal-item_lzcpe_18","modal-buttons":"_modal-buttons_lzcpe_31",buttons:ae},L=V.bind(le),ce=()=>{const{t:o,i18n:_}=P(),{handleSubmit:m,isValid:d,values:a}=M(),e=F();return n.jsx(n.Fragment,{children:n.jsxs("div",{className:L("modal"),children:[n.jsxs("div",{className:L("modal-item"),children:[n.jsx(ho,{excludeNoIncome:!0}),a.additionalIncome&&a.additionalIncome!=="no_additional_income"&&n.jsx(uo,{})]}),n.jsx("div",{className:L("modal-buttons"),children:n.jsxs("div",{className:L("buttons"),children:[n.jsx(oo,{title:o("button_back"),handleClick:()=>e(N())}),n.jsx(eo,{type:"submit",isDisabled:!d,onClick:m,size:"full",children:o("button_next_save")})]})})]})})},de=()=>{const{t:o,i18n:_}=P(),{getContent:m}=D("common"),d=F();U.useEffect(()=>{Io()},[_.language]);const[a]=E(),e=a.get("pageId"),h=parseInt(e),c=I(p=>p.modalSlice.isOpenAdditionalIncome),i=I(p=>p.modalSlice.currentId),r=I(p=>{var b;return((b=p.otherBorrowers.otherBorrowers[h-1])==null?void 0:b.additionalIncomeModal)||[]}),w=r.find(p=>p.id===i),x=()=>{d(N())},j=!r.some(p=>p.id===i)?Y(r):i,t={additionalIncome:(w==null?void 0:w.additionalIncome)||"",additionalIncomeAmount:(w==null?void 0:w.additionalIncomeAmount)||null},y=R().shape({additionalIncome:u().required(s("error_select_one_of_the_options","Please select one of the options")).test("not-empty",s("error_select_one_of_the_options","Please select one of the options"),p=>p!=null&&p!==""),additionalIncomeAmount:A().when("additionalIncome",{is:p=>p&&p!=="no_additional_income",then:p=>p.required(s("error_fill_field","Please fill this field")),otherwise:p=>p.notRequired()})});return n.jsx(no,{isVisible:c,onCancel:x,title:`${m("additional_source_of_income_modal_title","Additional Source of Income")} ${j+1}`,children:n.jsx(z,{initialValues:t,validationSchema:y,validateOnMount:!0,onSubmit:p=>{d(jo({id:j,pageId:h,...p})),x()},children:n.jsx(T,{children:n.jsx(ce,{})})})})},me="_modal_r2hy9_1",he="_container_r2hy9_41",ue="_component_r2hy9_47",_e="_buttons_r2hy9_59",pe={modal:me,"modal-item":"_modal-item_r2hy9_18","modal-buttons":"_modal-buttons_r2hy9_23",container:he,component:ue,buttons:_e},$=V.bind(pe),fe=()=>{const{t:o,i18n:_}=P(),{handleSubmit:m,isValid:d,values:a}=M(),e=F(),{obligation:h}=a;return n.jsx(n.Fragment,{children:n.jsxs("div",{className:$("modal"),children:[n.jsxs("div",{className:$("container"),children:[n.jsx(zo,{}),W[h]&&W[h].map((c,i)=>n.jsx("div",{className:$("component"),children:c},i)),n.jsx(O,{})]}),n.jsx("div",{className:$("modal-buttons"),children:n.jsxs("div",{className:$("buttons"),children:[n.jsx(oo,{title:o("button_back"),handleClick:()=>e(N())}),n.jsx(eo,{type:"submit",isDisabled:!d,onClick:m,size:"full",children:o("button_next_save")})]})})]})})};function so(){return R().shape({obligation:u().required(s("error_select_one_of_the_options","Please select one of the options")),bank:u().when("obligation",{is:o=>o&&o!=="no_obligations"&&o!=="other",then:o=>o.required(s("error_select_bank","Please select a bank")),otherwise:o=>o.notRequired()}),monthlyPaymentForAnotherBank:A().when("obligation",{is:o=>o&&o!=="no_obligations"&&o!=="other",then:o=>o.required(s("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),endDate:u().when("obligation",{is:o=>o&&o!=="no_obligations"&&o!=="other",then:o=>o.required(s("error_date","Please enter a valid date")),otherwise:o=>o.notRequired()})})}const be=()=>{const{t:o,i18n:_}=P(),{getContent:m}=D("common"),[d,a]=U.useState(()=>so()),e=F();U.useEffect(()=>{(async()=>{await yo();const q=so();a(q)})()},[_.language]);const[h]=E(),c=h.get("pageId"),i=parseInt(c),r=I(b=>b.modalSlice.isOpenObligation),w=I(b=>b.modalSlice.currentId),x=I(b=>{var q;return((q=b.otherBorrowers.otherBorrowers[i-1])==null?void 0:q.obligationModal)||[]}),f=x.find(b=>b.id===w),j=()=>{e(N())},y=!x.some(b=>b.id===w)?Y(x):w,p={obligation:(f==null?void 0:f.obligation)||"",bank:(f==null?void 0:f.bank)||"",monthlyPaymentForAnotherBank:(f==null?void 0:f.monthlyPaymentForAnotherBank)||null,endDate:(f==null?void 0:f.endDate)||new Date().toISOString().split("T")[0],noIncome:(f==null?void 0:f.noIncome)||new Date().toISOString().split("T")[0]};return n.jsx(no,{isVisible:r,onCancel:j,title:`${m("obligation_modal_title","Obligation")} ${y+1}`,children:n.jsx(z,{initialValues:p,validationSchema:d,validateOnMount:!0,onSubmit:b=>{e(So({id:y,pageId:i,...b})),j()},children:n.jsx(T,{children:n.jsx(fe,{})})})})},we="_modal_1gdud_1",ge="_container_1gdud_41",xe="_component_1gdud_47",Ie="_buttons_1gdud_59",je={modal:we,"modal-item":"_modal-item_1gdud_18","modal-buttons":"_modal-buttons_1gdud_23",container:ge,component:xe,buttons:Ie},k=V.bind(je),Se=()=>{const{t:o,i18n:_}=P(),{handleSubmit:m,isValid:d,values:a}=M(),{mainSourceOfIncome:e}=a,h=F(),c=po("other_borrowers_step2");return n.jsx(n.Fragment,{children:n.jsxs("div",{className:k("modal"),children:[n.jsxs("div",{className:k("container"),children:[n.jsx("div",{className:k("component"),children:n.jsx(_o,{})}),c[e]&&c[e].map((i,r)=>n.jsx("div",{className:k("component"),children:i},r)),n.jsx(O,{})]}),n.jsx("div",{className:k("modal-buttons"),children:n.jsxs("div",{className:k("buttons"),children:[n.jsx(oo,{title:o("button_back"),handleClick:()=>h(N())}),n.jsx(eo,{type:"submit",isDisabled:!d,onClick:m,size:"full",children:o("button_next_save")})]})})]})})},ye=()=>{P();const{getContent:o}=D("common"),_=F(),[m]=E(),d=m.get("pageId"),a=parseInt(d),e=I(t=>t.modalSlice.isOpenSourceOfIncome),h=I(t=>t.modalSlice.currentId),c=I(t=>{var y;return((y=t.otherBorrowers.otherBorrowers[a-1])==null?void 0:y.sourceOfIncomeModal)||[]}),i=c.find(t=>t.id===h),r=()=>{_(N())},x=!c.some(t=>t.id===h)?Y(c):h,f={mainSourceOfIncome:(i==null?void 0:i.mainSourceOfIncome)||"",monthlyIncome:(i==null?void 0:i.monthlyIncome)||null,startDate:(i==null?void 0:i.startDate)||new Date().getTime(),fieldOfActivity:(i==null?void 0:i.fieldOfActivity)||"",profession:(i==null?void 0:i.profession)||"",companyName:(i==null?void 0:i.companyName)||"",amountIncomeCurrentYear:(i==null?void 0:i.amountIncomeCurrentYear)||null},j=R().shape({mainSourceOfIncome:u().required(s("error_select_answer","Please select an answer")),monthlyIncome:A().when("mainSourceOfIncome",{is:t=>t!=null&&t!==""&&!["unpaid_leave","unemployed"].includes(t),then:t=>t.required(s("error_fill_field","Please fill this field")),otherwise:t=>t.notRequired()}),startDate:u().when("mainSourceOfIncome",{is:t=>t!=null&&t!==""&&!["unpaid_leave","unemployed"].includes(t),then:t=>t.required(s("error_date","Please select a date")),otherwise:t=>t.notRequired()}),fieldOfActivity:u().when("mainSourceOfIncome",{is:t=>t!=null&&t!==""&&!["unpaid_leave","unemployed"].includes(t),then:t=>t.required(s("error_select_field_of_activity","Please select field of activity")),otherwise:t=>t.notRequired()}),profession:u().when("mainSourceOfIncome",{is:t=>t!=null&&t!==""&&!["unpaid_leave","unemployed"].includes(t),then:t=>t.required(s("error_fill_field","Please fill this field")),otherwise:t=>t.notRequired()}),companyName:u().when("mainSourceOfIncome",{is:t=>t!=null&&t!==""&&!["unpaid_leave","unemployed"].includes(t),then:t=>t.required(s("error_fill_field","Please fill this field")),otherwise:t=>t.notRequired()})});return n.jsx(no,{isVisible:e,onCancel:r,title:`${o("source_of_income_modal_title","Source of Income")} ${x+1}`,children:n.jsx(z,{initialValues:f,validationSchema:j,validateOnMount:!0,onSubmit:t=>{_(Oo({id:x,pageId:a,...t})),r()},children:n.jsx(T,{children:n.jsx(Se,{})})})})},Oe=({screenLocation:o="other_borrowers_step2"})=>{P();const{getContent:_}=D(o),{values:m,setFieldValue:d,touched:a,errors:e,setFieldTouched:h,setFieldError:c}=M(),i=S=>{if(!S)return!1;const C=S.toLowerCase();return C==="option_1"||C==="no_obligations"||C.includes("no_obligation")||C.includes("no obligation")||C.includes("none")},r=io(o,"obligations","full"),w=io("mortgage_step3","obligations","full"),x="loading"in r,f="loading"in w,j=x?r.options:r,t=f?w.options:w,y=((j==null?void 0:j.length)||0)>1?j:t||[],p=x?r.loading:!1,b=x?r.error:null;console.log("OtherBorrowersObligation debug:",{fieldErrors:e.obligation,fieldTouched:a.obligation,errorShowing:a.obligation&&e.obligation,selectedItem:y==null?void 0:y.find(S=>S.value===m.obligation),screenLocation:o});const q=S=>{console.log("Obligation value changed:",{value:S,willShowBankFields:!i(S)}),d("obligation",S,!1),S&&S!==""&&S!==null&&S!==void 0?(c("obligation",void 0),h("obligation",!0,!1),Promise.resolve().then(()=>{c("obligation",void 0)})):h("obligation",!0,!0)},J=(()=>!(!a.obligation||!e.obligation||m.obligation&&m.obligation!==""&&m.obligation!==null&&m.obligation!==void 0))(),K=_("other_borrowers_obligation_title","other_borrowers_obligation_title"),Q=_("other_borrowers_obligation_placeholder","other_borrowers_obligation_placeholder");return n.jsxs(O,{children:[n.jsx(ee,{title:K,data:y,placeholder:Q,value:m.obligation,onChange:q,onBlur:()=>h("obligation",!0),error:J?e.obligation:!1,disabled:p}),b&&n.jsx(co,{error:_("error_dropdown_load_failed","Failed to load obligations options. Please refresh the page.")})]})},Pe=()=>{const{t:o}=P(),{getContent:_}=D("other_borrowers_step2"),[m]=E(),d=m.get("pageId"),a=parseInt(d),{values:e}=M(),{mainSourceOfIncome:h,additionalIncome:c,obligation:i}=e,r=F(),w=po("other_borrowers_step2"),x=h||"";console.log("OtherBorrowers SecondStep debug:",{incomeSourceKey:x,allFormValues:e}),console.log("SecondStepForm validation completed");const f=I(l=>{var g;return((g=l.otherBorrowers.otherBorrowers[a-1])==null?void 0:g.sourceOfIncomeModal)||[]}),j=I(l=>{var g;return((g=l.otherBorrowers.otherBorrowers[a-1])==null?void 0:g.additionalIncomeModal)||[]}),t=I(l=>{var g;return((g=l.otherBorrowers.otherBorrowers[a-1])==null?void 0:g.obligationModal)||[]}),y=()=>{r(Po())},p=()=>{r(Bo())},b=()=>{r(Fo())},q=(l,g)=>{r(qo({id:l,pageId:g}))},J=(l,g)=>{r(Co({id:l,pageId:g}))},K=(l,g)=>{r(Ao({id:l,pageId:g}))},Q=l=>{r(Do(l))},S=l=>{r(Mo(l))},C=l=>{r(ko(l))};return n.jsxs(bo,{children:[n.jsx(wo,{title:`${_("app.other_borrowers.step2.borrowers_income_title","Borrower's Income")}#${a}`}),n.jsxs(B,{children:[n.jsx(_o,{}),w[x]&&w[x].map((l,g)=>n.jsx(to.Fragment,{children:l},g)),n.jsx(O,{})]}),n.jsx(B,{children:h&&n.jsxs(O,{children:[f&&f.map(l=>n.jsx(G,{onEdit:()=>Q(l.id),onDelete:()=>q(l.id,a),enableEdit:!0,name:`${_("app.other_borrowers.step2.source_of_income_label","Source of Income")} ${l.id+1}`},l.id)),n.jsx(X,{onClick:y,color:"#FBE54D",value:o("add_place_to_work"),variant:"none"})]})}),n.jsx(H,{}),n.jsxs(B,{children:[n.jsx(ho,{screenLocation:"other_borrowers_step2"}),c&&c!=="option_1"&&c!=="1"&&c!=="no_additional_income"&&n.jsx(uo,{}),n.jsx(O,{})]}),c&&c!=="option_1"&&c!=="1"&&c!=="no_additional_income"&&n.jsx(B,{children:n.jsxs(O,{children:[j&&j.map(l=>n.jsx(G,{onEdit:()=>S(l.id),onDelete:()=>J(l.id,a),enableEdit:!0,name:`${o("additional_source_of_income")}${l.id+1}`},l.id)),n.jsx(X,{onClick:p,color:"#FBE54D",value:o("add_additional_source_of_income"),variant:"none"})]})}),n.jsx(H,{}),n.jsxs(B,{children:[n.jsx(Oe,{}),W[i]&&W[i].map((l,g)=>n.jsx(to.Fragment,{children:l},g)),n.jsx(O,{})]}),i&&i!=="option_1"&&i!=="1"&&i!=="no_obligations"&&n.jsx(B,{children:n.jsxs(O,{children:[t&&t.map(l=>n.jsx(G,{onEdit:()=>C(l.id),onDelete:()=>K(l.id,a),enableEdit:!0,name:`${o("obligation")}${l.id+1}`},l.id)),n.jsx(X,{onClick:b,color:"#FBE54D",value:o("add_obligation"),variant:"none"})]})})]})},go=()=>R().shape({mainSourceOfIncome:u().nullable().required(s("error_select_answer","Please select an answer")),monthlyIncome:A().when("mainSourceOfIncome",{is:o=>!["unemployed","unpaid_leave"].includes(o),then:o=>o.required(s("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),startDate:u().when("mainSourceOfIncome",{is:o=>!["unemployed","unpaid_leave","other"].includes(o),then:o=>o.required(s("error_date","Please enter a valid date")),otherwise:o=>o.notRequired()}),fieldOfActivity:u().when("mainSourceOfIncome",{is:o=>o!=null&&o!==""&&!["unemployed","unpaid_leave","other"].includes(o),then:o=>o.required(s("error_select_field_of_activity","Please select field of activity")),otherwise:o=>o.notRequired()}),profession:u().when("mainSourceOfIncome",{is:o=>!["unemployed","unpaid_leave","other"].includes(o),then:o=>o.required(s("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),companyName:u().when("mainSourceOfIncome",{is:o=>!["unemployed","unpaid_leave","other"].includes(o),then:o=>o.required(s("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),additionalIncome:u().required(s("error_select_one_of_the_options","Please select one of the options")),additionalIncomeAmount:A().when("additionalIncome",{is:o=>o!=null&&o!==""&&o!=="option_1"&&o!=="1"&&o!=="no_additional_income",then:o=>o.required(s("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),obligation:u().required(s("error_select_one_of_the_options","Please select one of the options")),bank:u().when("obligation",{is:o=>o!=null&&o!==""&&o!=="option_1"&&o!=="1"&&o!=="no_obligations",then:o=>o.required(s("error_select_bank","Please select a bank")),otherwise:o=>o.notRequired()}),monthlyPaymentForAnotherBank:A().when("obligation",{is:o=>o!=null&&o!==""&&o!=="option_1"&&o!=="1"&&o!=="no_obligations",then:o=>o.required(s("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),endDate:u().when("obligation",{is:o=>o!=null&&o!==""&&o!=="option_1"&&o!=="1"&&o!=="no_obligations",then:o=>o.required(s("error_date","Please enter a valid date")),otherwise:o=>o.notRequired()})});go();const Be=()=>{const o=F(),_=v(),m=ao(),d=I(r=>r.otherBorrowers.otherBorrowersPageId),a=I(r=>r.otherBorrowers.otherBorrowers),e=a.find(r=>r.id===d),c=!a.some(r=>r.id===d)?Y(a):d;m.search.includes(`?pageId=${c}`)||_({pathname:"/services/other-borrowers/2/",search:Z({pageId:String(c)}).toString()});const i={mainSourceOfIncome:(e==null?void 0:e.mainSourceOfIncome)||null,monthlyIncome:(e==null?void 0:e.monthlyIncome)||null,startDate:(e==null?void 0:e.startDate)||new Date().getTime(),fieldOfActivity:(e==null?void 0:e.fieldOfActivity)||"",profession:(e==null?void 0:e.profession)||"",companyName:(e==null?void 0:e.companyName)||"",additionalIncome:(e==null?void 0:e.additionalIncome)||"",additionalIncomeAmount:(e==null?void 0:e.additionalIncomeAmount)||null,obligation:(e==null?void 0:e.obligation)||"",bank:(e==null?void 0:e.bank)||"",monthlyPaymentForAnotherBank:(e==null?void 0:e.monthlyPaymentForAnotherBank)||null,endDate:(e==null?void 0:e.endDate)||new Date().getTime(),amountIncomeCurrentYear:(e==null?void 0:e.amountIncomeCurrentYear)||null,noIncome:(e==null?void 0:e.noIncome)||new Date().getTime(),sourceOfIncomeModal:(e==null?void 0:e.sourceOfIncomeModal)||[],additionalIncomeModal:(e==null?void 0:e.additionalIncomeModal)||[],obligationModal:(e==null?void 0:e.obligationModal)||[]};return n.jsxs(n.Fragment,{children:[n.jsx(z,{initialValues:i,validationSchema:go(),validateOnMount:!0,onSubmit:r=>{o(lo({id:c,newFields:r})),_(-2)},children:n.jsxs(T,{children:[n.jsx(mo,{children:n.jsx(Pe,{})}),n.jsx(fo,{})]})}),n.jsx(ye,{}),n.jsx(de,{}),n.jsx(be,{})]})},Fe=()=>{const{stepNumber:o}=xo(),{t:_,i18n:m}=P(),d=v();if(!I(c=>c.login.isLogin)){d("/");return}const e=[_("calculate_mortgage_anketa"),_("calculate_mortgage_income")];let h;switch(o){case"1":h=n.jsx(ie,{});break;case"2":h=n.jsx(Be,{});break;default:h=n.jsx(No,{type:"NOT_FOUND"});break}return n.jsxs(n.Fragment,{children:[n.jsx(Ro,{progress:o,data:e}),n.jsx(U.Suspense,{fallback:n.jsx(Eo,{}),children:h})]})},tn=Fe;export{tn as OtherBorrowers};
