import{c as Ne,j as e,u as F,a as I,l as Z,m as V,n as _e,d as fe,p as Fe,q as xe,r as ye,t as De,v as je,w as Te,x as Pe,y as Ce,z as Me,A as pe,B as Ee,N as ke}from"./index-4177a278.js";import{r as _,f as Y,b as ge,j as ue,k as Ve}from"./react-vendor-ede63a09.js";import{E as z,D as O,a as ee,A as Ue,T as de,L as we}from"./index-11c2978b.js";import{P as Oe}from"./ProgressBar-aa9ce8c7.js";import{u as H}from"./useContentApi-b91b03b3.js";import{u as G,a as W,f as E,c as g,F as ae,b as se,g as he}from"./form-vendor-f8824fb5.js";import{u as U,i}from"./i18n-vendor-aaeace9f.js";import{V as Ie}from"./VideoPoster-23ba52d7.js";import{S as ne,a as qe,M as Be,U as Ae,A as Ye,F as Le,B as Re,b as $e,c as ze,O as We}from"./SourceOfIncomeModal-6a5a0fce.js";import{M as He,U as A,A as Q}from"./AddButton-4a6baf7c.js";import{I as Ge,c as B}from"./IncreasePayment-b0cfcbb1.js";import{C as c}from"./Column-72d2d8d7.js";import{R as f}from"./Row-3958d7dc.js";import{D as $}from"./DropdownMenu-fd1aa6c7.js";import{F as Je}from"./FormattedInput-f7e188b9.js";import{F as re}from"./FormCaption-110ce422.js";import{F as te}from"./FormContainer-0d3deca3.js";import{D as me}from"./DoubleButtons-4d6411d2.js";import{R as Ke}from"./RowTwo-20c7ee22.js";import{B as Qe,P as Xe,A as Ze}from"./PartnerPayMortgage-1456e095.js";import{N as ea,B as aa,E as sa,A as ra,T as ta,C as ia,M as oa,I as la,P as na}from"./Taxes-0067a7b7.js";import{C as ma,a as ca,H as pa}from"./HowMuchChildrens-806fe4fa.js";import{F as ga}from"./FamilyStatus-1d16c544.js";import{I as ua}from"./Info-22d5ad50.js";import{M as da,c as be,A as ha,a as ba,O as Sa,b as Se,g as le}from"./componentsByIncomeSource-d11357ab.js";import"./state-vendor-c4e6020a.js";import"./ui-vendor-d73673ed.js";import"./utils-vendor-dcc8b708.js";import"./components-vendor-632ebedf.js";import"./MortgageParameters-fd32eaae.js";import"./PercentIcon-89ee541b.js";import"./Control-925ba96c.js";import"./Calendar-5fa20bd3.js";import"./ShieldCheckIcon-a557fc37.js";const va="_image_1435f_1",Na={image:va,"inner-div":"_inner-div_1435f_8","bold-text":"_bold-text_1435f_16"},X=Ne.bind(Na),_a=()=>{const{t:a,i18n:t}=U(),{values:s}=G(),n=(s.priceOfEstate-s.initialFee).toLocaleString("en-US"),p=Math.trunc((s.priceOfEstate-s.initialFee)/s.priceOfEstate*100);return e.jsxDEV(He,{style:{marginTop:"2px"},children:[e.jsxDEV("span",{className:X("margin-sides"),children:a("calc_mortrage_subtext_1")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/ContextButtons/InitialFeeContext/InitialFeeContext.tsx",lineNumber:26,columnNumber:7},globalThis),e.jsxDEV("b",{className:X("bold-text"),children:[n," â‚ª"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/ContextButtons/InitialFeeContext/InitialFeeContext.tsx",lineNumber:27,columnNumber:7},globalThis),e.jsxDEV("br",{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/ContextButtons/InitialFeeContext/InitialFeeContext.tsx",lineNumber:28,columnNumber:7},globalThis),e.jsxDEV("span",{className:X("margin-sides"),children:a("calc_mortrage_subtext_3")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/ContextButtons/InitialFeeContext/InitialFeeContext.tsx",lineNumber:29,columnNumber:7},globalThis),e.jsxDEV("b",{className:X("bold-text"),children:[isNaN(p)||p<0?0:p,"%"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/ContextButtons/InitialFeeContext/InitialFeeContext.tsx",lineNumber:30,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/ContextButtons/InitialFeeContext/InitialFeeContext.tsx",lineNumber:25,columnNumber:5},globalThis)};function fa(){const[a,t]=_.useState(51130),[s,n]=_.useState(2654),[p,u]=_.useState({min:4,max:30}),{t:l,i18n:ie}=U(),{setFieldValue:P,values:d,errors:x}=G(),T=F(h=>h.activeField),q=I();_.useEffect(()=>{(async()=>{var S,D,M,C,o,N;try{const b=await B.getAllParameters("mortgage"),v=((M=(D=(S=b.standards)==null?void 0:S.loan_terms)==null?void 0:D.min_years)==null?void 0:M.value)||4,r=((N=(o=(C=b.standards)==null?void 0:C.loan_terms)==null?void 0:o.max_years)==null?void 0:N.value)||30;u({min:v,max:r})}catch(b){console.error("âŒ Error fetching loan term limits:",b)}})()},[]);const y=h=>{q(Z("period")),P("period",h)},m=h=>{q(Z("monthlyPayment")),P("monthlyPayment",h)};return _.useEffect(()=>{(async()=>{try{if(T==="period"){const S=await B.calculateMortgagePayment(d.priceOfEstate,d.initialFee,d.period);Number.isNaN(S)||P("monthlyPayment",S)}else{const S=await B.calculateLoanPeriod(d.priceOfEstate,d.initialFee,d.monthlyPayment);Number.isNaN(S)||P("period",S)}}catch(S){console.error("âŒ Error calculating mortgage values:",S)}})()},[T,P,d.initialFee,d.monthlyPayment,d.period,d.priceOfEstate]),_.useLayoutEffect(()=>{(async()=>{var S,D,M,C,o,N;try{const b=await B.calculateMortgagePayment(d.priceOfEstate,d.initialFee,p.min),v=await B.calculateMortgagePayment(d.priceOfEstate,d.initialFee,p.max);Number.isNaN(b)||t(b),b===0&&t(1),Number.isNaN(v)||n(v)}catch(b){console.error("âŒ Error calculating payment limits:",b);try{const v=await B.getAllParameters("mortgage"),r=((M=(D=(S=v.standards)==null?void 0:S.payment_limits)==null?void 0:D.default_max)==null?void 0:M.value)||51130,j=((N=(o=(C=v.standards)==null?void 0:C.payment_limits)==null?void 0:o.default_min)==null?void 0:N.value)||2654;t(r),n(j)}catch(v){console.error("âŒ Even database fallback failed:",v),t(51130),n(2654)}}})()},[d.initialFee,d.priceOfEstate,p]),e.jsxDEV(f,{children:[e.jsxDEV(c,{children:[e.jsxDEV(ne,{disableCurrency:!0,unitsMax:l("calculate_mortgage_period_units_max"),unitsMin:l("calculate_mortgage_period_units_min"),value:d.period,name:"Period",min:p.min,max:p.max,error:x.period,title:l("calculate_mortgage_period"),handleChange:y},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/CreditParams.tsx",lineNumber:143,columnNumber:9},this),x.period&&e.jsxDEV(z,{error:x.period},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/CreditParams.tsx",lineNumber:155,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/CreditParams.tsx",lineNumber:142,columnNumber:7},this),e.jsxDEV(c,{children:[e.jsxDEV(ne,{unitsMax:"â‚ª",unitsMin:"â‚ª",name:"MonthlyPayment",min:s,max:a,error:x.monthlyPayment,title:l("calculate_mortgage_initial_payment"),handleChange:m,value:d.monthlyPayment},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/CreditParams.tsx",lineNumber:158,columnNumber:9},this),e.jsxDEV(Ge,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/CreditParams.tsx",lineNumber:169,columnNumber:9},this),x.monthlyPayment&&e.jsxDEV(z,{error:x.monthlyPayment},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/CreditParams.tsx",lineNumber:170,columnNumber:35},this)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/CreditParams.tsx",lineNumber:157,columnNumber:7},this),e.jsxDEV(c,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/CreditParams.tsx",lineNumber:172,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/CreditParams.tsx",lineNumber:141,columnNumber:5},this)}const Fa=()=>{const{t:a,i18n:t}=U(),s=I(),[n,p]=_.useState([]),[u,l]=_.useState({}),[ie,P]=_.useState(!0);_.useEffect(()=>{const o=async()=>{try{const v=await(await fetch(`/api/get-cities?lang=${t.language}`)).json();if(v.status==="success"){const r=v.data.map(j=>({value:j.value,label:j.name}));p(r)}else console.error("Failed to fetch cities:",v.message)}catch(b){console.error("Error fetching cities:",b)}},N=async()=>{var b,v,r,j,J,K,ce;try{P(!0);const oe=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://localhost:8003/api":"https://bankdev2standalone-production.up.railway.app/api",k=await(await fetch(`${oe}/v1/calculation-parameters?business_path=mortgage`)).json();if(k.status==="success"&&k.data.property_ownership_ltvs){const w={};Object.keys(k.data.property_ownership_ltvs).forEach(R=>{w[R]=k.data.property_ownership_ltvs[R].ltv/100}),l(w),console.info("âœ… LTV ratios loaded from database:",w)}else if(k.status==="error"&&((b=k.data)!=null&&b.property_ownership_ltvs)){const w={};Object.keys(k.data.property_ownership_ltvs).forEach(R=>{w[R]=k.data.property_ownership_ltvs[R].ltv/100}),l(w),console.info("ðŸ“‹ Using fallback LTV ratios (database connection issue):",w)}else throw new z("No LTV data in response")}catch(oe){console.warn("âš ï¸ Error fetching LTV ratios from calculation parameters API:",oe.message),console.info("ðŸ“‹ Using calculationService fallback values");try{const L=await calculationService.getAllParameters("mortgage");l({no_property:((r=(v=L.property_ownership_ltvs)==null?void 0:v.no_property)==null?void 0:r.ltv)/100||.75,has_property:((J=(j=L.property_ownership_ltvs)==null?void 0:j.has_property)==null?void 0:J.ltv)/100||.5,selling_property:((ce=(K=L.property_ownership_ltvs)==null?void 0:K.selling_property)==null?void 0:ce.ltv)/100||.7})}catch{console.warn("ðŸš¨ CRITICAL: Even calculationService failed, using hardcoded emergency values"),l({no_property:.75,has_property:.5,selling_property:.7})}}finally{P(!1)}};o(),N()},[t.language]);const d=_.useMemo(()=>[{value:"1",label:a("calculate_mortgage_when_options_1")},{value:"2",label:a("calculate_mortgage_when_options_2")},{value:"3",label:a("calculate_mortgage_when_options_3")},{value:"4",label:a("calculate_mortgage_when_options_4")}],[a]),x=_.useMemo(()=>[{value:"1",label:a("calculate_mortgage_type_options_1")},{value:"2",label:a("calculate_mortgage_type_options_2")},{value:"3",label:a("calculate_mortgage_type_options_3")},{value:"4",label:a("calculate_mortgage_type_options_4")}],[a]),T=_.useMemo(()=>[{value:"1",label:a("calculate_mortgage_first_options_1")},{value:"2",label:a("calculate_mortgage_first_options_2")},{value:"3",label:a("calculate_mortgage_first_options_3")}],[a]),q=_.useMemo(()=>[{value:"no_property",label:a("calculate_mortgage_property_ownership_option_1")},{value:"has_property",label:a("calculate_mortgage_property_ownership_option_2")},{value:"selling_property",label:a("calculate_mortgage_property_ownership_option_3")}],[a]),{setFieldValue:y,values:m,errors:h,touched:S,setFieldTouched:D}=G(),M=(o,N)=>{if(!o||o===0)return 1;const b=u[N]||u.no_property||.75;return o*b},C=(o,N)=>{if(!o||o===0)return 0;const b=M(o,N);return o-b};return _.useEffect(()=>{if(m.propertyOwnership&&m.priceOfEstate){const o=C(m.priceOfEstate,m.propertyOwnership),N=m.priceOfEstate;m.initialFee<o?(console.log(`[PROPERTY-OWNERSHIP] Adjusting initial payment from ${m.initialFee} to ${o} (min for ${m.propertyOwnership})`),y("initialFee",o)):m.initialFee>N&&(console.log(`[PROPERTY-OWNERSHIP] Adjusting initial payment from ${m.initialFee} to ${N} (max)`),y("initialFee",N))}},[m.propertyOwnership,m.priceOfEstate,m.initialFee,y]),e.jsxDEV(e.Fragment,{children:e.jsxDEV(te,{children:[e.jsxDEV(re,{title:a("calculate_mortgage_title")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:180,columnNumber:9},globalThis),e.jsxDEV(f,{children:[e.jsxDEV(c,{children:[e.jsxDEV(Je,{handleChange:o=>{s(Z("period")),y("priceOfEstate",o)},name:"PriceOfEstate",title:a("calculate_mortgage_price"),value:m.priceOfEstate,placeholder:"1,000,000",error:h.priceOfEstate},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:183,columnNumber:13},globalThis),h.priceOfEstate&&e.jsxDEV(z,{error:h.priceOfEstate},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:194,columnNumber:38},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:182,columnNumber:11},globalThis),e.jsxDEV(c,{children:e.jsxDEV($,{title:a("calculate_mortgage_city"),data:n,placeholder:a("city"),value:m.cityWhereYouBuy,onChange:o=>y("cityWhereYouBuy",o),onBlur:()=>D("cityWhereYouBuy",!0),searchable:!0,searchPlaceholder:a("search"),nothingFoundText:a("nothing_found"),error:S.cityWhereYouBuy&&h.cityWhereYouBuy},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:197,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:196,columnNumber:11},globalThis),e.jsxDEV(c,{children:e.jsxDEV($,{title:a("calculate_mortgage_when"),data:d,placeholder:a("calculate_mortgage_when_options_ph"),value:m.whenDoYouNeedMoney,onChange:o=>y("whenDoYouNeedMoney",o),onBlur:()=>D("whenDoYouNeedMoney",!0),error:S.whenDoYouNeedMoney&&h.whenDoYouNeedMoney},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:211,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:210,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:181,columnNumber:9},globalThis),e.jsxDEV(f,{children:[e.jsxDEV(c,{children:[e.jsxDEV(ne,{name:"InitialFee",value:m.initialFee,min:C(m.priceOfEstate,m.propertyOwnership),max:m.priceOfEstate||1,title:a("calculate_mortgage_initial_fee"),handleChange:o=>{s(Z("period")),y("initialFee",o)},tooltip:a("initial_payment_tooltip"),error:h.initialFee,disableRangeValues:!0},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:225,columnNumber:13},globalThis),e.jsxDEV(_a,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:239,columnNumber:13},globalThis),h.initialFee&&e.jsxDEV(z,{error:h.initialFee},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:240,columnNumber:35},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:224,columnNumber:11},globalThis),e.jsxDEV(c,{children:e.jsxDEV($,{title:a("calculate_mortgage_type"),data:x,placeholder:a("calculate_mortgage_type_ph"),value:m.typeSelect,onChange:o=>y("typeSelect",o),onBlur:()=>D("typeSelect",!0),error:S.typeSelect&&h.typeSelect},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:243,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:242,columnNumber:11},globalThis),e.jsxDEV(c,{children:e.jsxDEV($,{title:a("calculate_mortgage_first"),data:T,placeholder:a("calculate_mortgage_first_ph"),value:m.willBeYourFirst,onChange:o=>y("willBeYourFirst",o),onBlur:()=>D("willBeYourFirst",!0),error:S.willBeYourFirst&&h.willBeYourFirst},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:254,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:253,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:223,columnNumber:9},globalThis),e.jsxDEV(f,{children:[e.jsxDEV(c,{children:e.jsxDEV($,{title:a("calculate_mortgage_property_ownership"),data:q,placeholder:a("calculate_mortgage_property_ownership_ph"),value:m.propertyOwnership,onChange:o=>y("propertyOwnership",o),onBlur:()=>D("propertyOwnership",!0),error:S.propertyOwnership&&h.propertyOwnership},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:268,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:267,columnNumber:11},globalThis),e.jsxDEV(c,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:278,columnNumber:11},globalThis),e.jsxDEV(c,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:279,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:266,columnNumber:9},globalThis),e.jsxDEV(O,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:282,columnNumber:9},globalThis),e.jsxDEV(fa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:283,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:179,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:178,columnNumber:5},globalThis)},xa=W().shape({priceOfEstate:E().max(1e7,i.t("error_max_price")).required(i.t("error_property_value_required")),cityWhereYouBuy:g().required(i.t("error_city_required")),whenDoYouNeedMoney:g().required(i.t("error_when_need_mortgage")),initialFee:E().test("initial-payment-percentage",i.t("error_initial_fee"),function(a){const t=this.parent.priceOfEstate||0;return ya(t,a)}).required(i.t("error_initial_payment_required")),typeSelect:g().required(i.t("error_mortgage_type_required")),willBeYourFirst:g().required(i.t("error_first_home_required")),propertyOwnership:g().required(i.t("error_property_ownership_required")),period:E().min(4,i.t("error_min_period")).max(30,i.t("error_max_period")).required(i.t("error_period_required")),monthlyPayment:E().min(2654,i.t("error_min_monthly_payment")).required(i.t("error_monthly_payment_required"))});function ya(a,t){const s=a*.25;return typeof t>"u"?!1:t>=s}const Da=()=>{U();const{getContent:a}=H("mortgage_calculation"),t=I(),s=Y(),n=F(l=>l.mortgage),p=F(l=>l.login.isLogin),u={priceOfEstate:n.priceOfEstate||1e6,cityWhereYouBuy:n.cityWhereYouBuy||"",whenDoYouNeedMoney:n.whenDoYouNeedMoney||"",initialFee:n.initialFee||5e5,typeSelect:n.typeSelect||"",willBeYourFirst:n.willBeYourFirst||"",propertyOwnership:n.propertyOwnership||"",period:n.period||4,monthlyPayment:n.monthlyPayment||11514};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{initialValues:u,validationSchema:xa,validateOnMount:!0,onSubmit:l=>{t(V(l)),p?s("/services/calculate-mortgage/2"):(t(_e()),t(fe("phoneVerification")))},children:e.jsxDEV(se,{children:[e.jsxDEV(ee,{children:[e.jsxDEV(Ie,{title:a("video_calculate_mortgage_title","video_calculate_mortgage_title"),text:a("show_offers","show_offers"),size:"small"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStep.tsx",lineNumber:102,columnNumber:13},globalThis),e.jsxDEV(Fa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStep.tsx",lineNumber:107,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStep.tsx",lineNumber:101,columnNumber:11},globalThis),e.jsxDEV(qe,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStep.tsx",lineNumber:109,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStep.tsx",lineNumber:100,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStep.tsx",lineNumber:86,columnNumber:7},globalThis),e.jsxDEV(Be,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStep.tsx",lineNumber:112,columnNumber:7},globalThis),e.jsxDEV(Ue,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStep.tsx",lineNumber:113,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/FirstStep.tsx",lineNumber:85,columnNumber:5},globalThis)},ja=()=>{U();const{getContent:a}=H("mortgage_step4"),t=F(n=>n.login.loginData),s=F(n=>n.mortgage);return e.jsxDEV(te,{children:[e.jsxDEV(re,{title:a("calculate_mortgage_final","calculate_mortgage_final")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:22,columnNumber:7},globalThis),e.jsxDEV(Ae,{cost:s.priceOfEstate,initialPayment:s.initialFee,period:s.period,nameSurname:t==null?void 0:t.nameSurname,phoneNumber:t==null?void 0:t.phoneNumber},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:23,columnNumber:7},globalThis),e.jsxDEV(Ye,{text:a("calculate_mortgage_warning","calculate_mortgage_warning")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:30,columnNumber:7},globalThis),e.jsxDEV(f,{children:e.jsxDEV(Le,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:32,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:31,columnNumber:7},globalThis),e.jsxDEV(Re,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:34,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:21,columnNumber:5},globalThis)},Ta={selectedBank:"",selectedOffer:null},Pa=W().shape({selectedBank:g(),selectedOffer:W().nullable()}),Ca=()=>{const a=I(),t=Y();return F(s=>s.login.loginData),F(s=>s.login.isAuthenticated),e.jsxDEV(ae,{initialValues:Ta,validationSchema:Pa,validateOnMount:!0,onSubmit:s=>{console.log("Saving mortgage data and proceeding...",s),a(V(s)),console.log("Proceeding to application submission (auth bypassed for testing)"),t("/services/application-submitted")},children:e.jsxDEV(se,{children:[e.jsxDEV(ee,{children:e.jsxDEV(ja,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FourthStep/FourthStep.tsx",lineNumber:56,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FourthStep/FourthStep.tsx",lineNumber:55,columnNumber:9},globalThis),e.jsxDEV(me,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FourthStep/FourthStep.tsx",lineNumber:58,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FourthStep/FourthStep.tsx",lineNumber:54,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FourthStep/FourthStep.tsx",lineNumber:29,columnNumber:5},globalThis)},Ma=()=>{U();const{getContent:a}=H("mortgage_step2"),{values:t}=G(),s=F(n=>n.login.loginData);return e.jsxDEV(e.Fragment,{children:e.jsxDEV(te,{children:[e.jsxDEV(re,{title:a("calculate_mortgage_step2_title","calculate_mortgage_step2_title")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:44,columnNumber:9},globalThis),e.jsxDEV(Ke,{children:[e.jsxDEV(ua,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:46,columnNumber:11},globalThis),e.jsxDEV(A,{name:s==null?void 0:s.nameSurname,phone:s==null?void 0:s.phoneNumber},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:47,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:45,columnNumber:9},globalThis),e.jsxDEV(f,{children:[e.jsxDEV(ea,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:53,columnNumber:11},globalThis),e.jsxDEV(aa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:54,columnNumber:11},globalThis),e.jsxDEV(sa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:55,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:52,columnNumber:9},globalThis),e.jsxDEV(f,{children:[e.jsxDEV(c,{style:{gap:"2rem"},children:[e.jsxDEV(ra,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:59,columnNumber:13},globalThis),t.additionalCitizenships==="yes"&&e.jsxDEV(ma,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:61,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:58,columnNumber:11},globalThis),e.jsxDEV(c,{style:{gap:"2rem"},children:[e.jsxDEV(ta,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:65,columnNumber:13},globalThis),t.taxes==="yes"&&e.jsxDEV(ca,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:66,columnNumber:40},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:64,columnNumber:11},globalThis),e.jsxDEV(c,{style:{gap:"2rem"},children:[e.jsxDEV(ia,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:69,columnNumber:13},globalThis),t.childrens==="yes"&&e.jsxDEV(pa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:70,columnNumber:44},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:68,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:57,columnNumber:9},globalThis),e.jsxDEV(O,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:74,columnNumber:9},globalThis),e.jsxDEV(f,{children:[e.jsxDEV(oa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:76,columnNumber:11},globalThis),e.jsxDEV(la,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:77,columnNumber:11},globalThis),e.jsxDEV(na,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:78,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:75,columnNumber:9},globalThis),e.jsxDEV(O,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:81,columnNumber:9},globalThis),e.jsxDEV(f,{children:[e.jsxDEV(Qe,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:84,columnNumber:11},globalThis),e.jsxDEV(c,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:85,columnNumber:11},globalThis),e.jsxDEV(c,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:86,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:83,columnNumber:9},globalThis),e.jsxDEV(O,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:89,columnNumber:9},globalThis),e.jsxDEV(f,{children:[e.jsxDEV(ga,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:92,columnNumber:11},globalThis),e.jsxDEV(c,{children:t.familyStatus==="option_2"&&e.jsxDEV(Xe,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:94,columnNumber:52},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:93,columnNumber:11},globalThis),e.jsxDEV(c,{children:t.partnerPayMortgage==="yes"&&t.familyStatus==="option_2"&&e.jsxDEV(Ze,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:98,columnNumber:53},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:96,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:91,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:43,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:42,columnNumber:5},globalThis)},ve=()=>W().shape({nameSurname:g().required(i.t("error_name_surname")),birthday:g().required(i.t("error_date")),education:g().required(i.t("error_education_required")),additionalCitizenships:g().required(i.t("error_citizenship_required")),citizenshipsDropdown:he().when("additionalCitizenships",{is:"yes",then:a=>a.min(1,i.t("error_citizenship_countries_required")),otherwise:a=>a.min(0)}),taxes:g().required(i.t("error_taxes_required")),countriesPayTaxes:he().when("taxes",{is:"yes",then:a=>a.min(1,i.t("error_tax_countries_required")),otherwise:a=>a.min(0)}),childrens:g().required(i.t("error_children_required")),howMuchChildrens:E().required(i.t("error_children_count_required")),medicalInsurance:g().required(i.t("error_medical_insurance_required")),isForeigner:g().required(i.t("error_foreigner_required")),publicPerson:g().required(i.t("error_public_person_required")),borrowers:E().min(1,i.t("error_quantity_borrowers")).required(i.t("error_quantity_borrowers")),familyStatus:g().required(i.t("error_family_status_required")),partnerPayMortgage:g().when("familyStatus",{is:i.t("calculate_mortgage_family_status_option_2"),then:a=>a.required(i.t("error_partner_mortgage_required")),otherwise:a=>a.notRequired()})});ve();const Ea=()=>{const a=I(),t=Y(),s=F(u=>u.mortgage),p={nameSurname:F(u=>u.login.loginData).nameSurname||s.nameSurname||"",birthday:s.birthday||new Date(new Date().setFullYear(new Date().getFullYear()-18)).getTime(),education:s.education||"",additionalCitizenships:s.additionalCitizenships||null,citizenshipsDropdown:s.citizenshipsDropdown||[],taxes:s.taxes||null,countriesPayTaxes:s.countriesPayTaxes||[],childrens:s.childrens||null,howMuchChildrens:s.howMuchChildrens||1,medicalInsurance:s.medicalInsurance||null,isForeigner:s.isForeigner||null,publicPerson:s.publicPerson||null,borrowers:s.borrowers||null,familyStatus:s.familyStatus||"",partnerPayMortgage:s.partnerPayMortgage||null,addPartner:s.addPartner||""};return e.jsxDEV(ae,{initialValues:p,validationSchema:ve(),validateOnMount:!0,onSubmit:u=>{a(V(u)),t("/services/calculate-mortgage/3")},children:e.jsxDEV(se,{children:[e.jsxDEV(ee,{children:e.jsxDEV(Ma,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStep.tsx",lineNumber:52,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStep.tsx",lineNumber:51,columnNumber:9},globalThis),e.jsxDEV(me,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStep.tsx",lineNumber:54,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStep.tsx",lineNumber:50,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/SecondStep/SecondStep.tsx",lineNumber:41,columnNumber:5},globalThis)},ka=()=>{U();const{getContent:a}=H("mortgage_step3"),t=Y(),{values:s}=G(),{mainSourceOfIncome:n,additionalIncome:p,obligation:u}=s,l=I(),ie=F(r=>r.borrowers.sourceOfIncomeModal),P=F(r=>r.borrowers.additionalIncomeModal),d=F(r=>r.borrowers.obligationModal),x=F(r=>r.otherBorrowers.otherBorrowers),T=F(r=>r.login.loginData),q=()=>{l(V(s)),l(Fe())},y=()=>{l(V(s)),l(xe())},m=()=>{l(V(s)),l(ye())},h=r=>{l(De({id:r}))},S=r=>{l(je({id:r}))},D=r=>{l(Te({id:r}))},M=r=>{l(Pe(r))},C=r=>{l(Ce(r))},o=r=>{l(Me(r))},N=r=>{l(pe(r));const J=!x.some(K=>K.id===r)?le(x):r;t({pathname:"/services/other-borrowers/1/",search:ue({pageId:String(J)}).toString()})},b=()=>{l(pe(le(x))),l(V(s)),t({pathname:"/services/other-borrowers/1/",search:ue({pageId:le(x).toString()}).toString()})},v=r=>{l(Ee(r))};return e.jsxDEV(te,{children:[e.jsxDEV(re,{title:a("calculate_mortgage_step3_title","calculate_mortgage_step3_title")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:145,columnNumber:7},globalThis),e.jsxDEV(A,{name:T==null?void 0:T.nameSurname,phone:T==null?void 0:T.phoneNumber},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:147,columnNumber:7},globalThis),e.jsxDEV(f,{children:[e.jsxDEV(da,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:153,columnNumber:9},globalThis),be[n]&&be[n].map((r,j)=>e.jsxDEV(ge.Fragment,{children:r},j,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:157,columnNumber:15},globalThis))]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:152,columnNumber:7},globalThis),e.jsxDEV(f,{children:e.jsxDEV(c,{children:n&&e.jsxDEV(e.Fragment,{children:[ie.map(r=>e.jsxDEV(A,{onEdit:()=>M(r.id),onDelete:()=>h(r.id),enableEdit:!0,name:`${a("source_of_income","source_of_income")}${r.id+1}`},r.id,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:166,columnNumber:17},globalThis)),e.jsxDEV(Q,{onClick:q,color:"#FBE54D",value:a("add_place_to_work","add_place_to_work"),variant:"none"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:174,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:164,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:162,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:161,columnNumber:7},globalThis),e.jsxDEV(O,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:185,columnNumber:7},globalThis),e.jsxDEV(f,{children:[e.jsxDEV(ha,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:188,columnNumber:9},globalThis),p&&p!=="option_1"&&e.jsxDEV(ba,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:190,columnNumber:11},globalThis),e.jsxDEV(c,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:192,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:187,columnNumber:7},globalThis),p&&p!=="option_1"&&e.jsxDEV(f,{children:e.jsxDEV(c,{children:[P.map(r=>e.jsxDEV(A,{onEdit:()=>C(r.id),onDelete:()=>S(r.id),enableEdit:!0,name:`${a("additional_source_of_income","additional_source_of_income")}${r.id+1}`},r.id,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:199,columnNumber:15},globalThis)),e.jsxDEV(Q,{onClick:y,color:"#FBE54D",value:a("add_additional_source_of_income","add_additional_source_of_income"),variant:"none"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:207,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:197,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:196,columnNumber:9},globalThis),e.jsxDEV(O,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:217,columnNumber:7},globalThis),e.jsxDEV(f,{children:[e.jsxDEV(Sa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:220,columnNumber:9},globalThis),Se[u]&&Se[u].map((r,j)=>e.jsxDEV(ge.Fragment,{children:r},j,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:223,columnNumber:13},globalThis)),e.jsxDEV(c,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:225,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:219,columnNumber:7},globalThis),u&&u!=="option_1"&&e.jsxDEV(f,{children:e.jsxDEV(c,{children:[d.map(r=>e.jsxDEV(A,{onEdit:()=>o(r.id),onDelete:()=>D(r.id),enableEdit:!0,name:`${a("obligation","obligation")}${r.id+1}`},r.id,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:232,columnNumber:15},globalThis)),e.jsxDEV(Q,{onClick:m,color:"#FBE54D",value:a("add_obligation","add_obligation"),variant:"none"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:240,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:230,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:229,columnNumber:9},globalThis),e.jsxDEV(O,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:250,columnNumber:7},globalThis),e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[x&&e.jsxDEV(de,{title:a("borrower","borrower")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:252,columnNumber:28},globalThis),e.jsxDEV(f,{style:{columnGap:"2rem"},children:[x.map(r=>e.jsxDEV(c,{children:e.jsxDEV(A,{onEdit:()=>N(r.id),onDelete:()=>v(r.id),enableEdit:!0,name:r.nameSurname},r.id,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:256,columnNumber:15},globalThis)},r.id,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:255,columnNumber:13},globalThis)),!x&&e.jsxDEV(de,{title:a("borrower","borrower")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:265,columnNumber:31},globalThis),e.jsxDEV(c,{children:e.jsxDEV(Q,{value:a("add_borrower","add_borrower"),onClick:b,style:{height:"3.5rem",borderRadius:"0.25rem",padding:"0",width:"13.125rem"}},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:267,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:266,columnNumber:11},globalThis),e.jsxDEV(c,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:278,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:253,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:251,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:144,columnNumber:5},globalThis)},Va=W().shape({mainSourceOfIncome:g().required(i.t("error_select_answer")),monthlyIncome:E().when("mainSourceOfIncome",{is:a=>!["option_5","option_6"].includes(a),then:a=>a.required(i.t("error_fill_field")),otherwise:a=>a.notRequired()}),startDate:g().when("mainSourceOfIncome",{is:a=>!["option_5","option_6"].includes(a),then:a=>a.required(i.t("error_date")),otherwise:a=>a.notRequired()}),fieldOfActivity:g().when("mainSourceOfIncome",{is:a=>a!=null&&a!==""&&!["option_5","option_6"].includes(a),then:a=>a.required(i.t("error_select_field_of_activity")),otherwise:a=>a.notRequired()}),profession:g().when("mainSourceOfIncome",{is:a=>!["option_5","option_6"].includes(a),then:a=>a.required(i.t("error_fill_field")),otherwise:a=>a.notRequired()}),companyName:g().when("mainSourceOfIncome",{is:a=>!["option_5","option_6"].includes(a),then:a=>a.required(i.t("error_fill_field")),otherwise:a=>a.notRequired()}),additionalIncome:g().required(i.t("error_select_one_of_the_options")),additionalIncomeAmount:E().when("additionalIncome",{is:a=>a!=null&&a!==""&&a!=="option_1",then:a=>a.required(i.t("error_fill_field")),otherwise:a=>a.notRequired()}),obligation:g().required(i.t("error_select_one_of_the_options")),bank:g().when("obligation",{is:a=>a!=null&&a!==""&&a!=="option_1",then:a=>a.required(i.t("error_select_bank")),otherwise:a=>a.notRequired()}),monthlyPaymentForAnotherBank:E().when("obligation",{is:a=>a!=null&&a!==""&&a!=="option_1",then:a=>a.required(i.t("error_fill_field")),otherwise:a=>a.notRequired()}),endDate:g().when("obligation",{is:a=>a!=null&&a!==""&&a!=="option_1",then:a=>a.required(i.t("error_date")),otherwise:a=>a.notRequired()})}),Ua=()=>{const a=I(),t=Y(),s=F(p=>p.mortgage),n={mainSourceOfIncome:s.mainSourceOfIncome||"",monthlyIncome:s.monthlyIncome||null,startDate:s.startDate||new Date().getTime(),fieldOfActivity:s.fieldOfActivity||"",profession:s.profession||"",companyName:s.companyName||"",additionalIncome:s.additionalIncome||"",additionalIncomeAmount:s.additionalIncomeAmount||null,obligation:s.obligation||"option_1",bank:s.bank||"",monthlyPaymentForAnotherBank:s.monthlyPaymentForAnotherBank||null,endDate:s.endDate||new Date().getTime(),amountIncomeCurrentYear:s.amountIncomeCurrentYear||null,noIncome:s.noIncome||new Date().getTime()};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(ae,{initialValues:n,validationSchema:Va,validateOnMount:!0,onSubmit:p=>{a(V(p)),t("/services/calculate-mortgage/4")},children:e.jsxDEV(se,{children:[e.jsxDEV(ee,{children:e.jsxDEV(ka,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStep.tsx",lineNumber:52,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStep.tsx",lineNumber:51,columnNumber:11},globalThis),e.jsxDEV(me,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStep.tsx",lineNumber:54,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStep.tsx",lineNumber:50,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStep.tsx",lineNumber:41,columnNumber:7},globalThis),e.jsxDEV($e,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStep.tsx",lineNumber:57,columnNumber:7},globalThis),e.jsxDEV(ze,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStep.tsx",lineNumber:58,columnNumber:7},globalThis),e.jsxDEV(We,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStep.tsx",lineNumber:59,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/ThirdStep/ThirdStep.tsx",lineNumber:40,columnNumber:5},globalThis)},wa=()=>{const{stepNumber:a}=Ve();U();const{getContent:t}=H("mortgage_calculation"),s=Y(),n=F(l=>l.login.isLogin);_.useEffect(()=>{!n&&a!=="1"&&s("/services/calculate-mortgage/1")},[n,a,s]);const p=[t("mobile_step_1","mobile_step_1"),t("mobile_step_2","mobile_step_2"),t("mobile_step_3","mobile_step_3"),t("mobile_step_4","mobile_step_4")];let u;switch(a){case"1":u=e.jsxDEV(Da,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/CalculateMortgage.tsx",lineNumber:41,columnNumber:23},globalThis);break;case"2":u=e.jsxDEV(Ea,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/CalculateMortgage.tsx",lineNumber:44,columnNumber:23},globalThis);break;case"3":u=e.jsxDEV(Ua,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/CalculateMortgage.tsx",lineNumber:47,columnNumber:23},globalThis);break;case"4":u=e.jsxDEV(Ca,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/CalculateMortgage.tsx",lineNumber:50,columnNumber:23},globalThis);break;default:u=e.jsxDEV(ke,{type:"NOT_FOUND"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/CalculateMortgage.tsx",lineNumber:53,columnNumber:23},globalThis);break}return e.jsxDEV(e.Fragment,{children:[a!=="4"&&e.jsxDEV(Oe,{progress:a,data:p},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/CalculateMortgage.tsx",lineNumber:59,columnNumber:30},globalThis),e.jsxDEV(_.Suspense,{fallback:e.jsxDEV(we,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/CalculateMortgage.tsx",lineNumber:60,columnNumber:27},globalThis),children:u},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/CalculateMortgage.tsx",lineNumber:60,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/CalculateMortgage.tsx",lineNumber:58,columnNumber:5},globalThis)},bs=wa;export{bs as CalculateMortgage};
