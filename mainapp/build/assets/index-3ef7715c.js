import{j as e}from"./ui-vendor-99260b86.js";import{f as r,r as n}from"./react-vendor-21ec1e1c.js";import{F as a,b as o,c as i,h as s,a as t}from"./form-vendor-6d56d196.js";import{c as l}from"./index-18f68479.js";import{T as m,E as _,i as c,B as u}from"./index-00b316e8.js";import{D as d}from"./DropdownMenu-8c510dd6.js";import{F as h}from"./FormattedInput-b2ac9715.js";import{u as b}from"./api-e2b06220.js";import{u as x}from"./i18n-vendor-18addd5f.js";import"./state-vendor-069efcec.js";import"./utils-vendor-8f040048.js";import"./components-vendor-62dc47c0.js";import"./Control-a225b5bc.js";const p={"broker-questionnaire":"_broker-questionnaire_1xxzw_1",header:"_header_1xxzw_11","back-button":"_back-button_1xxzw_18",logo:"_logo_1xxzw_34",content:"_content_1xxzw_43","form-container":"_form-container_1xxzw_48",title:"_title_1xxzw_52",subtitle:"_subtitle_1xxzw_60","form-link":"_form-link_1xxzw_61",form:"_form_1xxzw_48",section:"_section_1xxzw_69","section-title":"_section-title_1xxzw_74","form-row":"_form-row_1xxzw_77","two-columns":"_two-columns_1xxzw_94","form-field":"_form-field_1xxzw_102","full-width":"_full-width_1xxzw_107",input:"_input_1xxzw_110",textarea:"_textarea_1xxzw_111",error:"_error_1xxzw_132","yes-no-buttons":"_yes-no-buttons_1xxzw_142","yes-no-button":"_yes-no-button_1xxzw_142",active:"_active_1xxzw_164","business-fields":"_business-fields_1xxzw_171","agreement-section":"_agreement-section_1xxzw_177","checkbox-label":"_checkbox-label_1xxzw_182",checkbox:"_checkbox_1xxzw_182","checkbox-text":"_checkbox-text_1xxzw_198","submit-section":"_submit-section_1xxzw_205","character-count":"_character-count_1xxzw_218","success-message":"_success-message_1xxzw_224"},g=l.bind(p),v=()=>{const{t:l}=x(),p=r(),{data:v,isLoading:f}=b(),k=n.useRef(null),[q,y]=n.useState(!1),[j,C]=n.useState(!1),N=((null==v?void 0:v.data)??[]).map(e=>{var r;return{value:e.value||(null==(r=e.name)?void 0:r.toLowerCase().replace(/\s+/g,"-")),label:e.name}}),w=[{value:"employment",label:l("broker_questionnaire_employment_type_employment")},{value:"business",label:l("broker_questionnaire_employment_type_business")},{value:"investments",label:l("broker_questionnaire_employment_type_investments")},{value:"property",label:l("broker_questionnaire_employment_type_property")},{value:"no_income",label:l("broker_questionnaire_employment_type_no_income")}],z=[{value:"0-5000",label:l("broker_questionnaire_income_0_5000")},{value:"5000-10000",label:l("broker_questionnaire_income_5000_10000")},{value:"10000-20000",label:l("broker_questionnaire_income_10000_20000")},{value:"20000-50000",label:l("broker_questionnaire_income_20000_50000")},{value:"50000+",label:l("broker_questionnaire_income_50000_plus")}],I=[{value:"0-1",label:l("broker_questionnaire_experience_0_1")},{value:"1-3",label:l("broker_questionnaire_experience_1_3")},{value:"3-5",label:l("broker_questionnaire_experience_3_5")},{value:"5-10",label:l("broker_questionnaire_experience_5_10")},{value:"10+",label:l("broker_questionnaire_experience_10_plus")}],L=[{value:"yes",label:l("yes")},{value:"no",label:l("no")}],B=e=>"business"===e||"investments"===e||"property"===e;return e.jsxs("div",{className:g("broker-questionnaire"),children:[e.jsxs("div",{className:g("header"),children:[e.jsxs("button",{className:g("back-button"),onClick:()=>p("/tenders-for-brokers"),type:"button",children:["← ",l("broker_questionnaire_back")]}),e.jsx("div",{className:g("logo"),children:e.jsx("img",{src:"/static/logo.svg",alt:"Bankimonline"})})]}),e.jsx("div",{className:g("content"),children:e.jsxs("div",{className:g("form-container"),children:[e.jsx("h1",{className:g("title"),children:l("broker_questionnaire_title")}),e.jsx("p",{className:g("subtitle"),children:"Анкета для сотрудничества брокеров страница №20.1"}),e.jsx("a",{href:"#",className:g("form-link"),children:"[–] הרכב טופס לחשבון האישי שלך"}),e.jsx(a,{initialValues:{fullName:"",phone:"",email:"",city:"",desiredRegion:"",employmentType:"",monthlyIncome:"",workExperience:"",organizationNumber:"",organizationName:"",averageClientsPerMonth:"",mortgageClientsLastYear:"",refinanceClientsLastYear:"",hasClientCases:"",hasDebtCases:"",comments:"",agreement:!1},onSubmit:async e=>{y(!0),C(!0);try{await new Promise(e=>setTimeout(e,500)),p("/services/application-submitted")}catch(r){alert(l("broker_questionnaire_error_submit")),y(!1)}},enableReinitialize:!0,validate:e=>{var r;const n=((e="")=>{const r={fullName:i().required(l("broker_questionnaire_error_required")).min(2,l("broker_questionnaire_error_name_min")),phone:i().required(l("broker_questionnaire_error_required")).matches(/^\+?[1-9]\d{1,14}$/,l("broker_questionnaire_error_phone_format")),email:i().required(l("broker_questionnaire_error_required")).email(l("broker_questionnaire_error_email_format")),city:i().required(l("broker_questionnaire_error_required")),desiredRegion:i().required(l("broker_questionnaire_error_required")),employmentType:i().required(l("broker_questionnaire_error_required")),workExperience:i().required(l("broker_questionnaire_error_required")),hasClientCases:i().required(l("broker_questionnaire_error_required")),hasDebtCases:i().required(l("broker_questionnaire_error_required")),comments:i().max(1e3,l("broker_questionnaire_error_comments_max")),agreement:s().oneOf([!0],l("broker_questionnaire_error_agreement"))};return r.monthlyIncome=i().required(l("broker_questionnaire_error_required")),B(e)&&(r.organizationNumber=i().required(l("broker_questionnaire_error_required")).matches(/^\d+$/,l("broker_questionnaire_error_number_format")),r.organizationName=i().required(l("broker_questionnaire_error_required")).min(2,l("broker_questionnaire_error_name_min")),r.averageClientsPerMonth=i().required(l("broker_questionnaire_error_required")).matches(/^\d+$/,l("broker_questionnaire_error_number_format")),r.mortgageClientsLastYear=i().matches(/^\d*$/,l("broker_questionnaire_error_number_format")),r.refinanceClientsLastYear=i().matches(/^\d*$/,l("broker_questionnaire_error_number_format"))),t().shape(r)})(e.employmentType);try{return n.validateSync(e,{abortEarly:!1}),{}}catch(a){const n={};return null==(r=a.inner)||r.forEach(r=>{if(r.path){if(!("hasClientCases"!==r.path&&"hasDebtCases"!==r.path||"yes"!==e[r.path]&&"no"!==e[r.path]))return;n[r.path]=r.message}}),n}},children:({values:r,setFieldValue:n,errors:a,touched:i,setFieldTouched:s,isValid:t})=>e.jsxs(o,{className:g("form"),ref:k,children:[e.jsx("div",{className:g("section"),children:e.jsxs("div",{className:g("form-row","three-columns"),children:[e.jsxs("div",{className:g("form-field"),children:[e.jsx(m,{title:l("broker_questionnaire_full_name")}),e.jsx("input",{type:"text",name:"fullName",value:r.fullName,onChange:e=>n("fullName",e.target.value),onBlur:()=>s("fullName",!0),placeholder:l("broker_questionnaire_full_name_placeholder"),className:g("input",{error:i.fullName&&a.fullName})}),i.fullName&&a.fullName&&e.jsx(_,{error:a.fullName})]}),e.jsx("div",{className:g("form-field"),children:e.jsx(c,{title:l("broker_questionnaire_phone"),value:r.phone,handleChange:e=>n("phone",e),onBlur:()=>s("phone",!0),error:i.phone&&a.phone,onlyCountries:["il","us","ru"]})}),e.jsxs("div",{className:g("form-field"),children:[e.jsx(m,{title:l("broker_questionnaire_email")}),e.jsx("input",{type:"email",name:"email",value:r.email,onChange:e=>n("email",e.target.value),onBlur:()=>s("email",!0),placeholder:l("broker_questionnaire_email_placeholder"),className:g("input",{error:i.email&&a.email})}),i.email&&a.email&&e.jsx(_,{error:a.email})]})]})}),e.jsx("div",{className:g("section"),children:e.jsxs("div",{className:g("form-row","two-columns"),children:[e.jsx("div",{className:g("form-field"),children:e.jsx(d,{title:l("broker_questionnaire_city"),data:N,placeholder:l("broker_questionnaire_city_placeholder"),value:r.city,onChange:e=>n("city",e),onBlur:()=>s("city",!0),searchable:!0,searchPlaceholder:l("search"),nothingFoundText:l("nothing_found"),error:i.city&&a.city})}),e.jsx("div",{className:g("form-field"),children:e.jsx(d,{title:l("broker_questionnaire_desired_region"),data:N,placeholder:l("broker_questionnaire_desired_region_placeholder"),value:r.desiredRegion,onChange:e=>n("desiredRegion",e),onBlur:()=>s("desiredRegion",!0),searchable:!0,searchPlaceholder:l("search"),nothingFoundText:l("nothing_found"),error:i.desiredRegion&&a.desiredRegion})})]})}),e.jsxs("div",{className:g("section"),children:[e.jsxs("div",{className:g("form-row","three-columns"),children:[e.jsx("div",{className:g("form-field"),children:e.jsx(d,{title:l("broker_questionnaire_employment_type"),data:w,placeholder:l("broker_questionnaire_employment_type_placeholder"),value:r.employmentType,onChange:e=>{n("employmentType",e),B(e)||(n("organizationNumber",""),n("organizationName",""),n("averageClientsPerMonth",""),n("mortgageClientsLastYear",""),n("refinanceClientsLastYear",""))},onBlur:()=>s("employmentType",!0),error:i.employmentType&&a.employmentType})}),"no_income"!==r.employmentType&&e.jsx("div",{className:g("form-field"),children:e.jsx(d,{title:l("broker_questionnaire_monthly_income"),data:z,placeholder:l("broker_questionnaire_monthly_income_placeholder"),value:r.monthlyIncome,onChange:e=>n("monthlyIncome",e),onBlur:()=>s("monthlyIncome",!0),error:i.monthlyIncome&&a.monthlyIncome})}),"no_income"===r.employmentType&&e.jsxs("div",{className:g("form-field"),children:[e.jsx(m,{title:l("broker_questionnaire_no_income_since")}),e.jsx("input",{type:"date",name:"monthlyIncome",value:r.monthlyIncome,onChange:e=>n("monthlyIncome",e.target.value),onBlur:()=>s("monthlyIncome",!0),placeholder:l("broker_questionnaire_no_income_since_placeholder"),className:g("input",{error:i.monthlyIncome&&a.monthlyIncome})}),i.monthlyIncome&&a.monthlyIncome&&e.jsx(_,{error:a.monthlyIncome})]}),e.jsx("div",{className:g("form-field"),children:e.jsx(d,{title:l("broker_questionnaire_work_experience"),data:I,placeholder:l("broker_questionnaire_work_experience_placeholder"),value:r.workExperience,onChange:e=>n("workExperience",e),onBlur:()=>s("workExperience",!0),error:i.workExperience&&a.workExperience})})]}),B(r.employmentType)&&e.jsxs("div",{className:g("business-fields"),children:[e.jsxs("div",{className:g("form-row","three-columns"),children:[e.jsx("div",{className:g("form-field"),children:e.jsx(h,{title:l("broker_questionnaire_organization_number"),value:r.organizationNumber?parseInt(r.organizationNumber):null,handleChange:e=>n("organizationNumber",(null==e?void 0:e.toString())||""),onBlur:()=>s("organizationNumber",!0),placeholder:l("broker_questionnaire_organization_number_placeholder"),error:i.organizationNumber&&a.organizationNumber,disableCurrency:!0})}),e.jsxs("div",{className:g("form-field"),children:[e.jsx(m,{title:l("broker_questionnaire_organization_name")}),e.jsx("input",{type:"text",name:"organizationName",value:r.organizationName,onChange:e=>n("organizationName",e.target.value),onBlur:()=>s("organizationName",!0),placeholder:l("broker_questionnaire_organization_name_placeholder"),className:g("input",{error:i.organizationName&&a.organizationName})}),i.organizationName&&a.organizationName&&e.jsx(_,{error:a.organizationName})]}),e.jsx("div",{className:g("form-field"),children:e.jsx(h,{title:l("broker_questionnaire_average_clients_month"),value:r.averageClientsPerMonth?parseInt(r.averageClientsPerMonth):null,handleChange:e=>n("averageClientsPerMonth",(null==e?void 0:e.toString())||""),onBlur:()=>s("averageClientsPerMonth",!0),placeholder:l("broker_questionnaire_average_clients_month_placeholder"),error:i.averageClientsPerMonth&&a.averageClientsPerMonth,disableCurrency:!0})})]}),e.jsxs("div",{className:g("form-row"),children:[e.jsx("div",{className:g("form-field"),children:e.jsx(h,{title:l("broker_questionnaire_mortgage_clients_year"),value:r.mortgageClientsLastYear?parseInt(r.mortgageClientsLastYear):null,handleChange:e=>n("mortgageClientsLastYear",(null==e?void 0:e.toString())||""),onBlur:()=>s("mortgageClientsLastYear",!0),placeholder:l("broker_questionnaire_mortgage_clients_year_placeholder"),error:i.mortgageClientsLastYear&&a.mortgageClientsLastYear,disableCurrency:!0})}),e.jsx("div",{className:g("form-field"),children:e.jsx(h,{title:l("broker_questionnaire_refinance_clients_year"),value:r.refinanceClientsLastYear?parseInt(r.refinanceClientsLastYear):null,handleChange:e=>n("refinanceClientsLastYear",(null==e?void 0:e.toString())||""),onBlur:()=>s("refinanceClientsLastYear",!0),placeholder:l("broker_questionnaire_refinance_clients_year_placeholder"),error:i.refinanceClientsLastYear&&a.refinanceClientsLastYear,disableCurrency:!0})})]})]})]}),e.jsxs("div",{className:g("section"),children:[e.jsxs("div",{className:g("form-row","two-columns"),children:[e.jsxs("div",{className:g("form-field"),children:[e.jsx(m,{title:l("broker_questionnaire_has_client_cases")}),e.jsx("div",{className:g("yes-no-buttons"),children:L.map(o=>e.jsx("button",{type:"button",className:g("yes-no-button",{active:r.hasClientCases===o.value,error:i.hasClientCases&&a.hasClientCases}),onClick:()=>{n("hasClientCases",o.value),s("hasClientCases",!0)},children:o.label},o.value))}),i.hasClientCases&&a.hasClientCases&&e.jsx(_,{error:a.hasClientCases})]}),e.jsxs("div",{className:g("form-field"),children:[e.jsx(m,{title:l("broker_questionnaire_has_debt_cases")}),e.jsx("div",{className:g("yes-no-buttons"),children:L.map(o=>e.jsx("button",{type:"button",className:g("yes-no-button",{active:r.hasDebtCases===o.value,error:i.hasDebtCases&&a.hasDebtCases}),onClick:()=>{n("hasDebtCases",o.value),s("hasDebtCases",!0)},children:o.label},o.value))}),i.hasDebtCases&&a.hasDebtCases&&e.jsx(_,{error:a.hasDebtCases})]})]}),e.jsxs("div",{className:g("form-field","full-width"),children:[e.jsx(m,{title:l("broker_questionnaire_comments")}),e.jsx("textarea",{name:"comments",value:r.comments,onChange:e=>n("comments",e.target.value),onBlur:()=>s("comments",!0),placeholder:l("broker_questionnaire_comments_placeholder"),className:g("textarea",{error:i.comments&&a.comments}),rows:4,maxLength:1e3}),e.jsxs("div",{className:g("character-count"),children:[r.comments.length,"/1000"]}),i.comments&&a.comments&&e.jsx(_,{error:a.comments})]})]}),e.jsx("div",{className:g("section"),children:e.jsxs("div",{className:g("agreement-section","full-width"),children:[e.jsxs("label",{className:g("checkbox-label"),children:[e.jsx("input",{type:"checkbox",name:"agreement",checked:r.agreement,onChange:e=>n("agreement",e.target.checked),onBlur:()=>s("agreement",!0),className:g("checkbox")}),e.jsx("span",{className:g("checkbox-text"),children:l("broker_questionnaire_agreement")})]}),i.agreement&&a.agreement&&e.jsx(_,{error:a.agreement})]})}),e.jsxs("div",{className:g("submit-section"),children:[e.jsx(u,{type:"button",variant:"secondary",size:"full",onClick:()=>p("/tenders-for-brokers"),isDisabled:!1,children:l("broker_questionnaire_back")}),e.jsx(u,{type:"submit",variant:"primary",size:"full",disabled:!t||q,isDisabled:!t||q,children:l(q?"broker_questionnaire_submitting":"broker_questionnaire_submit")})]})]})})]})})]})};export{v as BrokerQuestionnaire,v as default};
