import{a as f,j as e,a3 as N,i as h,b as y,e as Z,f as U,u as g,M as H,a4 as v,c as J,p as q,a5 as uo,a6 as _o,a7 as po,R as K,z as go,A as xo,D as wo,a8 as jo,a9 as bo,aa as Io,H as fo,I as yo,J as So,Q as Oo,r as Bo,S as Fo}from"./index-8c325235.js";import{b as M,j as Ao,E as qo,D as z,c as A,e as m,g as X,d as B,F as k,f as $,a as V,p as Q,B as W,M as G,L as Mo}from"./index-9bc675d4.js";import{P as Do}from"./ProgressBar-0e664a1a.js";import{g as P,b as oo,d as eo,O as no,e as E,a as to,c as T,U as R,A as L}from"./componentsByIncomeSource-e23d9c96.js";import{C as b,F as ro,a as io,R as I,c as so}from"./Calendar-665a9561.js";import{R as Co,I as No,N as ko,B as $o,E as Po,A as Yo,T as zo,b as Eo,C as To,a as Ro,H as Lo,M as Ho,c as Uo,P as Jo}from"./Taxes-a24fcfb3.js";import{F as Qo}from"./FamilyStatus-f8572360.js";import"./ShieldCheckIcon-2e6671e5.js";const Wo=()=>{const{t:n,i18n:a}=f();a.language=a.language.split("-")[0];const{values:l,setFieldValue:d,errors:i,touched:o,setFieldTouched:_}=M();return e.jsxs(b,{children:[e.jsx(Ao,{title:n("who_are_you_for_borrowers"),placeholder:n("who_are_you_for_borrowers_ph"),name:"whoAreYouForBorrowers",onChange:c=>d("whoAreYouForBorrowers",c),onBlur:()=>_("whoAreYouForBorrowers"),error:o.whoAreYouForBorrowers&&i.whoAreYouForBorrowers,value:l.whoAreYouForBorrowers}),o.whoAreYouForBorrowers&&i.whoAreYouForBorrowers&&e.jsx(qo,{error:i.whoAreYouForBorrowers})]})},Go=()=>{const{t:n,i18n:a}=f();a.language=a.language.split("-")[0];const[l]=N(),d=l.get("pageId"),{values:i}=M();return console.log(d),e.jsxs(ro,{children:[e.jsx(io,{title:n("personal_data_borrowers_title")+d}),e.jsx(Co,{children:e.jsx(No,{})}),e.jsxs(I,{children:[e.jsx(ko,{}),e.jsx($o,{}),e.jsx(Po,{})]}),e.jsxs(I,{children:[e.jsx(Yo,{}),e.jsx(zo,{}),e.jsx(Eo,{}),i.additionalCitizenships==="yes"&&e.jsx(To,{}),i.taxes==="yes"&&e.jsx(Ro,{}),i.childrens==="yes"&&e.jsx(Lo,{})]}),e.jsx(z,{}),e.jsxs(I,{children:[e.jsx(Ho,{}),e.jsx(Uo,{}),e.jsx(Jo,{})]}),e.jsx(z,{}),e.jsxs(I,{children:[e.jsx(Wo,{}),e.jsx(Qo,{}),e.jsx(b,{})]})]})},Ko=A().shape({nameSurname:m().required(h.t("error_name_surname")),birthday:m().required(h.t("error_date")),education:m().required(h.t("error_select_answer")),additionalCitizenships:m().required(h.t("error_select_answer")),citizenshipsDropdown:X().when("additionalCitizenships",{is:"yes",then:n=>n.min(1,h.t("error_select_answer")),otherwise:n=>n.min(0)}),taxes:m().required(h.t("error_select_answer")),countriesPayTaxes:X().when("taxes",{is:"yes",then:n=>n.min(1,h.t("error_select_answer")),otherwise:n=>n.min(0)}),childrens:m().required(h.t("error_select_answer")),howMuchChildrens:B().required(h.t("error_fill_field")),medicalInsurance:m().required(h.t("error_select_answer")),isForeigner:m().required(h.t("error_select_answer")),publicPerson:m().required(h.t("error_select_answer")),whoAreYouForBorrowers:m().required(h.t("error_fill_field")),familyStatus:m().required(h.t("error_select_answer"))}),Xo=()=>{const n=y(),a=Z(),l=U(),d=g(t=>t.otherBorrowers.otherBorrowersPageId),i=g(t=>t.otherBorrowers.otherBorrowers),o=i.find(t=>t.id===d),c=!i.some(t=>t.id===d)?P(i):d;a.search.includes(`?pageId=${c}`)||l({pathname:"/services/other-borrowers/1/",search:H({pageId:String(c)}).toString()});const u={nameSurname:(o==null?void 0:o.nameSurname)||"",birthday:(o==null?void 0:o.birthday)||new Date(new Date().setFullYear(new Date().getFullYear()-18)).getTime(),education:(o==null?void 0:o.education)||"",additionalCitizenships:(o==null?void 0:o.additionalCitizenships)||null,citizenshipsDropdown:(o==null?void 0:o.citizenshipsDropdown)||[],taxes:(o==null?void 0:o.taxes)||null,countriesPayTaxes:(o==null?void 0:o.countriesPayTaxes)||[],childrens:(o==null?void 0:o.childrens)||null,howMuchChildrens:(o==null?void 0:o.howMuchChildrens)||1,medicalInsurance:(o==null?void 0:o.medicalInsurance)||null,isForeigner:(o==null?void 0:o.isForeigner)||null,publicPerson:(o==null?void 0:o.publicPerson)||null,whoAreYouForBorrowers:(o==null?void 0:o.whoAreYouForBorrowers)||"",familyStatus:(o==null?void 0:o.familyStatus)||"",sourceOfIncomeModal:(o==null?void 0:o.sourceOfIncomeModal)||[],additionalIncomeModal:(o==null?void 0:o.additionalIncomeModal)||[],obligationModal:(o==null?void 0:o.obligationModal)||[]};return e.jsx(k,{initialValues:u,validationSchema:Ko,validateOnMount:!0,onSubmit:t=>{n(v({id:c,newFields:t})),l({pathname:"/services/other-borrowers/2/",search:H({pageId:String(c)}).toString()})},children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Go,{})}),e.jsx(so,{})]})})},Zo="_modal_lzcpe_1",vo="_buttons_lzcpe_49",Vo={modal:Zo,"modal-item":"_modal-item_lzcpe_18","modal-buttons":"_modal-buttons_lzcpe_31",buttons:vo},Y=J.bind(Vo),oe=()=>{const{t:n,i18n:a}=f();a.language=a.language.split("-")[0];const{handleSubmit:l,isValid:d,values:i}=M(),o=y();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:Y("modal"),children:[e.jsxs("div",{className:Y("modal-item"),children:[e.jsx(oo,{}),i.additionalIncome&&e.jsx(eo,{})]}),e.jsx("div",{className:Y("modal-buttons"),children:e.jsxs("div",{className:Y("buttons"),children:[e.jsx(Q,{title:n("button_back"),handleClick:()=>o(q())}),e.jsx(W,{type:"submit",isDisabled:!d,onClick:l,size:"full",children:n("button_next_save")})]})})]})})},ee=()=>{const{t:n,i18n:a}=f();a.language=a.language.split("-")[0];const l=y(),[d]=N(),i=d.get("pageId"),o=parseInt(i),_=g(r=>r.modalSlice.isOpenAdditionalIncome),c=g(r=>r.modalSlice.currentId),u=g(r=>{var j;return((j=r.otherBorrowers.otherBorrowers[o-1])==null?void 0:j.additionalIncomeModal)||[]}),t=u.find(r=>r.id===c),x=()=>{l(q())},w=!u.some(r=>r.id===c)?P(u):c,S={additionalIncome:(t==null?void 0:t.additionalIncome)||"",additionalIncomeAmount:(t==null?void 0:t.additionalIncomeAmount)||null},O=A().shape({additionalIncome:m().required(n("error_select_one_of_the_options")),additionalIncomeAmount:B().when("additionalIncome",{is:r=>r!=null&&r!==""&&r==="no",then:r=>r.required(h.t("error_fill_field")),otherwise:r=>r.notRequired()})});return e.jsx(G,{isVisible:_,onCancel:x,title:`${n("additional_source_of_income")} ${w+1}`,children:e.jsx(k,{initialValues:S,validationSchema:O,validateOnMount:!0,onSubmit:r=>{l(uo({id:w,pageId:o,...r})),x()},children:e.jsx($,{children:e.jsx(oe,{})})})})},ne="_modal_r2hy9_1",te="_container_r2hy9_41",re="_component_r2hy9_47",ie="_buttons_r2hy9_59",se={modal:ne,"modal-item":"_modal-item_r2hy9_18","modal-buttons":"_modal-buttons_r2hy9_23",container:te,component:re,buttons:ie},C=J.bind(se),ae=()=>{const{t:n,i18n:a}=f();a.language=a.language.split("-")[0];const{handleSubmit:l,isValid:d,values:i}=M(),o=y(),{obligation:_}=i;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:C("modal"),children:[e.jsxs("div",{className:C("container"),children:[e.jsx(no,{}),E[_]&&E[_].map((c,u)=>e.jsx("div",{className:C("component"),children:c},u)),e.jsx(b,{})]}),e.jsx("div",{className:C("modal-buttons"),children:e.jsxs("div",{className:C("buttons"),children:[e.jsx(Q,{title:n("button_back"),handleClick:()=>o(q())}),e.jsx(W,{type:"submit",isDisabled:!d,onClick:l,size:"full",children:n("button_next_save")})]})})]})})},ce=()=>{const{t:n,i18n:a}=f();a.language=a.language.split("-")[0];const l=y(),[d]=N(),i=d.get("pageId"),o=parseInt(i),_=g(r=>r.modalSlice.isOpenObligation),c=g(r=>r.modalSlice.currentId),u=g(r=>{var j;return((j=r.otherBorrowers.otherBorrowers[o-1])==null?void 0:j.obligationModal)||[]}),t=u.find(r=>r.id===c),x=()=>{l(q())},w=!u.some(r=>r.id===c)?P(u):c,S={obligation:(t==null?void 0:t.obligation)||"",bank:(t==null?void 0:t.bank)||"",monthlyPaymentForAnotherBank:(t==null?void 0:t.monthlyPaymentForAnotherBank)||null,endDate:(t==null?void 0:t.endDate)||new Date().getTime(),noIncome:(t==null?void 0:t.noIncome)||new Date().getTime()},O=A().shape({obligation:m().required(n("error_select_one_of_the_options")),bank:m().when("obligation",{is:r=>r!=null&&r!==""&&r==="no",then:r=>r.required(n("error_select_bank")),otherwise:r=>r.notRequired()}),monthlyPaymentForAnotherBank:B().when("obligation",{is:r=>r!=null&&r!==""&&r==="no",then:r=>r.required(n("error_fill_field")),otherwise:r=>r.notRequired()}),endDate:m().required(n("error_date"))});return e.jsx(G,{isVisible:_,onCancel:x,title:`${n("obligation")} ${w+1}`,children:e.jsx(k,{initialValues:S,validationSchema:O,validateOnMount:!0,onSubmit:r=>{l(_o({id:w,pageId:o,...r})),x()},children:e.jsx($,{children:e.jsx(ae,{})})})})},le="_modal_1gdud_1",de="_container_1gdud_41",me="_component_1gdud_47",he="_buttons_1gdud_59",ue={modal:le,"modal-item":"_modal-item_1gdud_18","modal-buttons":"_modal-buttons_1gdud_23",container:de,component:me,buttons:he},F=J.bind(ue),_e=()=>{const{t:n,i18n:a}=f();a.language=a.language.split("-")[0];const{handleSubmit:l,isValid:d,values:i}=M(),{mainSourceOfIncome:o}=i,_=y();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:F("modal"),children:[e.jsxs("div",{className:F("container"),children:[e.jsx("div",{className:F("component"),children:e.jsx(to,{})}),T[o]&&T[o].map((c,u)=>e.jsx("div",{className:F("component"),children:c},u)),e.jsx(b,{})]}),e.jsx("div",{className:F("modal-buttons"),children:e.jsxs("div",{className:F("buttons"),children:[e.jsx(Q,{title:n("button_back"),handleClick:()=>_(q())}),e.jsx(W,{type:"submit",isDisabled:!d,onClick:l,size:"full",children:n("button_next_save")})]})})]})})},pe=()=>{const{t:n,i18n:a}=f();a.language=a.language.split("-")[0];const l=y(),[d]=N(),i=d.get("pageId"),o=parseInt(i),_=g(r=>r.modalSlice.isOpenSourceOfIncome),c=g(r=>r.modalSlice.currentId),u=g(r=>{var j;return((j=r.otherBorrowers.otherBorrowers[o-1])==null?void 0:j.sourceOfIncomeModal)||[]}),t=u.find(r=>r.id===c),x=()=>{l(q())},w=!u.some(r=>r.id===c)?P(u):c,S={mainSourceOfIncome:(t==null?void 0:t.mainSourceOfIncome)||"",monthlyIncome:(t==null?void 0:t.monthlyIncome)||null,startDate:(t==null?void 0:t.startDate)||new Date().getTime(),fieldOfActivity:(t==null?void 0:t.fieldOfActivity)||"",profession:(t==null?void 0:t.profession)||"",companyName:(t==null?void 0:t.companyName)||"",amountIncomeCurrentYear:(t==null?void 0:t.amountIncomeCurrentYear)||null},O=A().shape({mainSourceOfIncome:m().required(n("error_select_answer")),monthlyIncome:B().required(n("error_fill_field")),startDate:m().required(n("error_date")),fieldOfActivity:A().when("mainSourceOfIncome",{is:r=>r!=null&&r!=="",then:r=>r.required(n("error_select_field_of_activity")),otherwise:r=>r.notRequired()}),profession:m().required(n("error_fill_field")),companyName:m().required(n("error_fill_field"))});return e.jsx(G,{isVisible:_,onCancel:x,title:`${n("source_of_income")} ${w+1}`,children:e.jsx(k,{initialValues:S,validationSchema:O,validateOnMount:!0,onSubmit:r=>{l(po({id:w,pageId:o,...r})),x()},children:e.jsx($,{children:e.jsx(_e,{})})})})},ge=()=>{const{t:n,i18n:a}=f();a.language=a.language.split("-")[0];const[l]=N(),d=l.get("pageId"),i=parseInt(d),{values:o}=M(),{mainSourceOfIncome:_,additionalIncome:c,obligation:u}=o,t=y(),x=g(s=>{var p;return((p=s.otherBorrowers.otherBorrowers[i-1])==null?void 0:p.sourceOfIncomeModal)||[]}),D=g(s=>{var p;return((p=s.otherBorrowers.otherBorrowers[i-1])==null?void 0:p.additionalIncomeModal)||[]}),w=g(s=>{var p;return((p=s.otherBorrowers.otherBorrowers[i-1])==null?void 0:p.obligationModal)||[]}),S=()=>{t(go())},O=()=>{t(xo())},r=()=>{t(wo())},j=(s,p)=>{t(jo({id:s,pageId:p}))},ao=(s,p)=>{t(bo({id:s,pageId:p}))},co=(s,p)=>{t(Io({id:s,pageId:p}))},lo=s=>{t(fo(s))},mo=s=>{t(yo(s))},ho=s=>{t(So(s))};return e.jsxs(ro,{children:[e.jsx(io,{title:`${n("borrowers_income")}#${i}`}),e.jsxs(I,{children:[e.jsx(to,{}),T[_]&&T[_].map((s,p)=>e.jsx(K.Fragment,{children:s},p)),e.jsx(b,{})]}),e.jsx(I,{children:_&&e.jsxs(b,{children:[x&&x.map(s=>e.jsx(R,{onEdit:()=>lo(s.id),onDelete:()=>j(s.id,i),enableEdit:!0,name:`${n("source_of_income")}${s.id+1}`},s.id)),e.jsx(L,{onClick:S,color:"#FBE54D",value:n("add_place_to_work"),variant:"none"})]})}),e.jsx(z,{}),e.jsxs(I,{children:[e.jsx(oo,{}),c&&c!=="option_1"&&e.jsx(eo,{}),e.jsx(b,{})]}),c&&c!=="option_1"&&e.jsx(I,{children:e.jsxs(b,{children:[D&&D.map(s=>e.jsx(R,{onEdit:()=>mo(s.id),onDelete:()=>ao(s.id,i),enableEdit:!0,name:`${n("additional_source_of_income")}${s.id+1}`},s.id)),e.jsx(L,{onClick:O,color:"#FBE54D",value:n("add_additional_source_of_income"),variant:"none"})]})}),e.jsx(z,{}),e.jsxs(I,{children:[e.jsx(no,{}),E[u]&&E[u].map((s,p)=>e.jsx(K.Fragment,{children:s},p)),e.jsx(b,{})]}),u&&u!=="option_1"&&e.jsx(I,{children:e.jsxs(b,{children:[w&&w.map(s=>e.jsx(R,{onEdit:()=>ho(s.id),onDelete:()=>co(s.id,i),enableEdit:!0,name:`${n("obligation")}${s.id+1}`},s.id)),e.jsx(L,{onClick:r,color:"#FBE54D",value:n("add_obligation"),variant:"none"})]})})]})},xe=A().shape({mainSourceOfIncome:m().required(h.t("error_select_answer")),monthlyIncome:B().required(h.t("error_fill_field")),startDate:m().required(h.t("error_date")),fieldOfActivity:m().when("mainSourceOfIncome",{is:n=>n!=null&&n!=="",then:n=>n.required(h.t("error_select_field_of_activity")),otherwise:n=>n.notRequired()}),profession:m().required(h.t("error_fill_field")),companyName:m().required(h.t("error_fill_field")),additionalIncome:m().required(h.t("error_select_one_of_the_options")),additionalIncomeAmount:B().when("additionalIncome",{is:n=>n!=null&&n!==""&&n==="no",then:n=>n.required(h.t("error_fill_field")),otherwise:n=>n.notRequired()}),obligation:m().required(h.t("error_select_one_of_the_options")),bank:m().when("obligation",{is:n=>n!=null&&n!==""&&n==="no",then:n=>n.required(h.t("error_select_bank")),otherwise:n=>n.notRequired()}),monthlyPaymentForAnotherBank:B().when("obligation",{is:n=>n!=null&&n!==""&&n==="no",then:n=>n.required(h.t("error_fill_field")),otherwise:n=>n.notRequired()}),endDate:m().required(h.t("error_date"))}),we=()=>{const n=y(),a=U(),l=Z(),d=g(t=>t.otherBorrowers.otherBorrowersPageId),i=g(t=>t.otherBorrowers.otherBorrowers),o=i.find(t=>t.id===d),c=!i.some(t=>t.id===d)?P(i):d;l.search.includes(`?pageId=${c}`)||a({pathname:"/services/other-borrowers/2/",search:H({pageId:String(c)}).toString()});const u={mainSourceOfIncome:(o==null?void 0:o.mainSourceOfIncome)||"",monthlyIncome:(o==null?void 0:o.monthlyIncome)||null,startDate:(o==null?void 0:o.startDate)||new Date().getTime(),fieldOfActivity:(o==null?void 0:o.fieldOfActivity)||"",profession:(o==null?void 0:o.profession)||"",companyName:(o==null?void 0:o.companyName)||"",additionalIncome:(o==null?void 0:o.additionalIncome)||"",additionalIncomeAmount:(o==null?void 0:o.additionalIncomeAmount)||null,obligation:(o==null?void 0:o.obligation)||"",bank:(o==null?void 0:o.bank)||"",monthlyPaymentForAnotherBank:(o==null?void 0:o.monthlyPaymentForAnotherBank)||null,endDate:(o==null?void 0:o.endDate)||new Date().getTime(),amountIncomeCurrentYear:(o==null?void 0:o.amountIncomeCurrentYear)||null,noIncome:(o==null?void 0:o.noIncome)||new Date().getTime(),sourceOfIncomeModal:(o==null?void 0:o.sourceOfIncomeModal)||[],additionalIncomeModal:(o==null?void 0:o.additionalIncomeModal)||[],obligationModal:(o==null?void 0:o.obligationModal)||[]};return e.jsxs(e.Fragment,{children:[e.jsx(k,{initialValues:u,validationSchema:xe,validateOnMount:!0,onSubmit:t=>{n(v({id:c,newFields:t})),a(-2)},children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(ge,{})}),e.jsx(so,{})]})}),e.jsx(pe,{}),e.jsx(ee,{}),e.jsx(ce,{})]})},je=()=>{const{stepNumber:n}=Oo(),{t:a,i18n:l}=f();l.language=l.language.split("-")[0];const d=U();if(!g(c=>c.login.isLogin)){d("/");return}const o=[a("calculate_mortgage_anketa"),a("calculate_mortgage_income")];let _;switch(n){case"1":_=e.jsx(Xo,{});break;case"2":_=e.jsx(we,{});break;default:_=e.jsx(Fo,{type:"NOT_FOUND"});break}return e.jsxs(e.Fragment,{children:[e.jsx(Do,{progress:n,data:o}),e.jsx(Bo.Suspense,{fallback:e.jsx(Mo,{}),children:_})]})},Ae=je;export{Ae as OtherBorrowers};
