import{j as e}from"./ui-vendor-99260b86.js";import{a as t,u as n,j as r,d as a,o as i,c as o,l,I as s,J as c,n as d,K as u,L as m,E as f,M as p}from"./index-b75527a0.js";import{P as h,e as _,B as v,I as g,a as b,D as y,E as x,M as j}from"./index-8ba31d2c.js";import{u as k}from"./i18n-vendor-18addd5f.js";import{u as w,a as S,c as P,f as D,F as M,b as I}from"./form-vendor-6d56d196.js";import{r as N,b as O,u as C,f as T}from"./react-vendor-21ec1e1c.js";import{F as E}from"./FormattedInput-2b386cd9.js";import{w as A}from"./components-vendor-62dc47c0.js";import{W as R,f as F}from"./AddButton-e2a8d33a.js";import{u as V,P as B,t as H,f as U,a as L,M as q}from"./MortgageParameters-3578e17e.js";import{a as $}from"./useDropdownData-1fd3cd06.js";import{C as z}from"./Column-14d6ba45.js";import{D as Y}from"./DropdownMenu-8b5ff91a.js";import{R as K}from"./Row-f8b6fb7f.js";import{A as X,a as Z,b as W,O as G,c as J,M as Q,g as ee}from"./componentsByIncomeSource-86df84d2.js";const te=()=>{const{i18n:o}=k(),l=t(),s=()=>{l(r()),l(a("login"))},c=()=>{l(r()),l(a("codeSignUp")),l(i())};return n(e=>e.modalSlice.isOpenLogin)?"he"===o.language?e.jsx(h,{onClose:s,onSuccess:c}):e.jsx(_,{onClose:s,onSuccess:c}):null},ne={"submit-btn":"_submit-btn_17878_1",buttons:"_buttons_17878_16",wrapper:"_wrapper_17878_28"},re=o.bind(ne),ae=({showValidationHints:t=!1})=>{const{t:n}=k(),{isValid:r,handleSubmit:a,errors:i,values:o,setFieldTouched:l}=w(),[s,c]=N.useState(!1);return e.jsx("div",{className:re("submit-btn"),children:e.jsx("div",{className:re("wrapper"),children:e.jsx("div",{className:re("buttons"),children:e.jsx(v,{onClick:()=>{Object.keys(o).forEach(e=>{l(e,!0,!1)}),r?a():c(!0)},size:"smallLong",type:"button",style:{opacity:r?1:.7,cursor:r?"pointer":"not-allowed",pointerEvents:"auto",zIndex:9999},children:n("button_next")})})})})};var ie=Math.sqrt(50),oe=Math.sqrt(10),le=Math.sqrt(2);function se(e,t,n){var r,a,i,o,l=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),0===(o=function(e,t,n){var r=(t-e)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=ie?10:i>=oe?5:i>=le?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=ie?10:i>=oe?5:i>=le?2:1)}(e,t,n))||!isFinite(o))return[];if(o>0){let n=Math.round(e/o),r=Math.round(t/o);for(n*o<e&&++n,r*o>t&&--r,i=new Array(a=r-n+1);++l<a;)i[l]=(n+l)*o}else{o=-o;let n=Math.round(e*o),r=Math.round(t*o);for(n/o<e&&++n,r/o>t&&--r,i=new Array(a=r-n+1);++l<a;)i[l]=(n+l)/o}return r&&i.reverse(),i}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach(function(t){pe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t){return(ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var a=_e(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ge(e)}(this,n)}}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(s){l=!0,a=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}(e,t)||je(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e){return function(e){if(Array.isArray(e))return ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||je(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){if(e){if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ke(e,t):void 0}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var we="react-compound-slider:";function Se(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return t.val>n.val?e?-1:1:n.val>t.val?e?1:-1:0}}function Pe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.findIndex(function(e){return e.key===t});if(-1!==a){var i=e[a],o=i.key;return i.val===n?e:[].concat(xe(e.slice(0,a)),[{key:o,val:n}],xe(e.slice(a+1))).sort(Se(r))}return e}function De(e,t){if(!e)return[0,0];var n=e.getBoundingClientRect();return[t?n.top:n.left,t?n.bottom:n.right]}function Me(e){var t=e.type,n=void 0===t?"":t,r=e.touches;return!r||r.length>1||"touchend"===n.toLowerCase()&&r.length>0}function Ie(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function Ne(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=0;return{handles:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){var a=t.getValue(e);return e!==a&&(r+=1,A(!n,"".concat(we," Invalid value encountered. Changing ").concat(e," to ").concat(a,"."))),a}).map(function(e,t){return{key:"$$-".concat(t),val:e}}).sort(Se(e)),changes:r}}function Oe(e,t,n,r,a){for(var i=-1,o=!0,l=0;l<e.length;l++){var s=e[l],c=t[l];if(!c||c.key!==s.key)return e;c.val!==s.val&&(i=l,o=c.val-s.val>0)}if(-1===i)return e;for(var d=o?n:-n,u=0;u<t.length;u++){var m=t[u],f=t[u+1];if(f&&m.val===f.val){if(u===i){var p=f.val+d;if(a(p)===p){var h=Oe(t,Pe(t,f.key,f.val+d,r),n,r,a);return h===t?e:h}return e}var _=m.val+d;if(a(_)===_){var v=Oe(t,Pe(t,m.key,m.val+d,r),n,r,a);return v===t?e:v}return e}}return t}function Ce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach(function(t){return t&&t(e)})}}var Te=function(){return{value:0,percent:0}},Ee=function(){he(t,N.Component);var e=be(t);function t(){var n;ue(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))).getRailProps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.props,r=t.emitMouse,a=t.emitTouch;return de(de({},e),{},{onMouseDown:Ce(e&&e.onMouseDown,r),onTouchStart:Ce(e&&e.onTouchStart,a)})},n}return fe(t,[{key:"render",value:function(){var e=this.getRailProps,t=this.props,n=t.getEventData,r=t.activeHandleID,a=void 0===r?"":r,i=(0,t.children)({getEventData:n||Te,activeHandleID:a,getRailProps:e});return i&&O.Children.only(i)}}]),t}(),Ae=function(){he(t,N.Component);var e=be(t);function t(){var n;ue(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))).autofocus=function(e){e.target instanceof HTMLElement&&e.target.focus()},n.getHandleProps=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.props,a=r.emitKeyboard,i=r.emitMouse,o=r.emitTouch;return de(de({},t),{},{onKeyDown:Ce(t&&t.onKeyDown,function(t){return a&&a(t,e)}),onMouseDown:Ce(t&&t.onMouseDown,n.autofocus,function(t){return i&&i(t,e)}),onTouchStart:Ce(t&&t.onTouchStart,function(t){return o&&o(t,e)})})},n}return fe(t,[{key:"render",value:function(){var e=this.getHandleProps,t=this.props,n=t.activeHandleID,r=void 0===n?"":n,a=t.children,i=t.handles,o=a({handles:void 0===i?[]:i,activeHandleID:r,getHandleProps:e});return o&&O.Children.only(o)}}]),t}(),Re=function(){function e(){ue(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return fe(e,[{key:"createInterpolator",value:function(e,t){var n=this,r=e[0],a=e[1],i=t[0],o=t[1];return a<r?function(e){return n.interpolateValue(o,i)(n.deinterpolateValue(a,r)(e))}:function(e){return n.interpolateValue(i,o)(n.deinterpolateValue(r,a)(e))}}},{key:"interpolateValue",value:function(e,t){return t-=e=+e,function(n){return e+t*n}}},{key:"deinterpolateValue",value:function(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(){return t}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(e){var t=this.domain,n=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(t,n)))(+e)}},{key:"setDomain",value:function(e){return this.domain=[e[0],e[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(e){return this.range=[e[0],e[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(e){var t=this.domain;return se(t[0],t[t.length-1],e||10)}}]),e}(),Fe=function(){return{value:0,percent:0}},Ve=function(){he(t,N.Component);var e=be(t);function t(){return ue(this,t),e.apply(this,arguments)}return fe(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.values,r=e.scale,a=void 0===r?new Re:r,i=e.count,o=void 0===i?10:i,l=e.getEventData,s=void 0===l?Fe:l,c=e.activeHandleID,d=t({getEventData:s,activeHandleID:void 0===c?"":c,ticks:(n||a.getTicks(o)).map(function(e){return{id:"$$-".concat(e),value:e,percent:a.getValue(e)}})});return d&&O.Children.only(d)}}]),t}(),Be=function(){return{value:0,percent:0}},He=function(){he(t,N.Component);var e=be(t);function t(){var n;ue(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))).getTrackProps=function(e){var t=n.props,r=t.emitMouse,a=t.emitTouch;return de(de({},e||{}),{},{onMouseDown:Ce(e&&e.onMouseDown,r),onTouchStart:Ce(e&&e.onTouchStart,a)})},n}return fe(t,[{key:"render",value:function(){for(var e=this.getTrackProps,t=this.props,n=t.children,r=t.left,a=void 0===r||r,i=t.right,o=void 0===i||i,l=t.scale,s=void 0===l?new Re:l,c=t.handles,d=void 0===c?[]:c,u=t.getEventData,m=void 0===u?Be:u,f=t.activeHandleID,p=void 0===f?"":f,h=s.getDomain(),_=[],v=0;v<d.length+1;v++){var g=d[v-1],b=d[v];0===v&&!0===a?g={id:"$",value:h[0],percent:0}:v===d.length&&!0===o&&(b={id:"$",value:h[1],percent:100}),g&&b&&_.push({id:"".concat(g.id,"-").concat(b.id),source:g,target:b})}var y=n({getEventData:m,activeHandleID:p,tracks:_,getTrackProps:e});return y&&O.Children.only(y)}}]),t}();function Ue(e,t,n){return Math.min(Math.max(e,t),n)}var Le=fe(function e(){var t=this;ue(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(e){return t.domain=[e[0],e[1]],t},this.setRange=function(e){return t.range=[e[0],e[1]],t},this.setStep=function(e){return t.step=e,t},this.getValue=function(e){var n=ye(t.domain,2),r=n[0],a=n[1],i=ye(t.range,2),o=i[0],l=i[1],s=t.step,c=(Ue(e,r,a)-r)/(a-r);return Ue(s*Math.round(c*(l-o)/s)+o,o<l?o:l,l>o?l:o)}}),qe="undefined"!=typeof window&&"undefined"!=typeof document,$e=function(){},ze=[0,100],Ye=function(){he(t,N.PureComponent);var e=be(t);function t(){var n;ue(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))).state={step:.1,values:[],domain:ze,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},n.slider=O.createRef(),n.onKeyDown=function(e,t){var r=["ArrowRight","ArrowUp"],a=["ArrowDown","ArrowLeft"],i=ge(n),o=i.state.handles,l=i.props,s=l.step,c=void 0===s?.1:s,d=l.reversed,u=void 0!==d&&d,m=l.vertical,f=void 0!==m&&m,p=l.domain,h=void 0===p?[0,100]:p,_=e.key||"".concat(e.keyCode);if(r.concat(a).includes(_)){if(f){var v=[a,r];r=v[0],a=v[1]}e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var g=o.find(function(e){return e.key===t});if(g){var b=g.val,y=b;r.includes(_)?y=function(e,t,n,r){var a=r?e-t:e+t;return r?Math.max(n[0],a):Math.min(n[1],a)}(b,c,h,u):a.includes(_)&&(y=function(e,t,n,r){var a=r?e+t:e-t;return r?Math.min(n[1],a):Math.max(n[0],a)}(b,c,h,u));var x=o.map(function(e){return e.key===t?{key:e.key,val:y}:e});n.submitUpdate(x,!0)}}},n.onMouseDown=function(e,t){n.onStart(e,t,!1)},n.onTouchStart=function(e,t){Me(e)||n.onStart(e,t,!0)},n.getEventData=function(e,t){var r,a=ge(n),i=a.state,o=i.pixelToStep,l=i.valueToPerc,s=a.props.vertical;return o.setDomain(De(n.slider.current,s)),t&&e instanceof TouchEvent?r=o.getValue(Ie(s,e)):e instanceof MouseEvent&&(r=o.getValue(s?e.clientY:e.pageX)),{value:r,percent:l.getValue(r)}},n.onMouseMove=function(e){var t=ge(n),r=t.state,a=r.handles,i=r.pixelToStep,o=r.activeHandleID,l=void 0===o?"":o,s=t.props,c=s.vertical,d=s.reversed,u=void 0!==d&&d;i.setDomain(De(n.slider.current,c));var m=Pe(a,l,i.getValue(c?e.clientY:e.pageX),u);n.submitUpdate(m)},n.onTouchMove=function(e){var t=ge(n),r=t.state,a=r.handles,i=r.pixelToStep,o=r.activeHandleID,l=t.props,s=l.vertical,c=l.reversed;if(null!==i&&!Me(e)){i.setDomain(De(n.slider.current,s));var d=Pe(a,o,i.getValue(Ie(s,e)),c);n.submitUpdate(d)}},n.onMouseUp=function(){var e=ge(n),t=e.state,r=t.handles,a=void 0===r?[]:r,i=t.activeHandleID,o=e.props,l=o.onChange,s=void 0===l?$e:l,c=o.onSlideEnd,d=void 0===c?$e:c;s(a.map(function(e){return e.val})),d(a.map(function(e){return e.val}),{activeHandleID:i}),n.setState({activeHandleID:""}),qe&&(document.removeEventListener("mousemove",n.onMouseMove),document.removeEventListener("mouseup",n.onMouseUp))},n.onTouchEnd=function(){var e=ge(n),t=e.state,r=t.handles,a=t.activeHandleID,i=e.props,o=i.onChange,l=void 0===o?$e:o,s=i.onSlideEnd,c=void 0===s?$e:s;l(r.map(function(e){return e.val})),c(r.map(function(e){return e.val}),{activeHandleID:a}),n.setState({activeHandleID:""}),qe&&(document.removeEventListener("touchmove",n.onTouchMove),document.removeEventListener("touchend",n.onTouchEnd))},n}return fe(t,[{key:"componentDidMount",value:function(){var e=this.state.pixelToStep,t=this.props.vertical;e.setDomain(De(this.slider.current,t))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){qe&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(e,t,n){var r=this.state.handles,a=this.props.onSlideStart,i=void 0===a?$e:a;n||e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),r.find(function(e){return e.key===t})?(this.setState({activeHandleID:t}),i(r.map(function(e){return e.val}),{activeHandleID:t}),n?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(e,n))}},{key:"handleRailAndTrackClicks",value:function(e,t){var n,r=this,a=this.state,i=a.handles,o=a.pixelToStep,l=this.props,s=l.vertical,c=l.reversed,d=void 0!==c&&c,u=this.slider;o.setDomain(De(u.current,s)),n=t?o.getValue(Ie(s,e)):o.getValue(s?e.clientY:e.pageX);for(var m="",f=1/0,p=0;p<i.length;p++){var h=i[p],_=h.key,v=h.val,g=Math.abs(v-n);g<f&&(m=_,f=g)}var b=Pe(i,m,n,d);this.setState({activeHandleID:m},function(){r.submitUpdate(b,!0),t?r.addTouchEvents():r.addMouseEvents()})}},{key:"addMouseEvents",value:function(){qe&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){qe&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,r=n.mode,a=void 0===r?1:r,i=n.step,o=void 0===i?.1:i,l=n.onUpdate,s=void 0===l?$e:l,c=n.onChange,d=void 0===c?$e:c,u=n.reversed,m=void 0!==u&&u,f=this.state.valueToStep.getValue;this.setState(function(n){var r=n.handles,i=[];if("function"==typeof a)i=a(r,e,o,m,f),A(Array.isArray(i),"Custom mode function did not return an array.");else switch(a){case 1:i=function(e,t){return t}(0,e);break;case 2:i=function(e,t){for(var n=0;n<e.length;n++){if(e[n].key!==t[n].key)return e;if(t[n+1]&&t[n].val===t[n+1].val)return e}return t}(r,e);break;case 3:i=Oe(r,e,o,m,f);break;default:i=e,A(!1,"".concat(we," Invalid mode value."))}return s(i.map(function(e){return e.val})),t&&d(i.map(function(e){return e.val})),{handles:i}})}},{key:"render",value:function(){var e=this,t=this.state,n=t.handles,r=t.valueToPerc,a=t.activeHandleID,i=this.props,o=i.className,l=i.rootStyle,s=void 0===l?{}:l,c=i.rootProps,d=void 0===c?{}:c,u=i.component,m=void 0===u?"div":u,f=i.disabled,p=void 0!==f&&f,h=i.flatten,_=void 0!==h&&h,v=n.map(function(e){var t=e.key,n=e.val;return{id:t,value:n,percent:r.getValue(n)}}),g=O.Children.map(this.props.children,function(t){return!0===function(e){if(!N.isValidElement(e))return!1;var t=e.type,n=t?t.name:"";return n===Ae.name||n===Ee.name||n===Ve.name||n===He.name}(t)?O.cloneElement(t,{scale:r,handles:v,activeHandleID:a,getEventData:e.getEventData,emitKeyboard:p?$e:e.onKeyDown,emitMouse:p?$e:e.onMouseDown,emitTouch:p?$e:e.onTouchStart}):t});return _?O.createElement(O.Fragment,null,O.createElement(m,de(de({},d),{},{style:s,className:o,ref:this.slider})),g):O.createElement(O.Fragment,null,O.createElement(m,de(de({},d),{},{style:s,className:o,ref:this.slider}),g))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r,a=e.step,i=void 0===a?.1:a,o=e.values,l=e.domain,s=void 0===l?ze:l,c=e.reversed,d=void 0!==c&&c,u=e.onUpdate,m=void 0===u?$e:u,f=e.onChange,p=void 0===f?$e:f,h=e.warnOnChanges,_=void 0!==h&&h,v=t.valueToPerc,g=t.valueToStep,b=t.pixelToStep,y={};if(v&&g&&b||(v=new Re,g=new Le,b=new Le,y.valueToPerc=v,y.valueToStep=g,y.pixelToStep=b),t.domain===ze||null===t.step||null===t.domain||null===t.reversed||i!==t.step||s[0]!==t.domain[0]||s[1]!==t.domain[1]||d!==t.reversed){var x=ye(s,2),j=x[0],k=x[1];g.setStep(i).setRange([j,k]).setDomain([j,k]),!0===d?(v.setDomain([j,k]).setRange([100,0]),b.setStep(i).setRange([k,j])):(v.setDomain([j,k]).setRange([0,100]),b.setStep(i).setRange([j,k])),A(k>j,"".concat(we," Max must be greater than min (even if reversed). Max is ").concat(k,". Min is ").concat(j,"."));var w=Ne(o||t.values,d,g,_),S=w.handles;(w.changes||void 0===o||o===t.values)&&(m(S.map(function(e){return e.val})),p(S.map(function(e){return e.val}))),y.step=i,y.values=o,y.domain=s===ze?xe(s):s,y.handles=S,y.reversed=d}else if(n=o,r=t.values,!(n===r||n.length===r.length&&n.reduce(function(e){return function(t,n,r){return t&&e[r]===n}}(r),!0))){var P=Ne(o,d,g,_),D=P.handles;P.changes&&(m(D.map(function(e){return e.val})),p(D.map(function(e){return e.val}))),y.values=o,y.handles=D}return Object.keys(y).length?y:null}}]),t}();const Ke={slider:"_slider_w5hmp_1",rail:"_rail_w5hmp_7",handle:"_handle_w5hmp_15",track:"_track_w5hmp_36"},Xe=o.bind(Ke),Ze=({source:t,target:n,getTrackProps:r})=>e.jsx("div",{className:Xe("track","bg-accent-primary"),style:{width:n.percent-t.percent+"%"},...r()}),We=o.bind(Ke),Ge=({handle:{id:t,percent:n},getHandleProps:r})=>{const{i18n:a}=k();return e.jsx("div",{className:We("handle","bg-accent-primary"),style:{left:`${n}%`,marginLeft:"he"===a.language?"-12px":"0px"},...r(t)})},Je=o.bind(Ke),Qe=({min:t,max:n,step:r,values:a,onUpdate:i,onChange:o,"data-testid":l})=>{const{i18n:s}=k();return e.jsxs(Ye,{mode:1,step:r,domain:[t,n],onUpdate:i,onChange:o,values:a,reversed:"he"===s.language,className:Je("slider"),"data-testid":l,children:[e.jsx(Ee,{children:({getRailProps:t})=>e.jsx("div",{className:Je("rail","bg-base-secondaryDefaultButton"),...t()})}),e.jsx(Ae,{children:({handles:r,getHandleProps:a})=>e.jsx("div",{className:"slider-handles",children:r.map(r=>e.jsx(Ge,{handle:r,domain:[t,n],getHandleProps:a},r.id))})}),e.jsx(He,{left:"he"!==s.language,right:"he"===s.language,children:({tracks:t,getTrackProps:n})=>e.jsx("div",{className:"slider-tracks",children:t.map(({id:t,source:r,target:a})=>e.jsx(Ze,{source:r,target:a,getTrackProps:n},t))})})]})},et=o.bind({"slider-input":"_slider-input_2u5jo_1","range-ranges":"_range-ranges_2u5jo_12"}),tt=N.memo(({value:t,max:n,min:r,name:a,error:i,title:o,handleChange:l,disableRangeValues:s,tooltip:c,disableCurrency:d,unitsMax:u,unitsMin:m,"data-testid":f})=>{const[p,h]=N.useState(t);return N.useLayoutEffect(()=>{h(t)},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:et("slider-input"),children:[e.jsx(E,{disableCurrency:d,title:o,tooltip:c,name:a,error:i,value:p,handleChange:e=>{l(e)},"data-testid":f}),e.jsx(Qe,{min:0,max:n,step:1,values:[t],onUpdate:e=>{h(e[0])},onChange:e=>{l(e[0])},"data-testid":f?`${f}-slider`:void 0}),!s&&e.jsxs("div",{className:et("range-ranges"),children:[e.jsx("div",{children:e.jsxs("span",{className:a+"Min",children:[r.toLocaleString("en-US")," ",m&&m]})}),e.jsx("div",{children:e.jsxs("span",{className:a+"Max",children:[n.toLocaleString("en-US")," ",u&&u]})})]})]})})}),nt={"alert-warning":"_alert-warning_1kf35_1","alert-warning__text":"_alert-warning__text_1kf35_10",filled:"_filled_1kf35_18"},rt=o.bind(nt),at=({children:t,filled:n,icon:r,text:a})=>e.jsxs("div",{className:rt("alert-warning",{filled:n}),children:[e.jsx("div",{className:rt("alert-warning__icon"),children:r||e.jsx(R,{})}),e.jsx("span",{className:rt("alert-warning__text"),children:t||a})]}),it={info:"_info_1vgj8_1","info-title":"_info-title_1vgj8_11","info-icon":"_info-icon_1vgj8_19"},ot=o.bind(it),lt=({title:t})=>e.jsxs("div",{className:ot("info"),children:[e.jsx(g,{className:ot("info-icon"),size:24}),e.jsx("p",{className:ot("info-title"),children:t})]}),st={card:"_card_skcoa_1","card-title":"_card-title_skcoa_10","card-title__text":"_card-title__text_skcoa_21","card-children":"_card-children_skcoa_35","card-footer":"_card-footer_skcoa_40","card-check":"_card-check_skcoa_45","card-check__title":"_card-check__title_skcoa_50","card-check__price":"_card-check__price_skcoa_62","card-button":"_card-button_skcoa_73"},ct=o.bind(st),dt=({title:n,infoTitle:r,children:o,mortgageAmount:s,totalAmount:c,mothlyPayment:d,bankOffer:u,onBankSelect:m})=>{k();const{getContent:f}=b("mortgage_step4"),p=t(),h=s.toLocaleString("en-US"),_=c.toLocaleString("en-US"),v=d.toLocaleString("en-US");return e.jsxs("div",{className:ct("card"),children:[e.jsxs("div",{className:ct("card-title"),children:[e.jsx("h3",{className:ct("card-title__text"),children:n}),e.jsx(lt,{title:r})]}),e.jsx("div",{className:ct("card-children"),children:o}),e.jsx(y,{}),e.jsxs("div",{className:ct("card-footer"),children:[e.jsxs("div",{className:ct("card-check"),children:[e.jsx("p",{className:ct("card-check__title"),children:f("mortgage_total","mortgage_total")}),e.jsxs("p",{className:ct("card-check__price"),children:[h," ₪"]})]}),e.jsxs("div",{className:ct("card-check"),children:[e.jsx("p",{className:ct("card-check__title"),children:f("mortgage_total_return","mortgage_total_return")}),e.jsxs("p",{className:ct("card-check__price"),children:[_," ₪"]})]}),e.jsxs("div",{className:ct("card-check"),children:[e.jsx("p",{className:ct("card-check__title"),children:f("mortgage_monthly","mortgage_monthly")}),e.jsxs("p",{className:ct("card-check__price"),children:[v," ₪"]})]})]}),e.jsx("button",{type:"button",className:ct("card-button"),onClick:()=>{const e=u||{id:`bank_${Date.now()}`,bankName:n,program:r,rate:0,monthlyPayment:d,totalAmount:c,mortgageAmount:s};p(l({selectedBank:e,selectedBankId:e.id,selectedBankName:e.bankName})),m&&m(e),p(a("signUp")),p(i())},children:f("mortgage_select_bank","mortgage_select_bank")})]})},ut={container:"_container_ceieu_1",column:"_column_ceieu_8"},mt=o.bind(ut),ft=()=>{const{t:t,i18n:r}=k(),a=V(),{getContent:i}=b("bank_offers"),[o,l]=N.useState([]),[s,c]=N.useState([]),[d,u]=N.useState(!0),[m,f]=N.useState(null),p=n(e=>e.mortgage),h=n(e=>e.credit),_=n(e=>e.refinanceMortgage),v=n(e=>e.refinanceCredit),g=(()=>{switch(a){case"credit":return h;case"refinance-mortgage":return _;case"refinance-credit":return v;default:return p}})(),y=(()=>{switch(a){case"credit":return h;case"refinance-mortgage":return _;case"refinance-credit":return v;default:return p.incomeData}})(),x=n(e=>e.filter.mortgageType),j="credit"===a;N.useEffect(()=>{(async()=>{try{u(!0),f(null);const e=H((()=>{switch(a){case"credit":return h;case"refinance-mortgage":return _;case"refinance-credit":return v;default:return p}})(),g,y,a||void 0),t=await U(e);t.length,l(t)}catch(e){f(e.message||"Unknown error occurred")}finally{u(!1)}})()},[p,h,_,v,g,y,a,t]),N.useEffect(()=>{(async()=>{try{const e=await L(),n=r.language||"en",a=e.map(e=>{let r="he"===n?e.title:"ru"===n?e.title_ru:e.title_en;switch(e.id){case"prime":r=j?t("credit_prime_percent","Prime Rate Credit"):t("mortgage_prime_percent","Prime Rate Mortgage");break;case"fixed_inflation":r=j?t("credit_fix_percent","Fixed Rate Credit"):t("mortgage_fix_percent","Fixed Rate Mortgage");break;case"variable_inflation":r=j?t("credit_float_percent","Variable Rate Credit"):t("mortgage_float_percent","Variable Rate Mortgage")}return{id:e.id,title:r,description:"he"===n?e.description:"ru"===n?e.description_ru:e.description_en,conditionFinance:"he"===n?e.conditionFinance:"ru"===n?e.conditionFinance_ru:e.conditionFinance_en,conditionPeriod:"he"===n?e.conditionPeriod:"ru"===n?e.conditionPeriod_ru:e.conditionPeriod_en,conditionBid:"he"===n?e.conditionBid:"ru"===n?e.conditionBid_ru:e.conditionBid_en,interestRate:e.interestRate,termYears:e.termYears}});c(a)}catch(e){c(j?[{id:"prime",title:t("credit_prime_percent","Prime Rate Credit"),description:t("prime_description","Prime rate linked credit program"),conditionFinance:t("up_to_33_percent","Up to 33%"),conditionPeriod:t("4_to_30_years","4-30 years"),conditionBid:t("prime_rate_structure","Variable + Fixed components")},{id:"fixed_inflation",title:t("credit_fix_percent","Fixed rate linked to inflation"),description:t("fixed_inflation_description","Fixed rate with inflation adjustment"),conditionFinance:t("up_to_70_percent","Up to 70%"),conditionPeriod:t("5_to_30_years","5-30 years"),conditionBid:t("fixed_rate_structure","Fixed rate structure")},{id:"variable_inflation",title:t("credit_float_percent","Variable rate linked to inflation"),description:t("variable_inflation_description","Variable rate with inflation adjustment"),conditionFinance:t("up_to_75_percent","Up to 75%"),conditionPeriod:t("4_to_25_years","4-25 years"),conditionBid:t("variable_rate_structure","Variable rate structure")}]:[{id:"prime",title:t("mortgage_prime_percent","Prime Rate Mortgage"),description:t("prime_description","Prime rate linked mortgage program"),conditionFinance:t("up_to_33_percent","Up to 33%"),conditionPeriod:t("4_to_30_years","4-30 years"),conditionBid:t("prime_rate_structure","Variable + Fixed components")},{id:"fixed_inflation",title:t("mortgage_fix_percent","Fixed rate linked to inflation"),description:t("fixed_inflation_description","Fixed rate with inflation adjustment"),conditionFinance:t("up_to_70_percent","Up to 70%"),conditionPeriod:t("5_to_30_years","5-30 years"),conditionBid:t("fixed_rate_structure","Fixed rate structure")},{id:"variable_inflation",title:t("mortgage_float_percent","Variable rate linked to inflation"),description:t("variable_inflation_description","Variable rate with inflation adjustment"),conditionFinance:t("up_to_75_percent","Up to 75%"),conditionPeriod:t("4_to_25_years","4-25 years"),conditionBid:t("variable_rate_structure","Variable rate structure")}])}})()},[t,r.language,j]);const w=e=>"all"===x||j?e:e.filter(e=>{switch(x){case"prime":return"prime"===e.id;case"fixed":return"fixed_inflation"===e.id;case"variable":return"variable_inflation"===e.id;default:return!0}});return d?e.jsx("div",{className:mt("container"),children:i("loading_bank_offers",t("loading_bank_offers"))}):m?e.jsxs("div",{className:mt("container"),children:[i("bank_offers_error",t("bank_offers_error")),m]}):e.jsx("div",{className:mt("container"),children:0===o.length?e.jsxs("div",{className:mt("no-offers"),children:[e.jsx("h3",{children:i("no_bank_offers_available",t("no_bank_offers_available"))}),e.jsx("p",{children:i("no_offers_message",t("no_offers_message"))})]}):o.map((t,n)=>e.jsx(N.Fragment,{children:e.jsx("div",{className:mt("column"),children:e.jsx(dt,{title:t.bank_name||`${i("bank_name","Bank")} #${n+1}`,infoTitle:j?i("bank_offers_credit_register","bank_offers_credit_register"):i("mortgage_register","Mortgage Registration"),mortgageAmount:t.loan_amount,totalAmount:t.total_payment,mothlyPayment:t.monthly_payment,bankOffer:{id:t.bank_id,bankName:t.bank_name,program:j?"Credit Program":"Mortgage Program",rate:t.interest_rate,monthlyPayment:t.monthly_payment,totalAmount:t.total_payment,mortgageAmount:t.loan_amount},children:!j&&(w(s).length>0?w(s).map((n,r)=>e.jsx(B,{title:n.title,percent:t.interest_rate||n.interestRate||2.1,mortgageAmount:t.loan_amount,monthlyPayment:t.monthly_payment,period:t.term_years||n.termYears||20,description:n.description,conditionFinance:n.conditionFinance,conditionPeriod:n.conditionPeriod,conditionBid:n.conditionBid},r)):e.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:i("no_programs_match_filter",'No programs match your selected filter. Try selecting "All Programs" to see all available options.')}))},t.bank_id||n)})},t.bank_id||n))})},pt={dropdown:"_dropdown_s6dzj_1"},ht=o.bind(pt),_t=({screenLocation:r}={})=>{k();const a=C(),i=n(e=>e.filter),o=t(),l=(()=>{if(r)return r;return a.pathname.includes("refinance-credit"),"mortgage_step4"})(),{getContent:c}=b(l),d=$(l,"filter","full");d.loading,d.error;const u=a.pathname.includes("credit"),m=d.options.length>0?d.options:u?[{value:"filter_1",label:c("calculate_mortgage_filter_1","כל הצעות האשראי")},{value:"filter_2",label:c("calculate_mortgage_filter_2","הצעות בריבית מועדפת")},{value:"filter_3",label:c("calculate_mortgage_filter_3","הצעות בריבית קבועה")},{value:"filter_4",label:c("calculate_mortgage_filter_4","הצעות בריבית משתנה")}]:[{value:"filter_1",label:c("calculate_mortgage_filter_1","כל תוכניות המשכנתא")},{value:"filter_2",label:c("calculate_mortgage_filter_2","משכנתאות בריבית פריים")},{value:"filter_3",label:c("calculate_mortgage_filter_3","משכנתאות בריבית קבועה")},{value:"filter_4",label:c("calculate_mortgage_filter_4","משכנתאות בריבית משתנה")}],f=u?{title:c("calculate_mortgage_filter_title","סנן הצעות אשראי"),placeholder:c("calculate_mortgage_filter_title","סנן הצעות אשראי")}:{title:c("calculate_mortgage_filter_title","סנן לפי סוג משכנתא"),placeholder:c("calculate_mortgage_filter_title","סנן לפי סוג משכנתא")};return e.jsxs(z,{children:[e.jsx(Y,{data:m,title:d.label||f.title,placeholder:d.placeholder||f.placeholder,value:(()=>{switch(i.mortgageType){case"all":default:return"filter_1";case"prime":return"filter_2";case"fixed":return"filter_3";case"variable":return"filter_4"}})(),onChange:e=>o(s(e)),className:ht("dropdown"),style:{background:"transparent !important"},disabled:d.loading}),d.error&&e.jsx(x,{error:c("error_dropdown_load_failed","Failed to load filter options. Please refresh the page.")})]})},vt=t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",...t,children:e.jsx("path",{fill:"#FBE54D",d:"m21.31 6.88-4.188-4.19a1.5 1.5 0 0 0-2.122 0L3.44 14.25A1.487 1.487 0 0 0 3 15.312v4.19A1.5 1.5 0 0 0 4.5 21h4.19a1.487 1.487 0 0 0 1.06-.44l11.56-11.56a1.5 1.5 0 0 0 0-2.122ZM8.69 19.5H4.5v-4.189l8.25-8.25 4.19 4.19-8.25 8.25ZM18 10.19 13.81 6l2.25-2.25 4.19 4.19L18 10.19Z"})}),gt={profile:"_profile_dtpha_1","profile-title":"_profile-title_dtpha_16","profile-title__text":"_profile-title__text_dtpha_21","profile-title__icon":"_profile-title__icon_dtpha_27","profile-data":"_profile-data_dtpha_34","profile-data__name":"_profile-data__name_dtpha_39","profile-data__phone":"_profile-data__phone_dtpha_45"},bt=o.bind(gt),yt=({name:t,phone:n})=>{const{t:r,i18n:a}=k(),{getContent:i}=b("mortgage_step4"),o=T();return e.jsx(z,{children:e.jsxs("div",{className:bt("profile"),children:[e.jsxs("div",{className:bt("profile-title"),children:[e.jsx("p",{className:bt("profile-title__text"),children:i("calculate_mortgage_profile_title","calculate_mortgage_profile_title")}),e.jsx(vt,{onClick:()=>o("/services/calculate-mortgage/2"),className:bt("profile-title__icon")})]}),e.jsxs("div",{className:bt("profile-data"),children:[e.jsx("div",{className:bt("profile-data__name"),children:t}),e.jsx("div",{className:bt("profile-data__phone"),children:n&&F(n,a.language)})]})]})})},xt=({cost:t,initialPayment:n,period:r,credit:a,nameSurname:i,phoneNumber:o})=>e.jsxs(K,{style:{columnGap:"3rem",justifyContent:"flex-start"},children:[e.jsx(q,{cost:t,initialPayment:n,period:r,credit:a}),e.jsx(yt,{name:i,phone:o}),e.jsx(z,{})]}),jt={modal:"_modal_lzcpe_1","modal-item":"_modal-item_lzcpe_18","modal-buttons":"_modal-buttons_lzcpe_31",buttons:"_buttons_lzcpe_49"},kt=o.bind(jt),wt=()=>{const{t:n,i18n:a}=k(),{handleSubmit:i,isValid:o,values:l}=w(),s=t();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:kt("modal"),children:[e.jsxs("div",{className:kt("modal-item"),children:[e.jsx(X,{excludeNoIncome:!0}),l.additionalIncome&&"no_additional_income"!==l.additionalIncome&&e.jsx(Z,{})]}),e.jsx("div",{className:kt("modal-buttons"),children:e.jsxs("div",{className:kt("buttons"),children:[e.jsx(v,{variant:"modalBase",type:"submit",onClick:()=>s(r()),children:n("button_back")}),e.jsx(v,{type:"submit",isDisabled:!o,onClick:i,size:"full",children:n("button_next_save")})]})})]})})},St=()=>{const{t:a,i18n:i}=k(),{getContent:o}=b("common");N.useEffect(()=>{c()},[i.language]);const l=t(),s=n(e=>e.modalSlice.isOpenAdditionalIncome),m=n(e=>e.modalSlice.currentId),f=n(e=>e.borrowers.additionalIncomeModal),p=void 0!==f[m-1]?f[m-1]:void 0,h=()=>{l(r())},_=n(e=>e.borrowers.additionalIncomeModal),v=!_.some(e=>e.id===m)?W(_):m,g={additionalIncome:(null==p?void 0:p.additionalIncome)||"",additionalIncomeAmount:(null==p?void 0:p.additionalIncomeAmount)||null},y=S().shape({additionalIncome:P().required(d("error_select_one_of_the_options","Please select one of the options")).test("not-empty",d("error_select_one_of_the_options","Please select one of the options"),e=>null!=e&&""!==e),additionalIncomeAmount:D().when("additionalIncome",{is:e=>e&&"no_additional_income"!==e,then:e=>e.required(d("error_fill_field","Please fill this field")),otherwise:e=>e.notRequired()})});return e.jsx(j,{isVisible:s,onCancel:h,title:`${o("additional_source_of_income_modal_title","Additional Source of Income")} ${v+1}`,children:e.jsx(M,{initialValues:g,validationSchema:y,validateOnMount:!0,onSubmit:e=>{l(u({id:v,...e})),h()},children:e.jsx(I,{children:e.jsx(wt,{})})})})},Pt={modal:"_modal_r2hy9_1","modal-item":"_modal-item_r2hy9_18","modal-buttons":"_modal-buttons_r2hy9_23",container:"_container_r2hy9_41",component:"_component_r2hy9_47",buttons:"_buttons_r2hy9_59"},Dt=o.bind(Pt),Mt=()=>{const{t:n,i18n:a}=k(),{getContent:i}=b("common"),{handleSubmit:o,isValid:l,values:s,errors:c}=w(),d=t(),{obligation:u}=s,m=(e=>{if(!e||"5"===e||"no_obligations"===e)return"";if(e&&!e.match(/^\d+$/))return e;return{1:"bank_loan",2:"consumer_credit",3:"credit_card",4:"other"}[e]||""})(u);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:Dt("modal"),children:[e.jsxs("div",{className:Dt("container"),children:[e.jsx(G,{}),J[m]&&J[m].map((t,n)=>e.jsx("div",{className:Dt("component"),children:t},n)),e.jsx(z,{})]}),e.jsx("div",{className:Dt("modal-buttons"),children:e.jsxs("div",{className:Dt("buttons"),children:[e.jsx(v,{variant:"modalBase",type:"button",onClick:()=>d(r()),children:i("button_back")||("he"===a.language?"חזור":"ru"===a.language?"Назад":"Back")}),e.jsx(v,{type:"submit",isDisabled:!l,onClick:o,size:"full",children:i("button_next_save")||("he"===a.language?"שמור והמשך":"ru"===a.language?"Сохранить и продолжить":"Save and Continue")})]})})]})})};function It(){return S().shape({obligation:P().required(d("error_select_one_of_the_options","Please select one of the options")),bank:P().when("obligation",{is:e=>e&&"no_obligations"!==e&&"other"!==e,then:e=>e.required(d("error_select_bank","Please select a bank")),otherwise:e=>e.notRequired()}),monthlyPaymentForAnotherBank:D().when("obligation",{is:e=>e&&"no_obligations"!==e&&"other"!==e,then:e=>e.required(d("error_fill_field","Please fill this field")),otherwise:e=>e.notRequired()}),endDate:P().when("obligation",{is:e=>e&&"no_obligations"!==e&&"other"!==e,then:e=>e.required(d("error_date","Please enter a valid date")),otherwise:e=>e.notRequired()})})}const Nt=()=>{const{t:a,i18n:i}=k(),{getContent:o}=b("common"),[l,s]=N.useState(()=>It()),c=t();N.useEffect(()=>{(async()=>{await f();const e=It();s(e)})()},[i.language]);const d=n(e=>e.modalSlice.isOpenObligation),u=n(e=>e.modalSlice.currentId),p=n(e=>e.borrowers.obligationModal),h=void 0!==p[u-1]?p[u-1]:void 0,_=()=>{c(r())},v=!p.some(e=>e.id===u)?W(p):u,g={obligation:(null==h?void 0:h.obligation)||"",bank:(null==h?void 0:h.bank)||"",monthlyPaymentForAnotherBank:(null==h?void 0:h.monthlyPaymentForAnotherBank)||null,endDate:(null==h?void 0:h.endDate)||(new Date).toISOString().split("T")[0],noIncome:(null==h?void 0:h.noIncome)||(new Date).toISOString().split("T")[0]};return e.jsx(j,{isVisible:d,onCancel:_,title:`${o("obligation_modal_title",a("obligation_modal_title"))} ${v+1}`,children:e.jsx(M,{initialValues:g,validationSchema:l,validateOnMount:!0,onSubmit:e=>{c(m({id:v,...e})),_()},children:e.jsx(I,{children:e.jsx(Mt,{})})})})},Ot={modal:"_modal_1gdud_1","modal-item":"_modal-item_1gdud_18","modal-buttons":"_modal-buttons_1gdud_23",container:"_container_1gdud_41",component:"_component_1gdud_47",buttons:"_buttons_1gdud_59"},Ct=o.bind(Ot),Tt=()=>{const{t:n,i18n:a}=k(),{handleSubmit:i,isValid:o,values:l,errors:s,touched:c,validateForm:d}=w(),u=window.location.pathname,m=u.includes("calculate-credit")?"credit_step3":u.includes("calculate-mortgage")?"mortgage_step3":u.includes("refinance-mortgage")?"refinance_step3":u.includes("other-borrowers")?"other_borrowers_step2":"credit_step3",{mainSourceOfIncome:f}=l,p=(e=>{if(e&&!e.match(/^\d+$/))return e;return{1:"employee",2:"selfemployed",3:"selfemployed",4:"pension",5:"student",6:"unemployed",7:"other"}[e]||""})(f),h=ee(m);O.useEffect(()=>{},[f,p,m,h]);const _=t();return O.useEffect(()=>{},[o,l,s,c]),O.useEffect(()=>{f&&d()},[f,d]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:Ct("modal"),children:[e.jsxs("div",{className:Ct("container"),children:[e.jsx("div",{className:Ct("component"),children:e.jsx(Q,{})}),h[p]&&h[p].map((t,n)=>e.jsx("div",{className:Ct("component"),children:t},n)),e.jsx(z,{})]}),e.jsx("div",{className:Ct("modal-buttons"),children:e.jsxs("div",{className:Ct("buttons"),children:[e.jsx(v,{variant:"modalBase",type:"button",onClick:()=>_(r()),children:n("button_back")}),e.jsx(v,{type:"button",isDisabled:!o,onClick:i,size:"full",children:n("button_next_save")})]})})]})})},Et=()=>{k();const{getContent:a}=b("common"),i=t(),o=n(e=>e.modalSlice.isOpenSourceOfIncome),l=n(e=>e.modalSlice.currentId),s=n(e=>e.borrowers.sourceOfIncomeModal),c=void 0!==s[l-1]?s[l-1]:void 0,u=()=>{i(r())},m=!s.some(e=>e.id===l)?W(s):l,f={mainSourceOfIncome:(null==c?void 0:c.mainSourceOfIncome)||"",monthlyIncome:(null==c?void 0:c.monthlyIncome)||null,startDate:(null==c?void 0:c.startDate)||(new Date).getTime(),fieldOfActivity:(null==c?void 0:c.fieldOfActivity)||"",profession:(null==c?void 0:c.profession)||"",companyName:(null==c?void 0:c.companyName)||"",amountIncomeCurrentYear:(null==c?void 0:c.amountIncomeCurrentYear)||null},h=S().shape({mainSourceOfIncome:P().required(d("error_select_answer","Please select an answer")),monthlyIncome:D().transform((e,t)=>{if("string"==typeof t){const e=t.replace(/[^0-9]/g,"");return e?parseInt(e,10):null}return e}).when("mainSourceOfIncome",{is:e=>null!=e&&""!==e&&!["unpaid_leave","unemployed"].includes(e),then:e=>e.required(d("error_fill_field","Please fill this field")),otherwise:e=>e.notRequired()}),startDate:P().when("mainSourceOfIncome",{is:e=>null!=e&&""!==e&&!["unpaid_leave","unemployed"].includes(e),then:e=>e.required(d("error_date","Please select a date")),otherwise:e=>e.notRequired()}),fieldOfActivity:P().when("mainSourceOfIncome",{is:e=>null!=e&&""!==e&&!["unpaid_leave","unemployed"].includes(e),then:e=>e.required(d("error_select_field_of_activity","Please select field of activity")),otherwise:e=>e.notRequired()}),profession:P().when("mainSourceOfIncome",{is:e=>null!=e&&""!==e&&!["unpaid_leave","unemployed"].includes(e),then:e=>e.required(d("error_fill_field","Please fill this field")),otherwise:e=>e.notRequired()}),companyName:P().when("mainSourceOfIncome",{is:e=>null!=e&&""!==e&&!["unpaid_leave","unemployed"].includes(e),then:e=>e.required(d("error_fill_field","Please fill this field")),otherwise:e=>e.notRequired()})});return e.jsx(j,{isVisible:o,onCancel:u,title:`${a("source_of_income_modal_title","Source of Income")} ${m+1}`,children:e.jsx(M,{initialValues:f,validationSchema:h,validateOnMount:!1,validateOnChange:!0,validateOnBlur:!0,onSubmit:e=>{i(p({id:m,...e})),u()},children:e.jsx(I,{children:e.jsx(Tt,{})})})})};export{at as A,ft as B,_t as F,te as M,Nt as O,tt as S,xt as U,ae as a,Et as b,St as c};
