import{c as je,r as D,a as O,j as e,b as z,u as v,w as re,i as s,f as L,U as fe,y as ye,x as T,R as ce,z as be,A as ve,D as we,E as Me,F as De,G as Se,H as Be,I as Ie,J as Fe,K as de,M as ge,P as Ce,Q as Ne,S as Oe}from"./index-8c325235.js";import{b as J,h as Pe,u as qe,W as Ee,T as B,D as S,E as P,c as K,e as x,d as I,g as ie,F as Q,f as X,a as Z,L as ke}from"./index-9bc675d4.js";import{P as Re}from"./ProgressBar-0e664a1a.js";import{V as $e}from"./VideoPoster-f7235551.js";import{A as he,f as ne,S as me,a as Ae,L as Te,U as ze,F as Le,B as Ve,b as Ue,P as We,c as Ye,d as He,e as Ge,O as Je}from"./SourceOfIncomeModal-bd7df346.js";import{D as C,d as q,e as H,R as y,C as l,F as ee,a as ae,b as Y,c as le}from"./Calendar-665a9561.js";import{c as oe,a as Ke,I as Qe}from"./IncreasePayment-042dfccc.js";import{D as se,E as Xe}from"./ExitModule-6e90d3ed.js";import{A as N,g as G,U as E,a as Ze,c as _e,b as ea,d as aa,O as ta,e as ue}from"./componentsByIncomeSource-e23d9c96.js";import{R as ra,I as na,N as oa,B as sa,E as ia,A as la,C as ca,T as da,a as ga,b as ma,H as _a,M as ua,c as ha,P as pa}from"./Taxes-a24fcfb3.js";import{F as xa}from"./FamilyStatus-f8572360.js";import"./ShieldCheckIcon-2e6671e5.js";const ja="_container_eif05_59",fa="_col_eif05_65",ya="_title_eif05_111",ba={"mortgage-data":"_mortgage-data_eif05_1","mortgage-data-title":"_mortgage-data-title_eif05_6","mortgage-data-title__text":"_mortgage-data-title__text_eif05_20","mortgage-data-title__button":"_mortgage-data-title__button_eif05_26","mortgage-data-form":"_mortgage-data-form_eif05_42","mortgage-data-form__items":"_mortgage-data-form__items_eif05_48","button-left__icon":"_button-left__icon_eif05_54",container:ja,col:fa,"col-1":"_col-1_eif05_70","col-2":"_col-2_eif05_74","col-3":"_col-3_eif05_78","col-4":"_col-4_eif05_82","col-5":"_col-5_eif05_86","delete-icon":"_delete-icon_eif05_94",title:ya,delete:"_delete_eif05_94"},m=je.bind(ba),va=()=>{var U;const[a,d]=D.useState([]),[r,p]=D.useState(null),{values:c,setFieldValue:g,errors:f,touched:_,setFieldTouched:k}=J(),[R,{open:$,close:w}]=Pe(!1),{isDesktop:j,isTablet:u,isMobile:h}=qe(),{t:o,i18n:M}=O();M.language=M.language.split("-")[0],D.useEffect(()=>{d(c.mortgageData)},[c.mortgageData]);const i=()=>{const b={id:G(a),program:"",balance:null,endDate:"",bid:null};g("mortgageData",[...a,b])},F=n=>{p(n),$()},te=()=>{if(r!==null){const n=a.filter(b=>b.id!==r);g("mortgageData",n)}w()},A=[{value:"option_1",label:o("program_refinance_mortgage_option_1")},{value:"option_2",label:o("program_refinance_mortgage_option_2")},{value:"option_3",label:o("program_refinance_mortgage_option_3")},{value:"option_4",label:o("program_refinance_mortgage_option_4")},{value:"option_5",label:o("program_refinance_mortgage_option_5")}],V=a.reduce((n,b)=>n+b.balance,0);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:m("mortgage-data"),children:[e.jsxs("div",{className:m("mortgage-data-title"),children:[e.jsx("h4",{className:m("mortgage-data-title__text"),children:o("enter_mortgage_info")}),_.mortgageData&&f.mortgageData&&e.jsx(he,{filled:!0,icon:e.jsx(Ee,{size:24,color:"#E76143"}),children:e.jsx("p",{children:o("error_balance",{fullBalance:(U=c==null?void 0:c.mortgageBalance)==null?void 0:U.toLocaleString("en-US"),sumBalance:V.toLocaleString("en-US"),notEnoughBalance:(c.mortgageBalance-V).toLocaleString("en-US")})})})]}),j&&e.jsxs("div",{className:m("mortgage-data-form"),children:[e.jsxs("div",{className:m("container","title"),children:[e.jsx("p",{className:m("col","col-1"),children:o("programm")}),e.jsx("p",{className:m("col","col-2"),children:o("balance")}),e.jsx("p",{className:m("col","col-3"),children:o("end_date")}),e.jsx("p",{className:m("col","col-4"),children:o("bid")}),e.jsx("div",{className:m("col","col-5")})]}),e.jsxs("div",{className:m("mortgage-data-form__items"),children:[a.map(n=>e.jsxs("div",{className:m("container"),children:[e.jsx("div",{className:m("col","col-1"),children:e.jsx(C,{data:A,placeholder:o("calculate_mortgage_first_ph"),value:n.program,onChange:b=>g(`mortgageData.${n.id-1}.program`,b)})}),e.jsx("div",{className:m("col","col-2"),children:e.jsx(q,{placeholder:"10,000",value:n.balance,handleChange:b=>g(`mortgageData.${n.id-1}.balance`,b),onBlur:()=>k("mortgageData",!0),error:_.mortgageData&&f.mortgageData})}),e.jsx("div",{className:m("col","col-3"),children:e.jsx(H,{placeholder:o("date_ph"),value:n.endDate,onChange:b=>g(`mortgageData.${n.id-1}.endDate`,b)})}),e.jsx("div",{className:m("col","col-4"),children:e.jsx(q,{placeholder:"1",type:"numeric",value:n.bid,handleChange:b=>g(`mortgageData.${n.id-1}.bid`,b),rightSection:e.jsx(ne,{color:"#FFF"})})}),e.jsx("div",{className:m("col","col-5"),children:n.id!==1&&e.jsx(se,{onClick:()=>F(n.id),className:m("delete")})})]},n.id)),e.jsxs("div",{className:m("container"),children:[e.jsx("div",{className:m("col","col-1"),children:e.jsx(N,{variant:"none",color:"#FBE54D",value:o("add_programm"),onClick:i})}),e.jsx("div",{className:m("col","col-2")}),e.jsx("div",{className:m("col","col-3")}),e.jsx("div",{className:m("col","col-4")}),e.jsx("div",{className:m("col","col-5")})]})]})]}),u&&e.jsx("div",{className:m("mortgage-data-form"),children:e.jsx("div",{className:m("mortgage-data-form__items"),children:e.jsxs(y,{children:[a.map((n,b)=>e.jsxs(D.Fragment,{children:[e.jsxs(l,{children:[e.jsx(B,{title:`${o("programm")} #${n.id}`}),e.jsx(C,{data:A,placeholder:o("calculate_mortgage_first_ph"),value:n.program,onChange:t=>g(`mortgageData.${n.id-1}.program`,t)})]}),e.jsxs(l,{children:[e.jsx(B,{title:o("balance")}),e.jsx(q,{placeholder:"10,000",value:n.balance,handleChange:t=>g(`mortgageData.${n.id-1}.balance`,t)})]}),e.jsx(l,{children:e.jsx(H,{title:o("end_date"),placeholder:o("date_ph"),value:n.endDate,onChange:t=>g(`mortgageData.${n.id-1}.endDate`,t)})}),e.jsxs(l,{children:[e.jsx(B,{title:o("bid")}),e.jsx(q,{placeholder:"1",value:n.bid,handleChange:t=>g(`mortgageData.${n.id-1}.bid`,t),rightSection:e.jsx(ne,{color:"#FFF"})})]}),n.id!==1&&e.jsx(l,{children:e.jsxs("div",{className:m("delete-icon"),children:[e.jsx(se,{onClick:()=>F(n.id)}),o("delete")]})}),b!==a.length-1&&e.jsx(S,{})]},n.id)),e.jsx(l,{children:e.jsx(N,{variant:"none",color:"#FBE54D",value:o("add_programm"),onClick:i})})]})})}),h&&e.jsx("div",{className:m("mortgage-data-form"),children:e.jsx("div",{className:m("mortgage-data-form__items"),children:e.jsxs(y,{children:[a.map((n,b)=>e.jsxs(D.Fragment,{children:[e.jsxs(l,{children:[e.jsx(B,{title:`${o("programm")} #${n.id}`}),e.jsx(C,{data:A,placeholder:o("calculate_mortgage_first_ph"),value:n.program,onChange:t=>g(`mortgageData.${n.id-1}.program`,t)})]}),e.jsxs(l,{children:[e.jsx(B,{title:o("balance")}),e.jsx(q,{placeholder:"10,000",value:n.balance,handleChange:t=>g(`mortgageData.${n.id-1}.balance`,t)})]}),e.jsx(l,{children:e.jsx(H,{title:o("end_date"),placeholder:o("date_ph"),value:n.endDate,onChange:t=>g(`mortgageData.${n.id-1}.endDate`,t)})}),e.jsxs(l,{children:[e.jsx(B,{title:o("bid")}),e.jsx(q,{placeholder:"1",value:n.bid,handleChange:t=>g(`mortgageData.${n.id-1}.bid`,t),rightSection:e.jsx(ne,{color:"#FFF"})})]}),n.id!==1&&e.jsx(l,{children:e.jsxs("div",{className:m("delete-icon"),children:[e.jsx(se,{onClick:()=>F(n.id)}),o("delete")]})}),b!==a.length-1&&e.jsx(S,{})]},n.id)),e.jsx(l,{children:e.jsx(N,{variant:"none",color:"#FBE54D",value:o("add_programm"),onClick:i})})]})})})]}),e.jsx(Xe,{text:o("remove_programm"),isVisible:R,onCancel:w,onSubmit:te})]})},wa=()=>{const{t:a,i18n:d}=O();d.language=d.language.split("-")[0];const[r,p]=D.useState(51130),[c,g]=D.useState(2654),f=z(),_=v(i=>i.activeField),k=[{value:"option_1",label:a("calculate_mortgage_type_options_1")},{value:"option_2",label:a("calculate_mortgage_type_options_2")},{value:"option_3",label:a("calculate_mortgage_type_options_3")},{value:"option_4",label:a("calculate_mortgage_type_options_4")},{value:"option_5",label:a("calculate_mortgage_type_options_5")}],R=[{value:"option_1",label:a("mortgage_refinance_why_option_1")},{value:"option_2",label:a("mortgage_refinance_why_option_2")},{value:"option_3",label:a("mortgage_refinance_why_option_3")},{value:"option_4",label:a("mortgage_refinance_why_option_4")},{value:"option_5",label:a("mortgage_refinance_why_option_5")}],$=[{value:"option_1",label:a("mortgage_refinance_reg_option_1")},{value:"option_2",label:a("mortgage_refinance_reg_option_2")},{value:"option_3",label:a("mortgage_refinance_reg_option_3")},{value:"option_4",label:a("mortgage_refinance_reg_option_4")},{value:"option_5",label:a("mortgage_refinance_reg_option_5")}],w=[{value:"hapoalim",label:"Bank Hapoalim"},{value:"leumi",label:"Leumi Bank"},{value:"discount",label:"Discount Bank"},{value:"massad",label:"Massad Bank"},{value:"israel",label:"Bank of Israel"}],{setFieldValue:j,values:u,errors:h,touched:o,setFieldTouched:M}=J();return D.useLayoutEffect(()=>{const i=oe(u.mortgageBalance,0,4),F=oe(u.mortgageBalance,0,30);Number.isNaN(i)||p(i),i===0&&p(1),Number.isNaN(i)||g(F)},[u.mortgageBalance]),D.useEffect(()=>{if(_==="period"){const i=oe(u.mortgageBalance,0,u.period);Number.isNaN(i)||j("monthlyPayment",i)}else{const i=Ke(u.mortgageBalance,0,u.monthlyPayment);Number.isNaN(i)||j("period",i)}},[_,j,u.monthlyPayment,u.mortgageBalance,u.period]),console.log(h),e.jsx(e.Fragment,{children:e.jsxs(ee,{children:[e.jsx(ae,{title:a("sidebar_sub_refinance_mortgage")}),e.jsxs(y,{children:[e.jsx(l,{children:e.jsx(C,{data:R,title:a("mortgage_refinance_why"),placeholder:a("calculate_mortgage_citizenship_ph"),value:u.whyRefinancingMortgage,onChange:i=>j("whyRefinancingMortgage",i),onBlur:()=>M("whyRefinancingMortgage"),error:o.whyRefinancingMortgage&&h.whyRefinancingMortgage})}),e.jsxs(l,{children:[e.jsx(Y,{name:"PriceOfEstate",title:a("mortgage_refinance_left"),value:u.mortgageBalance,placeholder:"1,000,000",handleChange:i=>{f(re("period")),j("mortgageBalance",i)},onBlur:()=>M("mortgageBalance"),error:o.mortgageBalance&&h.mortgageBalance}),o.mortgageBalance&&h.mortgageBalance&&e.jsx(P,{error:h.mortgageBalance})]}),e.jsxs(l,{children:[e.jsx(Y,{handleChange:i=>j("priceOfEstate",i),name:"PriceOfEstate",title:a("mortgage_refinance_price"),value:u.priceOfEstate,placeholder:"1,000,000",error:h.priceOfEstate}),h.priceOfEstate&&e.jsx(P,{error:h.priceOfEstate})]})]}),e.jsxs(y,{children:[e.jsx(l,{children:e.jsx(C,{data:k,title:a("mortgage_refinance_type"),placeholder:a("mortgage_refinance_type_ph"),value:u.typeSelect,onChange:i=>j("typeSelect",i),onBlur:()=>M("typeSelect"),error:o.typeSelect&&h.typeSelect})}),e.jsx(l,{children:e.jsx(C,{data:w,title:a("mortgage_refinance_bank"),placeholder:a("calculate_mortgage_citizenship_ph"),value:u.bank,onChange:i=>j("bank",i),onBlur:()=>M("bank"),error:o.bank&&h.bank})}),e.jsx(l,{children:e.jsx(C,{data:$,title:a("mortgage_refinance_registered"),placeholder:a("calculate_mortgage_citizenship_ph"),value:u.propertyRegistered,onChange:i=>j("propertyRegistered",i),onBlur:()=>M("propertyRegistered"),error:o.propertyRegistered&&h.propertyRegistered})})]}),e.jsxs(y,{children:[e.jsx(l,{children:e.jsx(H,{title:a("start_date_mortgage_title"),placeholder:a("date_ph"),value:u.startDate,onChange:i=>j("startDate",i)})}),u.whyRefinancingMortgage==="option_2"&&e.jsxs(l,{children:[e.jsx(Y,{handleChange:i=>j("decreaseMortgage",i),name:"PriceOfEstate",title:a("mortgage_refinance_decrease"),value:u.decreaseMortgage,placeholder:"1,000,000",onBlur:()=>M("decreaseMortgage"),error:o.decreaseMortgage&&h.decreaseMortgage}),o.decreaseMortgage&&h.decreaseMortgage&&e.jsx(P,{error:h.decreaseMortgage})]}),u.whyRefinancingMortgage==="option_3"&&e.jsxs(l,{children:[e.jsx(Y,{handleChange:i=>j("increaseMortgage",i),name:"PriceOfEstate",title:a("mortgage_refinance_increase"),value:u.increaseMortgage,placeholder:"1,000,000",onBlur:()=>M("increaseMortgage"),error:o.increaseMortgage&&h.increaseMortgage}),o.increaseMortgage&&h.increaseMortgage&&e.jsx(P,{error:h.increaseMortgage})]}),e.jsx(l,{})]}),e.jsx(S,{}),e.jsx(y,{children:e.jsx(va,{})}),e.jsx(S,{}),e.jsxs(y,{children:[e.jsxs(l,{children:[e.jsx(me,{disableCurrency:!0,unitsMax:a("calculate_mortgage_period_units_max"),unitsMin:a("calculate_mortgage_period_units_min"),value:u.period,name:"Period",min:4,max:30,error:h.period,title:a("calculate_mortgage_period"),handleChange:i=>{f(re("period")),j("period",i)}}),h.period&&e.jsx(P,{error:h.period})]}),e.jsxs(l,{children:[e.jsx(me,{unitsMax:"₪",unitsMin:"₪",value:u.monthlyPayment,name:"monthlyPayment",min:c,max:r,error:h.monthlyPayment,title:a("calculate_mortgage_initial_payment"),handleChange:i=>{f(re("monthlyPayment")),j("monthlyPayment",i)}}),e.jsx(Qe,{}),h.monthlyPayment&&e.jsx(P,{error:h.monthlyPayment})]}),e.jsx(l,{})]})]})})},Ma=D.memo(wa),Da=K().shape({whyRefinancingMortgage:x().required(s.t("error_select_answer")),mortgageBalance:I().test("is-less","Остаток по ипотеке не может быть больше чем стоимость недвижимости",function(a){const{priceOfEstate:d}=this.parent;return typeof a>"u"?!0:typeof d=="number"?a<=d:!0}).required(s.t("error_required_to_fill_out")),priceOfEstate:I().test("is-greater","Полная стоимость недвижимости не может быть меньше чем остаток ипотеки",function(a){const{mortgageBalance:d}=this.parent;return typeof a>"u"?!0:typeof d=="number"?a>=d:!0}).required(s.t("error_required_to_fill_out")),typeSelect:x().required(s.t("error_select_answer")),bank:x().required(s.t("error_select_answer")),propertyRegistered:x().required(s.t("error_select_answer")),period:I().min(4,s.t("error_min_period")).max(30,s.t("error_max_period")).required(s.t("error_required_to_fill_out")),decreaseMortgage:x().when("whyRefinancingMortgage",{is:s.t("calculate_mortgage_type_options_2"),then:a=>a.required(s.t("error_select_answer")),otherwise:a=>a.notRequired()}),increaseMortgage:x().when("whyRefinancingMortgage",{is:s.t("calculate_mortgage_type_options_3"),then:a=>a.required(s.t("error_select_answer")),otherwise:a=>a.notRequired()}),mortgageData:ie().test("is-balance-sum-equal","Сумма балансов ипотек не соответствует заданному значению",function(){return this.parent.mortgageData.reduce((d,r)=>d+(r.balance||0),0)===this.parent.mortgageBalance})}),Sa=()=>{const{t:a,i18n:d}=O();d.language=d.language.split("-")[0];const r=z(),p=L(),c=v(_=>_.refinanceMortgage),g=v(_=>_.login.isLogin),f={whyRefinancingMortgage:c.whyRefinancingMortgage||"",mortgageBalance:c.mortgageBalance||2e5,priceOfEstate:c.priceOfEstate||1e6,typeSelect:c.typeSelect||"",bank:c.bank||"",startDate:c.startDate||"",propertyRegistered:c.propertyRegistered||"",period:c.period||4,monthlyPayment:c.monthlyPayment||4605,decreaseMortgage:c.decreaseMortgage||null,increaseMortgage:c.increaseMortgage||null,mortgageData:c.mortgageData||[{id:1,program:"",balance:null,endDate:"",bid:null}]};return e.jsxs(e.Fragment,{children:[e.jsx(Q,{initialValues:f,validationSchema:Da,validateOnMount:!0,onSubmit:_=>{r(fe(_)),g?p("/services/refinance-mortgage/2"):r(ye())},children:e.jsxs(X,{children:[e.jsxs(Z,{children:[e.jsx($e,{title:a("sidebar_sub_refinance_mortgage"),text:a("refinance_mortgage_promo_text"),size:"small"}),e.jsx(Ma,{})]}),e.jsx(Ae,{})]})}),e.jsx(Te,{})]})},Ba=()=>{const{t:a,i18n:d}=O();d.language=d.language.split("-")[0];const r=v(c=>c.login.loginData),p=v(c=>c.refinanceMortgage);return e.jsxs(ee,{children:[e.jsx(ae,{title:a("calculate_mortgage_final")}),e.jsx(ze,{cost:p==null?void 0:p.priceOfEstate,initialPayment:p==null?void 0:p.mortgageBalance,period:p==null?void 0:p.period,nameSurname:r==null?void 0:r.nameSurname,phoneNumber:r==null?void 0:r.phoneNumber}),e.jsx(he,{text:a("calculate_mortgage_warning")}),e.jsx(y,{children:e.jsx(Le,{})}),e.jsx(Ve,{})]})},Ia={},Fa=K().shape({}),Ca=()=>e.jsx(Q,{initialValues:Ia,validationSchema:Fa,validateOnMount:!0,onSubmit:()=>{console.log("нажата кнопка")},children:e.jsxs(X,{children:[e.jsx(Z,{children:e.jsx(Ba,{})}),e.jsx(le,{})]})}),Na=()=>{const{t:a,i18n:d}=O();d.language=d.language.split("-")[0];const{values:r}=J();return e.jsxs(ee,{children:[e.jsx(ae,{title:a("calculate_mortgage_step2_title")}),e.jsxs(ra,{children:[e.jsx(na,{}),e.jsx(E,{name:"Александр пушкин",phone:"+935 234 3344"})]}),e.jsxs(y,{children:[e.jsx(oa,{}),e.jsx(sa,{}),e.jsx(ia,{})]}),e.jsxs(y,{children:[e.jsxs(l,{style:{gap:"2rem"},children:[e.jsx(la,{}),r.additionalCitizenships==="yes"&&e.jsx(ca,{})]}),e.jsxs(l,{style:{gap:"2rem"},children:[e.jsx(da,{}),r.taxes==="yes"&&e.jsx(ga,{})]}),e.jsxs(l,{style:{gap:"2rem"},children:[e.jsx(ma,{}),r.childrens==="yes"&&e.jsx(_a,{})]})]}),e.jsx(S,{}),e.jsxs(y,{children:[e.jsx(ua,{}),e.jsx(ha,{}),e.jsx(pa,{})]}),e.jsx(S,{}),e.jsxs(y,{children:[e.jsx(Ue,{}),e.jsx(l,{}),e.jsx(l,{})]}),e.jsx(S,{}),e.jsxs(y,{children:[e.jsx(xa,{}),e.jsx(l,{children:r.familyStatus==="option_2"&&e.jsx(We,{})}),e.jsx(l,{children:r.partnerPayMortgage==="yes"&&r.familyStatus==="option_2"&&e.jsx(Ye,{})})]})]})},Oa=K().shape({nameSurname:x().required(s.t("error_name_surname")),birthday:x().required(s.t("error_date")),education:x().required(s.t("error_select_answer")),additionalCitizenships:x().required(s.t("error_select_answer")),citizenshipsDropdown:ie().when("additionalCitizenships",{is:"yes",then:a=>a.min(1,s.t("error_select_answer")),otherwise:a=>a.min(0)}),taxes:x().required(s.t("error_select_answer")),countriesPayTaxes:ie().when("taxes",{is:"yes",then:a=>a.min(1,s.t("error_select_answer")),otherwise:a=>a.min(0)}),childrens:x().required(s.t("error_select_answer")),howMuchChildrens:I().required(s.t("error_fill_field")),medicalInsurance:x().required(s.t("error_select_answer")),isForeigner:x().required(s.t("error_select_answer")),publicPerson:x().required(s.t("error_select_answer")),borrowers:I().min(1,s.t("error_quantity_borrowers")).required(s.t("error_quantity_borrowers")),familyStatus:x().required(s.t("error_select_answer")),partnerPayMortgage:x().when("familyStatus",{is:s.t("calculate_mortgage_family_status_option_2"),then:a=>a.required(s.t("error_select_answer")),otherwise:a=>a.notRequired()})}),Pa=()=>{const a=z(),d=L(),r=v(g=>g.mortgage),c={nameSurname:v(g=>g.login.loginData).nameSurname||r.nameSurname||"",birthday:r.birthday||new Date(new Date().setFullYear(new Date().getFullYear()-18)).getTime(),education:r.education||"",additionalCitizenships:r.additionalCitizenships||null,citizenshipsDropdown:r.citizenshipsDropdown||[],taxes:r.taxes||null,countriesPayTaxes:r.countriesPayTaxes||[],childrens:r.childrens||null,howMuchChildrens:r.howMuchChildrens||1,medicalInsurance:r.medicalInsurance||null,isForeigner:r.isForeigner||null,publicPerson:r.publicPerson||null,borrowers:r.borrowers||null,familyStatus:r.familyStatus||"",partnerPayMortgage:r.partnerPayMortgage||null,addPartner:r.addPartner||""};return e.jsx(Q,{initialValues:c,validationSchema:Oa,validateOnMount:!0,onSubmit:g=>{a(T(g)),d("/services/calculate-mortgage/3")},children:e.jsxs(X,{children:[e.jsx(Z,{children:e.jsx(Na,{})}),e.jsx(le,{})]})})},qa=()=>{const{t:a,i18n:d}=O();d.language=d.language.split("-")[0];const r=L(),{values:p}=J(),{mainSourceOfIncome:c,additionalIncome:g,obligation:f}=p,_=z(),k=v(t=>t.borrowers.sourceOfIncomeModal),R=v(t=>t.borrowers.additionalIncomeModal),$=v(t=>t.borrowers.obligationModal),w=v(t=>t.otherBorrowers.otherBorrowers),j=v(t=>t.login.loginData),u=()=>{_(T(p)),_(be())},h=()=>{_(T(p)),_(ve())},o=()=>{_(T(p)),_(we())},M=t=>{_(Me({id:t}))},i=t=>{_(De({id:t}))},F=t=>{_(Se({id:t}))},te=t=>{_(Be(t))},A=t=>{_(Ie(t))},V=t=>{_(Fe(t))},U=t=>{_(de(t));const pe=!w.some(xe=>xe.id===t)?G(w):t;r({pathname:"/services/other-borrowers/1/",search:ge({pageId:String(pe)}).toString()})},n=()=>{_(de(G(w))),r({pathname:"/services/other-borrowers/1/",search:ge({pageId:G(w).toString()}).toString()})},b=t=>{_(Ce(t))};return e.jsxs(ee,{children:[e.jsx(ae,{title:a("calculate_mortgage_step3_title")}),e.jsx(E,{name:j==null?void 0:j.nameSurname,phone:j==null?void 0:j.phoneNumber}),e.jsxs(y,{children:[e.jsx(Ze,{}),_e[c]&&_e[c].map((t,W)=>e.jsx(ce.Fragment,{children:t},W))]}),e.jsx(y,{children:e.jsx(l,{children:c&&e.jsxs(e.Fragment,{children:[k.map(t=>e.jsx(E,{onEdit:()=>te(t.id),onDelete:()=>M(t.id),enableEdit:!0,name:`${a("source_of_income")}${t.id+1}`},t.id)),e.jsx(N,{onClick:u,color:"#FBE54D",value:a("add_place_to_work"),variant:"none"})]})})}),e.jsx(S,{}),e.jsxs(y,{children:[e.jsx(ea,{}),g&&g!=="option_1"&&e.jsx(aa,{}),e.jsx(l,{})]}),g&&g!=="option_1"&&e.jsx(y,{children:e.jsxs(l,{children:[R.map(t=>e.jsx(E,{onEdit:()=>A(t.id),onDelete:()=>i(t.id),enableEdit:!0,name:`${a("additional_source_of_income")}${t.id+1}`},t.id)),e.jsx(N,{onClick:h,color:"#FBE54D",value:a("add_additional_source_of_income"),variant:"none"})]})}),e.jsx(S,{}),e.jsxs(y,{children:[e.jsx(ta,{}),ue[f]&&ue[f].map((t,W)=>e.jsx(ce.Fragment,{children:t},W)),e.jsx(l,{})]}),f&&f!=="option_1"&&e.jsx(y,{children:e.jsxs(l,{children:[$.map(t=>e.jsx(E,{onEdit:()=>V(t.id),onDelete:()=>F(t.id),enableEdit:!0,name:`${a("obligation")}${t.id+1}`},t.id)),e.jsx(N,{onClick:o,color:"#FBE54D",value:a("add_obligation"),variant:"none"})]})}),e.jsx(S,{}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[w&&e.jsx(B,{title:a("borrower")}),e.jsxs(y,{style:{columnGap:"2rem"},children:[w.map(t=>e.jsx(l,{children:e.jsx(E,{onEdit:()=>U(t.id),onDelete:()=>b(t.id),enableEdit:!0,name:t.nameSurname},t.id)},t.id)),!w&&e.jsx(B,{title:a("borrower")}),e.jsx(l,{children:e.jsx(N,{value:a("add_borrower"),onClick:n,style:{height:"3.5rem",borderRadius:"0.25rem",padding:"0",width:"13.125rem"}})}),e.jsx(l,{})]})]})]})},Ea=K().shape({mainSourceOfIncome:x().required(s.t("error_select_answer")),monthlyIncome:I().required(s.t("error_fill_field")),startDate:x().required(s.t("error_date")),fieldOfActivity:x().when("mainSourceOfIncome",{is:a=>a!=null&&a!=="",then:a=>a.required(s.t("error_select_field_of_activity")),otherwise:a=>a.notRequired()}),profession:x().required(s.t("error_fill_field")),companyName:x().required(s.t("error_fill_field")),additionalIncome:x().required(s.t("error_select_one_of_the_options")),additionalIncomeAmount:I().when("additionalIncome",{is:a=>a!=null&&a!==""&&a==="no",then:a=>a.required(s.t("error_fill_field")),otherwise:a=>a.notRequired()}),obligation:x().required(s.t("error_select_one_of_the_options")),bank:x().when("obligation",{is:a=>a!=null&&a!==""&&a==="no",then:a=>a.required(s.t("error_select_bank")),otherwise:a=>a.notRequired()}),monthlyPaymentForAnotherBank:I().when("obligation",{is:a=>a!=null&&a!==""&&a==="no",then:a=>a.required(s.t("error_fill_field")),otherwise:a=>a.notRequired()}),endDate:x().required(s.t("error_date"))}),ka=()=>{const a=z(),d=L(),r=v(c=>c.mortgage),p={mainSourceOfIncome:r.mainSourceOfIncome||"",monthlyIncome:r.monthlyIncome||null,startDate:r.startDate||new Date().getTime(),fieldOfActivity:r.fieldOfActivity||"",profession:r.profession||"",companyName:r.companyName||"",additionalIncome:r.additionalIncome||"",additionalIncomeAmount:r.additionalIncomeAmount||null,obligation:r.obligation||"",bank:r.bank||"",monthlyPaymentForAnotherBank:r.monthlyPaymentForAnotherBank||null,endDate:r.endDate||new Date().getTime(),amountIncomeCurrentYear:(r==null?void 0:r.amountIncomeCurrentYear)||null,noIncome:r.noIncome||new Date().getTime()};return e.jsxs(e.Fragment,{children:[e.jsx(Q,{initialValues:p,validationSchema:Ea,validateOnMount:!0,onSubmit:c=>{a(T(c)),d("/services/calculate-mortgage/4")},children:e.jsxs(X,{children:[e.jsx(Z,{children:e.jsx(qa,{})}),e.jsx(le,{})]})}),e.jsx(He,{}),e.jsx(Ge,{}),e.jsx(Je,{})]})},Ra=()=>{const{stepNumber:a}=Ne(),{t:d,i18n:r}=O();r.language=r.language.split("-")[0];const p=L();if(!v(_=>_.login.isLogin)&&a!=="1"){p("/services/refinance-mortgage/1");return}const g=[d("mortgage_refinance_step_1"),d("mortgage_refinance_step_2"),d("mortgage_refinance_step_3"),d("mortgage_refinance_step_4")];let f;switch(a){case"1":f=e.jsx(Sa,{});break;case"2":f=e.jsx(Pa,{});break;case"3":f=e.jsx(ka,{});break;case"4":f=e.jsx(Ca,{});break;default:f=e.jsx(Oe,{type:"NOT_FOUND"});break}return e.jsxs(e.Fragment,{children:[a!=="4"&&e.jsx(Re,{progress:a,data:g}),e.jsx(D.Suspense,{fallback:e.jsx(ke,{}),children:f})]})},Ka=Ra;export{Ka as RefinanceMortgage};
