import{j as e}from"./ui-vendor-99260b86.js";import{g as r,h as s,j as a,E as o,T as d}from"./index-73dd41d9.js";import{c as l}from"./index-be42ab03.js";import{r as n}from"./react-vendor-21ec1e1c.js";function t(r){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:21,height:20,fill:"none",...r,children:e.jsx("path",{fill:"#D0D0D0",d:"m18.442 17.058-3.911-3.911a6.883 6.883 0 1 0-.884.883l3.911 3.912a.625.625 0 1 0 .884-.884ZM3.625 8.75a5.625 5.625 0 1 1 5.625 5.625A5.632 5.632 0 0 1 3.625 8.75Z"})})}const c={dropdown:"_dropdown_18s7e_1","dropdown-wrapper":"_dropdown-wrapper_18s7e_13","dropdown-input":"_dropdown-input_18s7e_21","dropdown-select":"_dropdown-select_18s7e_40","dropdown-select__item":"_dropdown-select__item_18s7e_56","dropdown-select__search":"_dropdown-select__search_18s7e_71","dropdown-select__search-wrapper":"_dropdown-select__search-wrapper_18s7e_74","dropdown-select__search-input":"_dropdown-select__search-input_18s7e_84","dropdown-select__search-no-result":"_dropdown-select__search-no-result_18s7e_101",focus:"_focus_18s7e_107",error:"_error_18s7e_111"},p=l.bind(c),_=({data:d,placeholder:l,onChange:c,value:_,searchable:i,searchPlaceholder:u,nothingFoundText:h,onBlur:w,error:m,className:x,dataTestId:j,...v})=>{var f;const g=n.useId(),[b,N]=n.useState(!1),[C,I]=n.useState(""),T=n.useRef(null),k=n.useCallback(e=>{T.current&&!T.current.contains(e.target)&&N(!1)},[]);n.useEffect(()=>(document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)),[k]);const F=(d||[]).filter(e=>e.label.toLowerCase().includes(C.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:T,onBlur:w,className:p("dropdown",`${b&&"focus"}`,`${m&&!b&&"error"}`,x),"data-testid":j,...v,children:[e.jsxs("div",{className:p("dropdown-wrapper"),onClick:()=>N(!b),tabIndex:0,children:[e.jsx("input",{readOnly:!0,className:p("dropdown-input","truncate",x),id:g,placeholder:l,value:(null==(f=(d||[]).find(e=>e.value===_))?void 0:f.label)||""}),b?e.jsx(r,{className:"cursor-pointer",onClick:()=>N(!1)}):e.jsx(s,{className:"cursor-pointer",onClick:()=>N(!0)})]}),b&&e.jsxs("div",{className:p("dropdown-select","scrollbar scrollbar-thumb-gray-600 scrollbar-thumb-rounded-md scrollbar-w-1"),children:[i&&e.jsx("div",{className:p("dropdown-select__search"),children:e.jsxs("div",{className:p("dropdown-select__search-wrapper"),children:[e.jsx(t,{}),e.jsx("input",{tabIndex:0,className:p("dropdown-select__search-input"),value:C,onChange:e=>I(e.target.value),placeholder:u,autoComplete:"off"})]})}),F.length>0?F.map((r,s)=>e.jsxs("div",{tabIndex:0,className:p("dropdown-select__item"),onClick:()=>(e=>{null==c||c(e.value),N(!1)})(r),"data-testid":`${j}-item-${r.value}`,children:[r.label,_===r.value&&e.jsx(a,{})]},s)):e.jsx("p",{className:p("dropdown-select__search-no-result"),children:h})]})]}),m&&!b&&e.jsx(o,{error:m})]})},i=({data:r,title:s,placeholder:a,onChange:o,value:l,searchable:n,searchPlaceholder:t,nothingFoundText:c,onBlur:p,error:i,className:u,dataTestId:h})=>e.jsxs(e.Fragment,{children:[s&&e.jsx(d,{title:s}),e.jsx(_,{data:r,placeholder:a,onChange:o,value:l,searchable:n,searchPlaceholder:t,nothingFoundText:c,onBlur:p,error:i,className:u,dataTestId:h})]});export{i as D,t as M};
