import{c as e,a,r,d as t,m as n,i,P as o,x as s,R as l,y as c,z as g,A as d,J as m,K as _,M as u,D as h,E as p,F as x,G as j,H as f,j as v,I as b}from"./index-09bacb8e.js";import{u as y,i as D,W as w,T as N,D as M,c as S,b as B,E as C,d as P,f as k,e as R,h as q,F as E,o as F,g as I,a as O,L as $}from"./index-df54a9f4.js";import{P as T}from"./ProgressBar-c0a0f0bc.js";import{u as V,V as z}from"./VideoPoster-49f2043b.js";import{A as U,f as A,S as L,a as Y,L as H,U as G,F as J,B as K,b as W,P as Q,c as X,d as Z,e as ee,O as ae}from"./SourceOfIncomeModal-4125ee39.js";import{s as re,d as te,D as ne,R as ie,C as oe,F as se,a as le,b as ce,c as ge}from"./StringInput-a6a30de1.js";import{C as de,A as me,g as _e,U as ue,a as he,b as pe,d as xe,O as je}from"./componentsByIncomeSource-e4854958.js";import{s as fe,I as ve}from"./IncreasePayment-fca01107.js";import{c as be,a as ye}from"./calculatePeriod-00770cec.js";import{D as De,E as we,c as Ne,a as Me}from"./componentsByObligation-63635862.js";import{R as Se,I as Be,N as Ce,B as Pe,E as ke,A as Re,C as qe,T as Ee,a as Fe,b as Ie,H as Oe,M as $e,c as Te,P as Ve}from"./Taxes-55a9aa5d.js";import{F as ze,o as Ue,d as Ae}from"./otherBorrowersSlice-9edd9333.js";import"./borrowersPersonalDataSlice-9c68a163.js";import"./ShieldCheckIcon-05b1104d.js";const Le=e.bind(re);const Ye=({name:e,value:r,handleChange:t,placeholder:n,disableCurrency:i,error:o,onBlur:s,size:l,rightSection:c,type:g="comma"})=>{const d=null!==r?r.toLocaleString("en-US"):"";return a.jsxs("div",{className:Le("container",`${o&&"error"}`),children:[a.jsx("input",{className:Le(e,"input",{[`${l}`]:l}),type:"text",placeholder:n,value:d,onChange:e=>{const a=e.target.value;switch(g){case"numeric":/^-?\d*\.?\d*$/.test(a)&&t(a);break;case"comma":t(function(e){const a=e.replace(/[^0-9]/g,"");return a?parseInt(a,10):""}(a));break;default:t(a)}},onBlur:s}),i||c?a.jsx("div",{className:Le("currencyImage"),children:c}):a.jsx("div",{className:Le("currencyImage"),children:a.jsx(te,{})})]})},He={"mortgage-data":"_mortgage-data_eif05_1","mortgage-data-title":"_mortgage-data-title_eif05_6","mortgage-data-title__text":"_mortgage-data-title__text_eif05_20","mortgage-data-title__button":"_mortgage-data-title__button_eif05_26","mortgage-data-form":"_mortgage-data-form_eif05_42","mortgage-data-form__items":"_mortgage-data-form__items_eif05_48","button-left__icon":"_button-left__icon_eif05_54",container:"_container_eif05_59",col:"_col_eif05_65","col-1":"_col-1_eif05_70","col-2":"_col-2_eif05_74","col-3":"_col-3_eif05_78","col-4":"_col-4_eif05_82","col-5":"_col-5_eif05_86","delete-icon":"_delete-icon_eif05_94",title:"_title_eif05_111",delete:"_delete_eif05_94"},Ge=e.bind(He),Je=()=>{var e;const[n,i]=r.useState([]),[o,s]=r.useState(null),{values:l,setFieldValue:c,errors:g,touched:d,setFieldTouched:m}=y(),[_,{open:u,close:h}]=D(!1),{isDesktop:p,isTablet:x,isMobile:j}=V(),{t:f,i18n:v}=t();v.language=v.language.split("-")[0],r.useEffect(()=>{i(l.mortgageData)},[l.mortgageData]);const b=()=>{const e={id:_e(n),program:"",balance:null,endDate:"",bid:null};c("mortgageData",[...n,e])},S=e=>{s(e),u()},B=[{value:"option_1",label:f("program_refinance_mortgage_option_1")},{value:"option_2",label:f("program_refinance_mortgage_option_2")},{value:"option_3",label:f("program_refinance_mortgage_option_3")},{value:"option_4",label:f("program_refinance_mortgage_option_4")},{value:"option_5",label:f("program_refinance_mortgage_option_5")}],C=n.reduce((e,a)=>e+a.balance,0);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:Ge("mortgage-data"),children:[a.jsxs("div",{className:Ge("mortgage-data-title"),children:[a.jsx("h4",{className:Ge("mortgage-data-title__text"),children:f("enter_mortgage_info")}),d.mortgageData&&g.mortgageData&&a.jsx(U,{filled:!0,icon:a.jsx(w,{size:24,color:"#E76143"}),children:a.jsx("p",{children:f("error_balance",{fullBalance:null==(e=null==l?void 0:l.mortgageBalance)?void 0:e.toLocaleString("en-US"),sumBalance:C.toLocaleString("en-US"),notEnoughBalance:(l.mortgageBalance-C).toLocaleString("en-US")})})})]}),p&&a.jsxs("div",{className:Ge("mortgage-data-form"),children:[a.jsxs("div",{className:Ge("container","title"),children:[a.jsx("p",{className:Ge("col","col-1"),children:f("programm")}),a.jsx("p",{className:Ge("col","col-2"),children:f("balance")}),a.jsx("p",{className:Ge("col","col-3"),children:f("end_date")}),a.jsx("p",{className:Ge("col","col-4"),children:f("bid")}),a.jsx("div",{className:Ge("col","col-5")})]}),a.jsxs("div",{className:Ge("mortgage-data-form__items"),children:[n.map(e=>a.jsxs("div",{className:Ge("container"),children:[a.jsx("div",{className:Ge("col","col-1"),children:a.jsx(ne,{data:B,placeholder:f("calculate_mortgage_first_ph"),value:e.program,onChange:a=>c(`mortgageData.${e.id-1}.program`,a)})}),a.jsx("div",{className:Ge("col","col-2"),children:a.jsx(Ye,{placeholder:"10,000",value:e.balance,handleChange:a=>c(`mortgageData.${e.id-1}.balance`,a),onBlur:()=>m("mortgageData",!0),error:d.mortgageData&&g.mortgageData})}),a.jsx("div",{className:Ge("col","col-3"),children:a.jsx(de,{placeholder:f("date_ph"),value:e.endDate,onChange:a=>c(`mortgageData.${e.id-1}.endDate`,a)})}),a.jsx("div",{className:Ge("col","col-4"),children:a.jsx(Ye,{placeholder:"1",type:"numeric",value:e.bid,handleChange:a=>c(`mortgageData.${e.id-1}.bid`,a),rightSection:a.jsx(A,{color:"#FFF"})})}),a.jsx("div",{className:Ge("col","col-5"),children:1!==e.id&&a.jsx(De,{onClick:()=>S(e.id),className:Ge("delete")})})]},e.id)),a.jsxs("div",{className:Ge("container"),children:[a.jsx("div",{className:Ge("col","col-1"),children:a.jsx(me,{variant:"none",color:"#FBE54D",value:f("add_programm"),onClick:b})}),a.jsx("div",{className:Ge("col","col-2")}),a.jsx("div",{className:Ge("col","col-3")}),a.jsx("div",{className:Ge("col","col-4")}),a.jsx("div",{className:Ge("col","col-5")})]})]})]}),x&&a.jsx("div",{className:Ge("mortgage-data-form"),children:a.jsx("div",{className:Ge("mortgage-data-form__items"),children:a.jsxs(ie,{children:[n.map((e,t)=>a.jsxs(r.Fragment,{children:[a.jsxs(oe,{children:[a.jsx(N,{title:`${f("programm")} #${e.id}`}),a.jsx(ne,{data:B,placeholder:f("calculate_mortgage_first_ph"),value:e.program,onChange:a=>c(`mortgageData.${e.id-1}.program`,a)})]}),a.jsxs(oe,{children:[a.jsx(N,{title:f("balance")}),a.jsx(Ye,{placeholder:"10,000",value:e.balance,handleChange:a=>c(`mortgageData.${e.id-1}.balance`,a)})]}),a.jsx(oe,{children:a.jsx(de,{title:f("end_date"),placeholder:f("date_ph"),value:e.endDate,onChange:a=>c(`mortgageData.${e.id-1}.endDate`,a)})}),a.jsxs(oe,{children:[a.jsx(N,{title:f("bid")}),a.jsx(Ye,{placeholder:"1",value:e.bid,handleChange:a=>c(`mortgageData.${e.id-1}.bid`,a),rightSection:a.jsx(A,{color:"#FFF"})})]}),1!==e.id&&a.jsx(oe,{children:a.jsxs("div",{className:Ge("delete-icon"),children:[a.jsx(De,{onClick:()=>S(e.id)}),f("delete")]})}),t!==n.length-1&&a.jsx(M,{})]},e.id)),a.jsx(oe,{children:a.jsx(me,{variant:"none",color:"#FBE54D",value:f("add_programm"),onClick:b})})]})})}),j&&a.jsx("div",{className:Ge("mortgage-data-form"),children:a.jsx("div",{className:Ge("mortgage-data-form__items"),children:a.jsxs(ie,{children:[n.map((e,t)=>a.jsxs(r.Fragment,{children:[a.jsxs(oe,{children:[a.jsx(N,{title:`${f("programm")} #${e.id}`}),a.jsx(ne,{data:B,placeholder:f("calculate_mortgage_first_ph"),value:e.program,onChange:a=>c(`mortgageData.${e.id-1}.program`,a)})]}),a.jsxs(oe,{children:[a.jsx(N,{title:f("balance")}),a.jsx(Ye,{placeholder:"10,000",value:e.balance,handleChange:a=>c(`mortgageData.${e.id-1}.balance`,a)})]}),a.jsx(oe,{children:a.jsx(de,{title:f("end_date"),placeholder:f("date_ph"),value:e.endDate,onChange:a=>c(`mortgageData.${e.id-1}.endDate`,a)})}),a.jsxs(oe,{children:[a.jsx(N,{title:f("bid")}),a.jsx(Ye,{placeholder:"1",value:e.bid,handleChange:a=>c(`mortgageData.${e.id-1}.bid`,a),rightSection:a.jsx(A,{color:"#FFF"})})]}),1!==e.id&&a.jsx(oe,{children:a.jsxs("div",{className:Ge("delete-icon"),children:[a.jsx(De,{onClick:()=>S(e.id)}),f("delete")]})}),t!==n.length-1&&a.jsx(M,{})]},e.id)),a.jsx(oe,{children:a.jsx(me,{variant:"none",color:"#FBE54D",value:f("add_programm"),onClick:b})})]})})})]}),a.jsx(we,{text:f("remove_programm"),isVisible:_,onCancel:h,onSubmit:()=>{if(null!==o){const e=n.filter(e=>e.id!==o);c("mortgageData",e)}h()}})]})},Ke=r.memo(()=>{const{t:e,i18n:n}=t();n.language=n.language.split("-")[0];const[i,o]=r.useState(51130),[s,l]=r.useState(2654),c=S(),g=B(e=>e.activeField),d=[{value:"option_1",label:e("calculate_mortgage_type_options_1")},{value:"option_2",label:e("calculate_mortgage_type_options_2")},{value:"option_3",label:e("calculate_mortgage_type_options_3")},{value:"option_4",label:e("calculate_mortgage_type_options_4")},{value:"option_5",label:e("calculate_mortgage_type_options_5")}],m=[{value:"option_1",label:e("mortgage_refinance_why_option_1")},{value:"option_2",label:e("mortgage_refinance_why_option_2")},{value:"option_3",label:e("mortgage_refinance_why_option_3")},{value:"option_4",label:e("mortgage_refinance_why_option_4")},{value:"option_5",label:e("mortgage_refinance_why_option_5")}],_=[{value:"option_1",label:e("mortgage_refinance_reg_option_1")},{value:"option_2",label:e("mortgage_refinance_reg_option_2")},{value:"option_3",label:e("mortgage_refinance_reg_option_3")},{value:"option_4",label:e("mortgage_refinance_reg_option_4")},{value:"option_5",label:e("mortgage_refinance_reg_option_5")}],{setFieldValue:u,values:h,errors:p,touched:x,setFieldTouched:j}=y();return r.useLayoutEffect(()=>{const e=be(h.mortgageBalance,0,4),a=be(h.mortgageBalance,0,30);Number.isNaN(e)||o(e),0===e&&o(1),Number.isNaN(e)||l(a)},[h.mortgageBalance]),r.useEffect(()=>{if("period"===g){const e=be(h.mortgageBalance,0,h.period);Number.isNaN(e)||u("monthlyPayment",e)}else{const e=ye(h.mortgageBalance,0,h.monthlyPayment);Number.isNaN(e)||u("period",e)}},[g,u,h.monthlyPayment,h.mortgageBalance,h.period]),console.log(p),a.jsx(a.Fragment,{children:a.jsxs(se,{children:[a.jsx(le,{title:e("sidebar_sub_refinance_mortgage")}),a.jsxs(ie,{children:[a.jsx(oe,{children:a.jsx(ne,{data:m,title:e("mortgage_refinance_why"),placeholder:e("calculate_mortgage_citizenship_ph"),value:h.whyRefinancingMortgage,onChange:e=>u("whyRefinancingMortgage",e),onBlur:()=>j("whyRefinancingMortgage"),error:x.whyRefinancingMortgage&&p.whyRefinancingMortgage})}),a.jsxs(oe,{children:[a.jsx(ce,{name:"PriceOfEstate",title:e("mortgage_refinance_left"),value:h.mortgageBalance,placeholder:"1,000,000",handleChange:e=>{c(fe("period")),u("mortgageBalance",e)},onBlur:()=>j("mortgageBalance"),error:x.mortgageBalance&&p.mortgageBalance}),x.mortgageBalance&&p.mortgageBalance&&a.jsx(C,{error:p.mortgageBalance})]}),a.jsxs(oe,{children:[a.jsx(ce,{handleChange:e=>u("priceOfEstate",e),name:"PriceOfEstate",title:e("mortgage_refinance_price"),value:h.priceOfEstate,placeholder:"1,000,000",error:p.priceOfEstate}),p.priceOfEstate&&a.jsx(C,{error:p.priceOfEstate})]})]}),a.jsxs(ie,{children:[a.jsx(oe,{children:a.jsx(ne,{data:d,title:e("mortgage_refinance_type"),placeholder:e("mortgage_refinance_type_ph"),value:h.typeSelect,onChange:e=>u("typeSelect",e),onBlur:()=>j("typeSelect"),error:x.typeSelect&&p.typeSelect})}),a.jsx(oe,{children:a.jsx(ne,{data:[{value:"hapoalim",label:"Bank Hapoalim"},{value:"leumi",label:"Leumi Bank"},{value:"discount",label:"Discount Bank"},{value:"massad",label:"Massad Bank"},{value:"israel",label:"Bank of Israel"}],title:e("mortgage_refinance_bank"),placeholder:e("calculate_mortgage_citizenship_ph"),value:h.bank,onChange:e=>u("bank",e),onBlur:()=>j("bank"),error:x.bank&&p.bank})}),a.jsx(oe,{children:a.jsx(ne,{data:_,title:e("mortgage_refinance_registered"),placeholder:e("calculate_mortgage_citizenship_ph"),value:h.propertyRegistered,onChange:e=>u("propertyRegistered",e),onBlur:()=>j("propertyRegistered"),error:x.propertyRegistered&&p.propertyRegistered})})]}),a.jsxs(ie,{children:[a.jsx(oe,{children:a.jsx(de,{title:e("start_date_mortgage_title"),placeholder:e("date_ph"),value:h.startDate,onChange:e=>u("startDate",e)})}),"option_2"===h.whyRefinancingMortgage&&a.jsxs(oe,{children:[a.jsx(ce,{handleChange:e=>u("decreaseMortgage",e),name:"PriceOfEstate",title:e("mortgage_refinance_decrease"),value:h.decreaseMortgage,placeholder:"1,000,000",onBlur:()=>j("decreaseMortgage"),error:x.decreaseMortgage&&p.decreaseMortgage}),x.decreaseMortgage&&p.decreaseMortgage&&a.jsx(C,{error:p.decreaseMortgage})]}),"option_3"===h.whyRefinancingMortgage&&a.jsxs(oe,{children:[a.jsx(ce,{handleChange:e=>u("increaseMortgage",e),name:"PriceOfEstate",title:e("mortgage_refinance_increase"),value:h.increaseMortgage,placeholder:"1,000,000",onBlur:()=>j("increaseMortgage"),error:x.increaseMortgage&&p.increaseMortgage}),x.increaseMortgage&&p.increaseMortgage&&a.jsx(C,{error:p.increaseMortgage})]}),a.jsx(oe,{})]}),a.jsx(M,{}),a.jsx(ie,{children:a.jsx(Je,{})}),a.jsx(M,{}),a.jsxs(ie,{children:[a.jsxs(oe,{children:[a.jsx(L,{disableCurrency:!0,unitsMax:e("calculate_mortgage_period_units_max"),unitsMin:e("calculate_mortgage_period_units_min"),value:h.period,name:"Period",min:4,max:30,error:p.period,title:e("calculate_mortgage_period"),handleChange:e=>{c(fe("period")),u("period",e)}}),p.period&&a.jsx(C,{error:p.period})]}),a.jsxs(oe,{children:[a.jsx(L,{unitsMax:"₪",unitsMin:"₪",value:h.monthlyPayment,name:"monthlyPayment",min:s,max:i,error:p.monthlyPayment,title:e("calculate_mortgage_initial_payment"),handleChange:e=>{c(fe("monthlyPayment")),u("monthlyPayment",e)}}),a.jsx(ve,{}),p.monthlyPayment&&a.jsx(C,{error:p.monthlyPayment})]}),a.jsx(oe,{})]})]})})}),We=P().shape({whyRefinancingMortgage:k().required(n.t("error_select_answer")),mortgageBalance:R().test("is-less","Остаток по ипотеке не может быть больше чем стоимость недвижимости",function(e){const{priceOfEstate:a}=this.parent;return void 0===e||("number"!=typeof a||e<=a)}).required(n.t("error_required_to_fill_out")),priceOfEstate:R().test("is-greater","Полная стоимость недвижимости не может быть меньше чем остаток ипотеки",function(e){const{mortgageBalance:a}=this.parent;return void 0===e||("number"!=typeof a||e>=a)}).required(n.t("error_required_to_fill_out")),typeSelect:k().required(n.t("error_select_answer")),bank:k().required(n.t("error_select_answer")),propertyRegistered:k().required(n.t("error_select_answer")),period:R().min(4,n.t("error_min_period")).max(30,n.t("error_max_period")).required(n.t("error_required_to_fill_out")),decreaseMortgage:k().when("whyRefinancingMortgage",{is:n.t("calculate_mortgage_type_options_2"),then:e=>e.required(n.t("error_select_answer")),otherwise:e=>e.notRequired()}),increaseMortgage:k().when("whyRefinancingMortgage",{is:n.t("calculate_mortgage_type_options_3"),then:e=>e.required(n.t("error_select_answer")),otherwise:e=>e.notRequired()}),mortgageData:q().test("is-balance-sum-equal","Сумма балансов ипотек не соответствует заданному значению",function(){return this.parent.mortgageData.reduce((e,a)=>e+(a.balance||0),0)===this.parent.mortgageBalance})}),Qe=()=>{const{t:e,i18n:r}=t();r.language=r.language.split("-")[0];const n=S(),s=i(),l=B(e=>e.refinanceMortgage),c=B(e=>e.login.isLogin),g={whyRefinancingMortgage:l.whyRefinancingMortgage||"",mortgageBalance:l.mortgageBalance||2e5,priceOfEstate:l.priceOfEstate||1e6,typeSelect:l.typeSelect||"",bank:l.bank||"",startDate:l.startDate||"",propertyRegistered:l.propertyRegistered||"",period:l.period||4,monthlyPayment:l.monthlyPayment||4605,decreaseMortgage:l.decreaseMortgage||null,increaseMortgage:l.increaseMortgage||null,mortgageData:l.mortgageData||[{id:1,program:"",balance:null,endDate:"",bid:null}]};return a.jsxs(a.Fragment,{children:[a.jsx(E,{initialValues:g,validationSchema:We,validateOnMount:!0,onSubmit:e=>{n(o(e)),c?s("/services/refinance-mortgage/2"):n(F())},children:a.jsxs(I,{children:[a.jsxs(O,{children:[a.jsx(z,{title:e("sidebar_sub_refinance_mortgage"),text:e("refinance_mortgage_promo_text"),size:"small"}),a.jsx(Ke,{})]}),a.jsx(Y,{})]})}),a.jsx(H,{})]})},Xe=()=>{const{t:e,i18n:r}=t();r.language=r.language.split("-")[0];const n=B(e=>e.login.loginData),i=B(e=>e.refinanceMortgage);return a.jsxs(se,{children:[a.jsx(le,{title:e("calculate_mortgage_final")}),a.jsx(G,{cost:null==i?void 0:i.priceOfEstate,initialPayment:null==i?void 0:i.mortgageBalance,period:null==i?void 0:i.period,nameSurname:null==n?void 0:n.nameSurname,phoneNumber:null==n?void 0:n.phoneNumber}),a.jsx(U,{text:e("calculate_mortgage_warning")}),a.jsx(ie,{children:a.jsx(J,{})}),a.jsx(K,{})]})},Ze={},ea=P().shape({}),aa=()=>a.jsx(E,{initialValues:Ze,validationSchema:ea,validateOnMount:!0,onSubmit:()=>{console.log("нажата кнопка")},children:a.jsxs(I,{children:[a.jsx(O,{children:a.jsx(Xe,{})}),a.jsx(ge,{})]})}),ra=()=>{const{t:e,i18n:r}=t();r.language=r.language.split("-")[0];const{values:n}=y();return a.jsxs(se,{children:[a.jsx(le,{title:e("calculate_mortgage_step2_title")}),a.jsxs(Se,{children:[a.jsx(Be,{}),a.jsx(ue,{name:"Александр пушкин",phone:"+935 234 3344"})]}),a.jsxs(ie,{children:[a.jsx(Ce,{}),a.jsx(Pe,{}),a.jsx(ke,{})]}),a.jsxs(ie,{children:[a.jsxs(oe,{style:{gap:"2rem"},children:[a.jsx(Re,{}),"yes"===n.additionalCitizenships&&a.jsx(qe,{})]}),a.jsxs(oe,{style:{gap:"2rem"},children:[a.jsx(Ee,{}),"yes"===n.taxes&&a.jsx(Fe,{})]}),a.jsxs(oe,{style:{gap:"2rem"},children:[a.jsx(Ie,{}),"yes"===n.childrens&&a.jsx(Oe,{})]})]}),a.jsx(M,{}),a.jsxs(ie,{children:[a.jsx($e,{}),a.jsx(Te,{}),a.jsx(Ve,{})]}),a.jsx(M,{}),a.jsxs(ie,{children:[a.jsx(W,{}),a.jsx(oe,{}),a.jsx(oe,{})]}),a.jsx(M,{}),a.jsxs(ie,{children:[a.jsx(ze,{}),a.jsx(oe,{children:"option_2"===n.familyStatus&&a.jsx(Q,{})}),a.jsx(oe,{children:"yes"===n.partnerPayMortgage&&"option_2"===n.familyStatus&&a.jsx(X,{})})]})]})},ta=P().shape({nameSurname:k().required(n.t("error_name_surname")),birthday:k().required(n.t("error_date")),education:k().required(n.t("error_select_answer")),additionalCitizenships:k().required(n.t("error_select_answer")),citizenshipsDropdown:q().when("additionalCitizenships",{is:"yes",then:e=>e.min(1,n.t("error_select_answer")),otherwise:e=>e.min(0)}),taxes:k().required(n.t("error_select_answer")),countriesPayTaxes:q().when("taxes",{is:"yes",then:e=>e.min(1,n.t("error_select_answer")),otherwise:e=>e.min(0)}),childrens:k().required(n.t("error_select_answer")),howMuchChildrens:R().required(n.t("error_fill_field")),medicalInsurance:k().required(n.t("error_select_answer")),isForeigner:k().required(n.t("error_select_answer")),publicPerson:k().required(n.t("error_select_answer")),borrowers:R().min(1,n.t("error_quantity_borrowers")).required(n.t("error_quantity_borrowers")),familyStatus:k().required(n.t("error_select_answer")),partnerPayMortgage:k().when("familyStatus",{is:n.t("calculate_mortgage_family_status_option_2"),then:e=>e.required(n.t("error_select_answer")),otherwise:e=>e.notRequired()})}),na=()=>{const e=S(),r=i(),t=B(e=>e.mortgage),n={nameSurname:B(e=>e.login.loginData).nameSurname||t.nameSurname||"",birthday:t.birthday||new Date((new Date).setFullYear((new Date).getFullYear()-18)).getTime(),education:t.education||"",additionalCitizenships:t.additionalCitizenships||null,citizenshipsDropdown:t.citizenshipsDropdown||[],taxes:t.taxes||null,countriesPayTaxes:t.countriesPayTaxes||[],childrens:t.childrens||null,howMuchChildrens:t.howMuchChildrens||1,medicalInsurance:t.medicalInsurance||null,isForeigner:t.isForeigner||null,publicPerson:t.publicPerson||null,borrowers:t.borrowers||null,familyStatus:t.familyStatus||"",partnerPayMortgage:t.partnerPayMortgage||null,addPartner:t.addPartner||""};return a.jsx(E,{initialValues:n,validationSchema:ta,validateOnMount:!0,onSubmit:a=>{e(s(a)),r("/services/calculate-mortgage/3")},children:a.jsxs(I,{children:[a.jsx(O,{children:a.jsx(ra,{})}),a.jsx(ge,{})]})})},ia=()=>{const{t:e,i18n:r}=t();r.language=r.language.split("-")[0];const n=i(),{values:o}=y(),{mainSourceOfIncome:f,additionalIncome:v,obligation:b}=o,D=S(),w=B(e=>e.borrowers.sourceOfIncomeModal),C=B(e=>e.borrowers.additionalIncomeModal),P=B(e=>e.borrowers.obligationModal),k=B(e=>e.otherBorrowers.otherBorrowers),R=B(e=>e.login.loginData);return a.jsxs(se,{children:[a.jsx(le,{title:e("calculate_mortgage_step3_title")}),a.jsx(ue,{name:null==R?void 0:R.nameSurname,phone:null==R?void 0:R.phoneNumber}),a.jsxs(ie,{children:[a.jsx(he,{}),Ne[f]&&Ne[f].map((e,r)=>a.jsx(l.Fragment,{children:e},r))]}),a.jsx(ie,{children:a.jsx(oe,{children:f&&a.jsxs(a.Fragment,{children:[w.map(r=>a.jsx(ue,{onEdit:()=>{return e=r.id,void D(h(e));var e},onDelete:()=>{return e=r.id,void D(m({id:e}));var e},enableEdit:!0,name:`${e("source_of_income")}${r.id+1}`},r.id)),a.jsx(me,{onClick:()=>{D(s(o)),D(c())},color:"#FBE54D",value:e("add_place_to_work"),variant:"none"})]})})}),a.jsx(M,{}),a.jsxs(ie,{children:[a.jsx(pe,{}),v&&"option_1"!==v&&a.jsx(xe,{}),a.jsx(oe,{})]}),v&&"option_1"!==v&&a.jsx(ie,{children:a.jsxs(oe,{children:[C.map(r=>a.jsx(ue,{onEdit:()=>{return e=r.id,void D(p(e));var e},onDelete:()=>{return e=r.id,void D(_({id:e}));var e},enableEdit:!0,name:`${e("additional_source_of_income")}${r.id+1}`},r.id)),a.jsx(me,{onClick:()=>{D(s(o)),D(g())},color:"#FBE54D",value:e("add_additional_source_of_income"),variant:"none"})]})}),a.jsx(M,{}),a.jsxs(ie,{children:[a.jsx(je,{}),Me[b]&&Me[b].map((e,r)=>a.jsx(l.Fragment,{children:e},r)),a.jsx(oe,{})]}),b&&"option_1"!==b&&a.jsx(ie,{children:a.jsxs(oe,{children:[P.map(r=>a.jsx(ue,{onEdit:()=>{return e=r.id,void D(x(e));var e},onDelete:()=>{return e=r.id,void D(u({id:e}));var e},enableEdit:!0,name:`${e("obligation")}${r.id+1}`},r.id)),a.jsx(me,{onClick:()=>{D(s(o)),D(d())},color:"#FBE54D",value:e("add_obligation"),variant:"none"})]})}),a.jsx(M,{}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[k&&a.jsx(N,{title:e("borrower")}),a.jsxs(ie,{style:{columnGap:"2rem"},children:[k.map(e=>a.jsx(oe,{children:a.jsx(ue,{onEdit:()=>(e=>{D(Ue(e));const a=k.some(a=>a.id===e)?e:_e(k);n({pathname:"/services/other-borrowers/1/",search:j({pageId:String(a)}).toString()})})(e.id),onDelete:()=>{return a=e.id,void D(Ae(a));var a},enableEdit:!0,name:e.nameSurname},e.id)},e.id)),!k&&a.jsx(N,{title:e("borrower")}),a.jsx(oe,{children:a.jsx(me,{value:e("add_borrower"),onClick:()=>{D(Ue(_e(k))),n({pathname:"/services/other-borrowers/1/",search:j({pageId:_e(k).toString()}).toString()})},style:{height:"3.5rem",borderRadius:"0.25rem",padding:"0",width:"13.125rem"}})}),a.jsx(oe,{})]})]})]})},oa=P().shape({mainSourceOfIncome:k().required(n.t("error_select_answer")),monthlyIncome:R().required(n.t("error_fill_field")),startDate:k().required(n.t("error_date")),fieldOfActivity:k().when("mainSourceOfIncome",{is:e=>null!=e&&""!==e,then:e=>e.required(n.t("error_select_field_of_activity")),otherwise:e=>e.notRequired()}),profession:k().required(n.t("error_fill_field")),companyName:k().required(n.t("error_fill_field")),additionalIncome:k().required(n.t("error_select_one_of_the_options")),additionalIncomeAmount:R().when("additionalIncome",{is:e=>null!=e&&""!==e&&"no"===e,then:e=>e.required(n.t("error_fill_field")),otherwise:e=>e.notRequired()}),obligation:k().required(n.t("error_select_one_of_the_options")),bank:k().when("obligation",{is:e=>null!=e&&""!==e&&"no"===e,then:e=>e.required(n.t("error_select_bank")),otherwise:e=>e.notRequired()}),monthlyPaymentForAnotherBank:R().when("obligation",{is:e=>null!=e&&""!==e&&"no"===e,then:e=>e.required(n.t("error_fill_field")),otherwise:e=>e.notRequired()}),endDate:k().required(n.t("error_date"))}),sa=()=>{const e=S(),r=i(),t=B(e=>e.mortgage),n={mainSourceOfIncome:t.mainSourceOfIncome||"",monthlyIncome:t.monthlyIncome||null,startDate:t.startDate||(new Date).getTime(),fieldOfActivity:t.fieldOfActivity||"",profession:t.profession||"",companyName:t.companyName||"",additionalIncome:t.additionalIncome||"",additionalIncomeAmount:t.additionalIncomeAmount||null,obligation:t.obligation||"",bank:t.bank||"",monthlyPaymentForAnotherBank:t.monthlyPaymentForAnotherBank||null,endDate:t.endDate||(new Date).getTime(),amountIncomeCurrentYear:(null==t?void 0:t.amountIncomeCurrentYear)||null,noIncome:t.noIncome||(new Date).getTime()};return a.jsxs(a.Fragment,{children:[a.jsx(E,{initialValues:n,validationSchema:oa,validateOnMount:!0,onSubmit:a=>{e(s(a)),r("/services/calculate-mortgage/4")},children:a.jsxs(I,{children:[a.jsx(O,{children:a.jsx(ia,{})}),a.jsx(ge,{})]})}),a.jsx(Z,{}),a.jsx(ee,{}),a.jsx(ae,{})]})},la=()=>{const{stepNumber:e}=f(),{t:a,i18n:n}=t();n.language=n.language.split("-")[0];const o=i();if(!B(e=>e.login.isLogin)&&"1"!==e)return void o("/services/refinance-mortgage/1");const s=[a("mortgage_refinance_step_1"),a("mortgage_refinance_step_2"),a("mortgage_refinance_step_3"),a("mortgage_refinance_step_4")];let l;switch(e){case"1":l=v.jsxDEV(Qe,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:39,columnNumber:23},globalThis);break;case"2":l=v.jsxDEV(na,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:42,columnNumber:23},globalThis);break;case"3":l=v.jsxDEV(sa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:45,columnNumber:23},globalThis);break;case"4":l=v.jsxDEV(aa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:48,columnNumber:23},globalThis);break;default:l=v.jsxDEV(b,{type:"NOT_FOUND"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:54,columnNumber:23},globalThis)}return v.jsxDEV(v.Fragment,{children:["4"!==e&&v.jsxDEV(T,{progress:e,data:s},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:62,columnNumber:30},globalThis),v.jsxDEV(r.Suspense,{fallback:v.jsxDEV($,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:63,columnNumber:27},globalThis),children:l},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:63,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:61,columnNumber:5},globalThis)};export{la as RefinanceMortgage};
