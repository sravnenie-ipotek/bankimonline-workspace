import{j as e}from"./ui-vendor-99260b86.js";import{a as t,g as n,r,b as a}from"./react-vendor-21ec1e1c.js";import{c as i,u as o,d as u,e as s,f as c,n as l,T as d,i as f,g as p,S as m,p as h,h as g,j as y,k as v,l as b,m as w,o as S,t as O,q as I,r as M,s as x,v as j,w as q,x as A,y as T,z as R,A as C,B as k,C as _,D,F as P,R as N,P as Q,E,G as B,H as L,I as z,J as F}from"./state-vendor-069efcec.js";import{f as K}from"./utils-vendor-8f040048.js";import{u as U,i as $,B as W,a as H,I as J}from"./i18n-vendor-18addd5f.js";import{s as V}from"./form-vendor-6d56d196.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var G={},Y=t;G.createRoot=Y.createRoot,G.hydrateRoot=Y.hydrateRoot;const Z={},X=function(e,t,n){if(!t||0===t.length)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(e=>{if((e=function(e){return"/"+e}(e))in Z)return;Z[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(!!n)for(let n=r.length-1;n>=0;n--){const a=r[n];if(a.href===e&&(!t||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),t?new Promise((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0})).then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})};var ee,te={exports:{}};
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/ee=te,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var i=typeof a;if("string"===i||"number"===i)n.push(this&&this[a]||a);else if(Array.isArray(a))n.push(t.apply(this,a));else if("object"===i){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){n.push(a.toString());continue}for(var o in a)e.call(a,o)&&a[o]&&n.push(this&&this[o]||o)}}}return n.join(" ")}ee.exports?(t.default=t,ee.exports=t):window.classNames=t}();const ne=n(te.exports),re=({size:t=20,color:n})=>e.jsx("svg",{width:t,height:t,viewBox:"0 0 32 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M25.7081 24.7921C25.801 24.885 25.8747 24.9953 25.9249 25.1167C25.9752 25.2381 26.0011 25.3682 26.0011 25.4996C26.0011 25.631 25.9752 25.7611 25.9249 25.8825C25.8747 26.0039 25.801 26.1142 25.7081 26.2071C25.6151 26.3 25.5048 26.3737 25.3835 26.424C25.2621 26.4743 25.132 26.5001 25.0006 26.5001C24.8692 26.5001 24.7391 26.4743 24.6177 26.424C24.4963 26.3737 24.386 26.3 24.2931 26.2071L16.0006 17.9133L7.70806 26.2071C7.52042 26.3947 7.26592 26.5001 7.00056 26.5001C6.73519 26.5001 6.4807 26.3947 6.29306 26.2071C6.10542 26.0194 6 25.7649 6 25.4996C6 25.2342 6.10542 24.9797 6.29306 24.7921L14.5868 16.4996L6.29306 8.20708C6.10542 8.01944 6 7.76494 6 7.49958C6 7.23422 6.10542 6.97972 6.29306 6.79208C6.4807 6.60444 6.73519 6.49902 7.00056 6.49902C7.26592 6.49902 7.52042 6.60444 7.70806 6.79208L16.0006 15.0858L24.2931 6.79208C24.4807 6.60444 24.7352 6.49902 25.0006 6.49902C25.2659 6.49902 25.5204 6.60444 25.7081 6.79208C25.8957 6.97972 26.0011 7.23422 26.0011 7.49958C26.0011 7.76494 25.8957 8.01944 25.7081 8.20708L17.4143 16.4996L25.7081 24.7921Z",fill:n})});const ae={title:null,onOk:null,okTitle:null,onCancel:null,onClose:null,cancelTitle:null,isVisible:!1,content:null,isCloseIcon:!1,maxWidth:null},ie=i({name:"dialog",initialState:ae,reducers:{setDialog:(e,t)=>({...e,...t.payload,isVisible:!0}),cancelDialog:e=>({...ae})}}),{setDialog:oe,cancelDialog:ue}=ie.actions,se=e=>e.dialog,ce=ie.reducer,le={overlay:"_overlay_ur2kn_1",show:"_show_ur2kn_1",dialog:"_dialog_ur2kn_18",dialogTitle:"_dialogTitle_ur2kn_26",content:"_content_ur2kn_47",closeWrapper:"_closeWrapper_ur2kn_52",close:"_close_ur2kn_52",footerButtons:"_footerButtons_ur2kn_64"},de=()=>{const t=o(),{title:n,onOk:a,okTitle:i,onCancel:s,onClose:c,cancelTitle:l,isVisible:d,content:f,isCloseIcon:p}=u(se),m=function(e){const t=r.useRef(null),n=r.useCallback(n=>{var r,a;(null==(r=t.current)?void 0:r.contains)&&!(null==(a=t.current)?void 0:a.contains(n.target))&&e()},[e]);return r.useEffect(()=>(document.addEventListener("click",n,!0),()=>{document.removeEventListener("click",n,!0)}),[n]),t}(h);function h(){c&&c(),t(ue())}return d&&e.jsx("div",{ref:m,className:le.overlay,children:e.jsxs("div",{className:K(le.dialog,{}),children:[p&&e.jsx("button",{className:le.close,onClick:h,children:e.jsx(re,{size:24,color:"white"})}),n&&e.jsx("h3",{className:le.dialogTitle,children:n}),e.jsx("div",{className:le.content,children:f}),e.jsxs("div",{className:le.footerButtons,children:[i&&e.jsx("button",{className:le.ok,onClick:function(){a&&a(),t(ue())},children:i}),l&&e.jsx("button",{className:le.cancel,onClick:function(){s&&s(),t(ue())},children:l})]})]})})},fe={"notfound-body":"_notfound-body_idqee_1","notfound-greeting":"_notfound-greeting_idqee_10","notfound-actions":"_notfound-actions_idqee_22","button-container":"_button-container_idqee_37","notfound-stripe":"_notfound-stripe_idqee_80"},pe=ne.bind(fe),me=()=>{const{t:t}=U();return e.jsx("button",{className:pe("button-container"),onClick:()=>{window.location.href="/"},children:e.jsx("p",{children:t("not_found_back_home")})})},he=ne.bind(fe),ge=({type:t})=>{const{t:n}=U();return e.jsxs("div",{className:he("notfound-greeting"),children:["NOT_FOUND"===t&&e.jsx("span",{children:n("not_found_greeting")}),"FALLBACK"===t&&e.jsx("span",{children:n("fallback_greeting")})]})},ye=ne.bind(fe),ve=()=>e.jsx("div",{className:ye("notfound-stripe")}),be=ne.bind(fe),we=({type:t})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:be("notfound-body"),children:e.jsxs("div",{className:be("notfound-actions"),children:[e.jsx(ge,{type:t}),e.jsx(me,{})]})}),e.jsx(ve,{})]}),Se=({type:t})=>e.jsx(e.Fragment,{children:e.jsx(we,{type:t})}),Oe=Object.freeze(Object.defineProperty({__proto__:null,default:Se},Symbol.toStringTag,{value:"Module"}));class Ie extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?e.jsx(Se,{type:"FALLBACK"}):this.props.children}}const Me=()=>o(),xe=u,je=i({name:"login",initialState:{activeModal:"login",loginData:{},registrationData:{},isLogin:!1,activeTab:"phone"},reducers:{setActiveModal:(e,t)=>{e.activeModal=t.payload},setActiveTab:(e,t)=>{e.activeTab=t.payload},updateLoginData:(e,t)=>{e.loginData={...e.loginData,...t.payload},e.activeModal="code"},initializeUserData:(e,t)=>{e.loginData={...e.loginData,...t.payload}},updateRegistrationData:(e,t)=>{e.registrationData={...e.registrationData,...t.payload}},setIsLogin:e=>{e.isLogin=!0}}}),{setActiveModal:qe,updateLoginData:Ae,initializeUserData:Te,setIsLogin:Re,setActiveTab:Ce,updateRegistrationData:ke}=je.actions,_e=je.reducer,De={width:window.innerWidth,height:window.innerHeight},Pe=i({name:"windowSize",initialState:De,reducers:{updateWindowSize:(e,t)=>{e.width=t.payload.width,e.height=t.payload.height}}}),{updateWindowSize:Ne}=Pe.actions,Qe=Pe.reducer,Ee=new Map,Be=()=>{try{return"undefined"!=typeof window&&window.i18next?window.i18next.language||"en":"undefined"!=typeof document&&document.documentElement.lang||"en"}catch(e){return"en"}},Le=(e,t)=>{try{const n=Be(),r=Ee.get(`validation_errors_${n}`);if(r&&r[e]){return"object"==typeof r[e]?r[e].value:r[e]}if("undefined"!=typeof window&&window.i18next){const t=window.i18next.t(e);if(t&&t!==e)return t}return t||e}catch(n){return t||e}},ze=async()=>{try{const t=Be();try{const e=`/api/content/validation_errors/${t}`,n=await fetch(e);if(n.ok){const e=await n.json();if(e.content)return void Ee.set(`validation_errors_${t}`,e.content)}}catch(e){}}catch(t){}},Fe=async()=>{try{const e=Be();Ee.delete(`validation_errors_${e}`),await ze()}catch(e){}};function Ke(e,t){if(e.trim()===t)return{};try{return JSON.parse(function(e,t){const n=e.trim().replace(t,"").replace("(","").replace(")","").split(";").map(e=>e.split(":").map(e=>`"${e.trim()}"`).join(":")).join(",");return"{"+n+"}"}(e,t))}catch(n){return}}const Ue={lng:"undefined"!=typeof window&&(localStorage.getItem("admin_language")||localStorage.getItem("language"))||"he",fallbackLng:"he",interpolation:{escapeValue:!1,format:function(e,t,n){return t?t.startsWith("date")?String(function(e,t,n){const r=Ke(t,"date");if(null===r)return e;return new Intl.DateTimeFormat(n,r).format(e)}(e,t,n||"ru")):t.startsWith("number")?String(function(e,t,n){const r=Ke(t,"number");return null===r?e:new Intl.NumberFormat(n,r).format(e)}(e,t,n||"ru")):String(e):String(e)}},ns:["translation"],defaultNS:"translation",backend:{loadPath:"/locales/{{lng}}/{{ns}}.json?v="+(new Date).getTime(),requestOptions:{cache:"no-cache"},addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,reloadInterval:!1},debug:!0,react:{useSuspense:!1,bindI18n:"languageChanged loaded",bindI18nStore:"added removed"},initImmediate:!1,load:"languageOnly",preload:["he","en","ru"],returnEmptyString:!1,returnNull:!1,saveMissing:!1,updateMissing:!1,missingKeyHandler:(e,t,n)=>n};$.use(W).use(H).init(Ue).then(()=>{["yes","no","calculate_mortgage_when","calculate_mortgage_when_options_1","calculate_mortgage_type_options_1","button_next_save"].forEach(e=>{$.t(e)})}).catch(e=>{}),$.on("initialized",()=>{}),$.on("loaded",e=>{setTimeout(()=>{},100)}),$.on("languageChanged",e=>{$.hasResourceBundle(e,"translation")||$.loadLanguages(e)}),$.on("failedLoading",(e,t,n)=>{});const $e=()=>{const e=$.language||"en";"he"===e?V({mixed:{default:"שדה זה אינו תקין",required:"שדה זה הוא חובה",oneOf:"שדה זה חייב להיות אחד מהערכים הבאים: ${values}",notOneOf:"שדה זה לא יכול להיות אחד מהערכים הבאים: ${values}",defined:"שדה זה חייב להיות מוגדר"},string:{length:"שדה זה חייב להיות באורך של ${length} תווים",min:"שדה זה חייב להכיל לפחות ${min} תווים",max:"שדה זה יכול להכיל עד ${max} תווים",email:"שדה זה חייב להיות כתובת אימייל תקינה",url:"שדה זה חייב להיות URL תקין",trim:"שדה זה לא יכול להכיל רווחים בהתחלה או בסוף",lowercase:"שדה זה חייב להכיל אותיות קטנות בלבד",uppercase:"שדה זה חייב להכיל אותיות גדולות בלבד"},number:{min:"שדה זה חייב להיות גדול או שווה ל-${min}",max:"שדה זה חייב להיות קטן או שווה ל-${max}",positive:"שדה זה חייב להיות מספר חיובי",negative:"שדה זה חייב להיות מספר שלילי",integer:"שדה זה חייב להיות מספר שלם"},date:{min:"שדה זה חייב להיות מאוחר מ-${min}",max:"שדה זה חייב להיות מוקדם מ-${max}"},array:{min:"שדה זה חייב להכיל לפחות ${min} פריטים",max:"שדה זה יכול להכיל עד ${max} פריטים"}}):"ru"===e&&V({mixed:{default:"Это поле недействительно",required:"Это поле обязательно",oneOf:"Это поле должно быть одним из следующих значений: ${values}",notOneOf:"Это поле не может быть одним из следующих значений: ${values}",defined:"Это поле должно быть определено"},string:{length:"Это поле должно быть длиной ${length} символов",min:"Это поле должно содержать не менее ${min} символов",max:"Это поле может содержать не более ${max} символов",email:"Это поле должно быть действительным адресом электронной почты",url:"Это поле должно быть действительным URL",trim:"Это поле не может содержать пробелы в начале или конце",lowercase:"Это поле должно содержать только строчные буквы",uppercase:"Это поле должно содержать только заглавные буквы"},number:{min:"Это поле должно быть больше или равно ${min}",max:"Это поле должно быть меньше или равно ${max}",positive:"Это поле должно быть положительным числом",negative:"Это поле должно быть отрицательным числом",integer:"Это поле должно быть целым числом"},date:{min:"Это поле должно быть позже ${min}",max:"Это поле должно быть раньше ${max}"},array:{min:"Это поле должно содержать не менее ${min} элементов",max:"Это поле может содержать не более ${max} элементов"}})};$.on("languageChanged",()=>{$e()}),$e();const We=()=>{const[t,n]=r.useState(!1),[a,i]=r.useState(null),[o,u]=r.useState(!1);r.useEffect(()=>{s();const e=setInterval(s,3e4);return()=>clearInterval(e)},[]);const s=async()=>{try{const e=await fetch("/api/database-safety"),t=await e.json();i(t),n(!t.safe),t.safe}catch(e){}};return t&&a?e.jsxs("div",{className:"railway-warning-chip "+(o?"expanded":""),children:[e.jsxs("div",{className:"railway-warning-header",onClick:()=>u(!o),children:[e.jsx("span",{className:"warning-icon",children:"⚠️"}),e.jsx("span",{className:"warning-text",children:"UNSAFE: Railway DB Active"}),e.jsx("span",{className:"expand-icon",children:o?"▼":"▶"})]}),o&&e.jsxs("div",{className:"railway-warning-details",children:[e.jsxs("div",{className:"database-status",children:[e.jsxs("div",{className:"db-item",children:[e.jsx("span",{className:"db-indicator "+(a.databases.main.safe?"safe":"unsafe"),children:"●"}),e.jsx("span",{className:"db-label",children:"Main DB:"}),e.jsx("span",{className:"db-value",children:a.databases.main.host})]}),e.jsxs("div",{className:"db-item",children:[e.jsx("span",{className:"db-indicator "+(a.databases.content.safe?"safe":"unsafe"),children:"●"}),e.jsx("span",{className:"db-label",children:"Content DB:"}),e.jsx("span",{className:"db-value",children:a.databases.content.host})]})]}),e.jsx("div",{className:"warning-message",children:a.message}),e.jsxs("div",{className:"warning-issues",children:[e.jsx("strong",{children:"Issues with Railway:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Network latency (500-3000ms)"}),e.jsx("li",{children:"Connection timeouts"}),e.jsx("li",{children:"Data sync problems"}),e.jsx("li",{children:"Security vulnerabilities"})]})]}),e.jsx("button",{className:"switch-to-local-btn",onClick:()=>{alert("To switch to local databases:\n\n1. Stop the server (Ctrl+C)\n2. Run: npm run use-local-db\n3. Restart: npm start\n\nThis will use your local PostgreSQL databases instead of Railway.")},children:"Switch to Local Databases"})]})]}):null};const He={app:"_app_1s0yh_1"},Je=ne.bind(He),Ve=r.lazy(()=>X(()=>import("./index-8ba31d2c.js").then(e=>e.n),["assets/index-8ba31d2c.js","assets/ui-vendor-99260b86.js","assets/react-vendor-21ec1e1c.js","assets/components-vendor-62dc47c0.js","assets/utils-vendor-8f040048.js","assets/state-vendor-069efcec.js","assets/i18n-vendor-18addd5f.js","assets/form-vendor-6d56d196.js","assets/index-a7db6a61.css"]).then(e=>({default:e.MainRoutes}))),Ge=()=>{const{currentFont:t,direction:n,language:a}=xe(e=>e.language),{i18n:i}=U(),[o,u]=r.useState(!1),s=Me();return r.useEffect(()=>{const e=localStorage.getItem("USER_DATA");if(e)try{const t=JSON.parse(e),n={nameSurname:t.name||t.nameSurname,phoneNumber:t.mobile_number||t.phoneNumber};s(Te(n)),s(Re())}catch(t){}(async()=>{try{i.isInitialized||await new Promise(e=>{const t=setTimeout(()=>{e(void 0)},3e3);i.on("initialized",()=>{clearTimeout(t),e(void 0)})}),await i.changeLanguage(a);if(!i.hasResourceBundle(a,"translation"))try{await i.loadLanguages(a),await new Promise(e=>setTimeout(e,1e3))}catch(e){}u(!0),document.documentElement.setAttribute("dir",n),document.documentElement.setAttribute("lang",a),(()=>{try{"undefined"!=typeof window&&window.i18next&&window.i18next.on("languageChanged",e=>{Fe()}),"undefined"!=typeof document&&new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"lang"===e.attributeName&&document.documentElement.lang&&setTimeout(()=>Fe(),100)})}).observe(document.documentElement,{attributes:!0,attributeFilter:["lang"]}),ze()}catch(t){}})()}catch(t){u(!0)}})()},[a,i,n,s]),r.useEffect(()=>{const e=function(e,t=300){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{e.apply(this,r)},t)}}(()=>{s(Ne({width:window.innerWidth,height:window.innerHeight}))});return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[s]),o?e.jsx("section",{className:Je(`${t} ${n}`,"app"),dir:n,children:e.jsxs(Ie,{children:[e.jsx(We,{}),e.jsx(Ve,{}),e.jsx(de,{})]})}):e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#161616",color:"#FBE54D"},children:e.jsx("div",{children:"Loading translations..."})})};var Ye={},Ze={};function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(){}Ze.__esModule=!0,Ze.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"==typeof self?"undefined":Xe(self))||!(e in self))return!1;try{var t=self[e],n="redux-persist ".concat(e," test");t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch(r){return!1}return!0}(t)?self[t]:tt};var tt={getItem:et,setItem:et,removeItem:et};Ye.__esModule=!0,Ye.default=function(e){var t=(0,rt.default)(e);return{getItem:function(e){return new Promise(function(n,r){n(t.getItem(e))})},setItem:function(e,n){return new Promise(function(r,a){r(t.setItem(e,n))})},removeItem:function(e){return new Promise(function(n,r){n(t.removeItem(e))})}}};var nt,rt=(nt=Ze)&&nt.__esModule?nt:{default:nt};var at,it=function(e){return e&&e.__esModule?e:{default:e}}(Ye);at=(0,it.default)("local");const ot=i({name:"modal",initialState:{isOpenSourceOfIncome:!1,isOpenAdditionalIncome:!1,isOpenObligation:!1,isOpenLogin:!1,isOpenAuth:!1,currentId:0},reducers:{createSourceOfIncomeModal:e=>{e.isOpenSourceOfIncome=!0},createAdditionalIncomeModal:e=>{e.isOpenAdditionalIncome=!0},createObligationModal:e=>{e.isOpenObligation=!0},openLoginModal:e=>{e.isOpenLogin=!0},openAuthModal:e=>{e.isOpenAuth=!0},openSourceOfIncomeModal:(e,t)=>{e.isOpenSourceOfIncome=!0,e.currentId=t.payload},openAdditionalIncomeModal:(e,t)=>{e.isOpenAdditionalIncome=!0,e.currentId=t.payload},openObligationModal:(e,t)=>{e.isOpenObligation=!0,e.currentId=t.payload},closeModal:e=>{e.isOpenSourceOfIncome=!1,e.isOpenAdditionalIncome=!1,e.isOpenObligation=!1,e.isOpenLogin=!1,e.isOpenAuth=!1,e.currentId=0},setCurrentId:(e,t)=>{e.currentId=t.payload}}}),{closeModal:ut,setCurrentId:st,createSourceOfIncomeModal:ct,createAdditionalIncomeModal:lt,createObligationModal:dt,openLoginModal:ft,openAuthModal:pt,openSourceOfIncomeModal:mt,openAdditionalIncomeModal:ht,openObligationModal:gt}=ot.actions,yt=ot.reducer,vt=s("refinanceCredit/fetchRefinanceCredit",async e=>{const t={loans_data:e.data.creditData.map(e=>({id:e.id,bank:e.bank,amount:e.amount,monthly_payment:e.monthlyPayment,start_date:e.startDate,end_date:e.endDate,early_repayment:e.earlyRepayment})),refinancing_goal:e.data.refinancingCredit,desired_monthly_payment:e.data.desiredMonthlyPayment,desired_term:e.data.desiredTerm};return await(async e=>{try{const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n=await fetch("/api/refinance-credit",t);return await n.json()}catch(t){}})(t)}),bt=i({name:"refinanceCredit",initialState:{},reducers:{updateRefinanceCreditData:(e,t)=>({...e,...t.payload})},extraReducers:e=>{e.addCase(vt.fulfilled,(e,t)=>{t.payload.data.percent})}}),{updateRefinanceCreditData:wt}=bt.actions,St=bt.reducer;var Ot,It,Mt=globalThis&&globalThis.__generator||function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(u){i=[6,u],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},xt=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},jt=Object.defineProperty,qt=Object.defineProperties,At=Object.getOwnPropertyDescriptors,Tt=Object.getOwnPropertySymbols,Rt=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable,kt=function(e,t,n){return t in e?jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},_t=function(e,t){for(var n in t||(t={}))Rt.call(t,n)&&kt(e,n,t[n]);if(Tt)for(var r=0,a=Tt(t);r<a.length;r++){n=a[r];Ct.call(t,n)&&kt(e,n,t[n])}return e},Dt=function(e,t){return qt(e,At(t))},Pt=function(e,t){var n={};for(var r in e)Rt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Tt)for(var a=0,i=Tt(e);a<i.length;a++){r=i[a];t.indexOf(r)<0&&Ct.call(e,r)&&(n[r]=e[r])}return n},Nt=function(e,t,n){return new Promise(function(r,a){var i=function(e){try{u(n.next(e))}catch(t){a(t)}},o=function(e){try{u(n.throw(e))}catch(t){a(t)}},u=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,o)};u((n=n.apply(e,t)).next())})};(It=Ot||(Ot={})).uninitialized="uninitialized",It.pending="pending",It.fulfilled="fulfilled",It.rejected="rejected";function Qt(e,t){if(!e)return t;if(!t)return e;if(function(e){return new RegExp("(^|:)//").test(e)}(t))return t;var n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=function(e){return e.replace(/\/$/,"")}(e),""+e+n+(t=function(e){return e.replace(/^\//,"")}(t))}var Et=function(e){return[].concat.apply([],e)};var Bt=f;function Lt(e,t){if(e===t||!(Bt(e)&&Bt(t)||Array.isArray(e)&&Array.isArray(t)))return t;for(var n=Object.keys(t),r=Object.keys(e),a=n.length===r.length,i=Array.isArray(t)?[]:{},o=0,u=n;o<u.length;o++){var s=u[o];i[s]=Lt(e[s],t[s]),a&&(a=e[s]===i[s])}return a?e:i}var zt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fetch.apply(void 0,e)},Ft=function(e){return e.status>=200&&e.status<=299},Kt=function(e){return/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"")};function Ut(e){if(!f(e))return e;for(var t=_t({},e),n=0,r=Object.entries(t);n<r.length;n++){var a=r[n],i=a[0];void 0===a[1]&&delete t[i]}return t}var $t,Wt,Ht=function(e,t){void 0===t&&(t=void 0),this.value=e,this.meta=t},Jt=p("__rtkq/focused"),Vt=p("__rtkq/unfocused"),Gt=p("__rtkq/online"),Yt=p("__rtkq/offline");function Zt(e){return e.type===$t.query}function Xt(e,t,n,r,a,i){return"function"==typeof e?e(t,n,r,a).map(en).map(i):Array.isArray(e)?e.map(en).map(i):[]}function en(e){return"string"==typeof e?{type:e}:e}function tn(e){return null!=e}(Wt=$t||($t={})).query="query",Wt.mutation="mutation";var nn=Symbol("forceQueryFn"),rn=function(e){return"function"==typeof e[nn]};function an(e){return e}function on(e,t,n,r){return Xt(n[e.meta.arg.endpointName][t],v(e)?e.payload:void 0,y(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function un(e,t,n){var r=e[t];r&&n(r)}function sn(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function cn(e,t,n){var r=e[sn(t)];r&&n(r)}var ln={};function dn(e){var t=e.reducerPath,n=e.queryThunk,r=e.mutationThunk,a=e.context,o=a.endpointDefinitions,u=a.apiUid,s=a.extractRehydrationInfo,c=a.hasRehydrationInfo,l=e.assertTagType,d=e.config,f=p(t+"/resetApiState"),m=i({name:t+"/queries",initialState:ln,reducers:{removeQueryResult:{reducer:function(e,t){delete e[t.payload.queryCacheKey]},prepare:h()},queryResultPatched:{reducer:function(e,t){var n=t.payload,r=n.queryCacheKey,a=n.patches;un(e,r,function(e){e.data=b(e.data,a.concat())})},prepare:h()}},extraReducers:function(e){e.addCase(n.pending,function(e,t){var n,r=t.meta,a=t.meta.arg,i=rn(a);(a.subscribe||i)&&(null!=e[n=a.queryCacheKey]||(e[n]={status:Ot.uninitialized,endpointName:a.endpointName})),un(e,a.queryCacheKey,function(e){e.status=Ot.pending,e.requestId=i&&e.requestId?e.requestId:r.requestId,void 0!==a.originalArgs&&(e.originalArgs=a.originalArgs),e.startedTimeStamp=r.startedTimeStamp})}).addCase(n.fulfilled,function(e,t){var n=t.meta,r=t.payload;un(e,n.arg.queryCacheKey,function(e){var t;if(e.requestId===n.requestId||rn(n.arg)){var a=o[n.arg.endpointName].merge;if(e.status=Ot.fulfilled,a)if(void 0!==e.data){var i=n.fulfilledTimeStamp,u=n.arg,s=n.baseQueryMeta,c=n.requestId,l=q(e.data,function(e){return a(e,r,{arg:u.originalArgs,baseQueryMeta:s,fulfilledTimeStamp:i,requestId:c})});e.data=l}else e.data=r;else e.data=null==(t=o[n.arg.endpointName].structuralSharing)||t?Lt(A(e.data)?T(e.data):e.data,r):r;delete e.error,e.fulfilledTimeStamp=n.fulfilledTimeStamp}})}).addCase(n.rejected,function(e,t){var n=t.meta,r=n.condition,a=n.arg,i=n.requestId,o=t.error,u=t.payload;un(e,a.queryCacheKey,function(e){if(r);else{if(e.requestId!==i)return;e.status=Ot.rejected,e.error=null!=u?u:o}})}).addMatcher(c,function(e,t){for(var n=s(t).queries,r=0,a=Object.entries(n);r<a.length;r++){var i=a[r],o=i[0],u=i[1];(null==u?void 0:u.status)!==Ot.fulfilled&&(null==u?void 0:u.status)!==Ot.rejected||(e[o]=u)}})}}),S=i({name:t+"/mutations",initialState:ln,reducers:{removeMutationResult:{reducer:function(e,t){var n=sn(t.payload);n in e&&delete e[n]},prepare:h()}},extraReducers:function(e){e.addCase(r.pending,function(e,t){var n=t.meta,r=t.meta,a=r.requestId,i=r.arg,o=r.startedTimeStamp;i.track&&(e[sn(n)]={requestId:a,status:Ot.pending,endpointName:i.endpointName,startedTimeStamp:o})}).addCase(r.fulfilled,function(e,t){var n=t.payload,r=t.meta;r.arg.track&&cn(e,r,function(e){e.requestId===r.requestId&&(e.status=Ot.fulfilled,e.data=n,e.fulfilledTimeStamp=r.fulfilledTimeStamp)})}).addCase(r.rejected,function(e,t){var n=t.payload,r=t.error,a=t.meta;a.arg.track&&cn(e,a,function(e){e.requestId===a.requestId&&(e.status=Ot.rejected,e.error=null!=n?n:r)})}).addMatcher(c,function(e,t){for(var n=s(t).mutations,r=0,a=Object.entries(n);r<a.length;r++){var i=a[r],o=i[0],u=i[1];(null==u?void 0:u.status)!==Ot.fulfilled&&(null==u?void 0:u.status)!==Ot.rejected||o===(null==u?void 0:u.requestId)||(e[o]=u)}})}}),O=i({name:t+"/invalidation",initialState:ln,reducers:{updateProvidedBy:{reducer:function(e,t){for(var n,r,a,i,o=t.payload,u=o.queryCacheKey,s=o.providedTags,c=0,l=Object.values(e);c<l.length;c++)for(var d=l[c],f=0,p=Object.values(d);f<p.length;f++){var m=p[f],h=m.indexOf(u);-1!==h&&m.splice(h,1)}for(var g=0,y=s;g<y.length;g++){var v=y[g],b=v.type,w=v.id,S=null!=(i=(r=null!=(n=e[b])?n:e[b]={})[a=w||"__internal_without_id"])?i:r[a]=[];S.includes(u)||S.push(u)}},prepare:h()}},extraReducers:function(e){e.addCase(m.actions.removeQueryResult,function(e,t){for(var n=t.payload.queryCacheKey,r=0,a=Object.values(e);r<a.length;r++)for(var i=a[r],o=0,u=Object.values(i);o<u.length;o++){var s=u[o],c=s.indexOf(n);-1!==c&&s.splice(c,1)}}).addMatcher(c,function(e,t){for(var n,r,a,i,o=s(t).provided,u=0,c=Object.entries(o);u<c.length;u++)for(var l=c[u],d=l[0],f=l[1],p=0,m=Object.entries(f);p<m.length;p++)for(var h=m[p],g=h[0],y=h[1],v=null!=(i=(r=null!=(n=e[d])?n:e[d]={})[a=g||"__internal_without_id"])?i:r[a]=[],b=0,w=y;b<w.length;b++){var S=w[b];v.includes(S)||v.push(S)}}).addMatcher(g(v(n),y(n)),function(e,t){var n=on(t,"providesTags",o,l),r=t.meta.arg.queryCacheKey;O.caseReducers.updateProvidedBy(e,O.actions.updateProvidedBy({queryCacheKey:r,providedTags:n}))})}}),I=i({name:t+"/subscriptions",initialState:ln,reducers:{updateSubscriptionOptions:function(e,t){},unsubscribeQueryResult:function(e,t){},internal_probeSubscription:function(e,t){}}}),M=i({name:t+"/internalSubscriptions",initialState:ln,reducers:{subscriptionsUpdated:{reducer:function(e,t){return b(e,t.payload)},prepare:h()}}}),x=i({name:t+"/config",initialState:_t({online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"==typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1},d),reducers:{middlewareRegistered:function(e,t){var n=t.payload;e.middlewareRegistered="conflict"!==e.middlewareRegistered&&u===n||"conflict"}},extraReducers:function(e){e.addCase(Gt,function(e){e.online=!0}).addCase(Yt,function(e){e.online=!1}).addCase(Jt,function(e){e.focused=!0}).addCase(Vt,function(e){e.focused=!1}).addMatcher(c,function(e){return _t({},e)})}}),j=w({queries:m.reducer,mutations:S.reducer,provided:O.reducer,subscriptions:M.reducer,config:x.reducer});return{reducer:function(e,t){return j(f.match(t)?void 0:e,t)},actions:Dt(_t(_t(_t(_t(_t(_t({},x.actions),m.actions),I.actions),M.actions),S.actions),O.actions),{unsubscribeMutationResult:S.actions.removeMutationResult,resetApiState:f})}}var fn=Symbol.for("RTKQ/skipToken"),pn={status:Ot.uninitialized},mn=q(pn,function(){}),hn=q(pn,function(){});function gn(e){var t=e.serializeQueryArgs,n=e.reducerPath,r=function(e){return mn},a=function(e){return hn};return{buildQuerySelector:function(e,n){return function(a){var u=t({queryArgs:a,endpointDefinition:n,endpointName:e});return S(a===fn?r:function(e){var t,n,r;return null!=(r=null==(n=null==(t=o(e))?void 0:t.queries)?void 0:n[u])?r:mn},i)}},buildMutationSelector:function(){return function(e){var t,n;n="object"==typeof e?null!=(t=sn(e))?t:fn:e;return S(n===fn?a:function(e){var t,r,a;return null!=(a=null==(r=null==(t=o(e))?void 0:t.mutations)?void 0:r[n])?a:hn},i)}},selectInvalidatedBy:function(e,t){for(var r,a=e[n],i=new Set,o=0,u=t.map(en);o<u.length;o++){var s=u[o],c=a.provided[s.type];if(c)for(var l=0,d=null!=(r=void 0!==s.id?c[s.id]:Et(Object.values(c)))?r:[];l<d.length;l++){var f=d[l];i.add(f)}}return Et(Array.from(i.values()).map(function(e){var t=a.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]}))}};function i(e){return _t(_t({},e),{status:t=e.status,isUninitialized:t===Ot.uninitialized,isLoading:t===Ot.pending,isSuccess:t===Ot.fulfilled,isError:t===Ot.rejected});var t}function o(e){return e[n]}}var yn=WeakMap?new WeakMap:void 0,vn=function(e){var t=e.endpointName,n=e.queryArgs,r="",a=null==yn?void 0:yn.get(n);if("string"==typeof a)r=a;else{var i=JSON.stringify(n,function(e,t){return f(t)?Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{}):t});f(n)&&(null==yn||yn.set(n,i)),r=i}return t+"("+r+")"};function bn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=c(function(e){var n,r;return null==(r=t.extractRehydrationInfo)?void 0:r.call(t,e,{reducerPath:null!=(n=t.reducerPath)?n:"api"})}),r=Dt(_t({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},t),{extractRehydrationInfo:n,serializeQueryArgs:function(e){var n=vn;if("serializeQueryArgs"in e.endpointDefinition){var r=e.endpointDefinition.serializeQueryArgs;n=function(e){var t=r(e);return"string"==typeof t?t:vn(Dt(_t({},e),{queryArgs:t}))}}else t.serializeQueryArgs&&(n=t.serializeQueryArgs);return n(e)},tagTypes:xt([],t.tagTypes||[])}),a={endpointDefinitions:{},batch:function(e){e()},apiUid:l(),extractRehydrationInfo:n,hasRehydrationInfo:c(function(e){return null!=n(e)})},i={injectEndpoints:function(e){for(var t=e.endpoints({query:function(e){return Dt(_t({},e),{type:$t.query})},mutation:function(e){return Dt(_t({},e),{type:$t.mutation})}}),n=0,r=Object.entries(t);n<r.length;n++){var u=r[n],s=u[0],c=u[1];if(e.overrideExisting||!(s in a.endpointDefinitions)){a.endpointDefinitions[s]=c;for(var l=0,d=o;l<d.length;l++){d[l].injectEndpoint(s,c)}}}return i},enhanceEndpoints:function(e){var t=e.addTagTypes,n=e.endpoints;if(t)for(var o=0,u=t;o<u.length;o++){var s=u[o];r.tagTypes.includes(s)||r.tagTypes.push(s)}if(n)for(var c=0,l=Object.entries(n);c<l.length;c++){var d=l[c],f=d[0],p=d[1];"function"==typeof p?p(a.endpointDefinitions[f]):Object.assign(a.endpointDefinitions[f]||{},p)}return i}},o=e.map(function(e){return e.init(i,r,a)});return i.injectEndpoints({endpoints:t.endpoints})}}var wn,Sn=function(e){var t=e.reducerPath,n=e.api,r=e.context,a=e.internalState,i=n.internalActions,o=i.removeQueryResult,u=i.unsubscribeQueryResult;function s(e){var t=a.currentSubscriptions[e];return!!t&&!function(e){for(var t in e)return!1;return!0}(t)}var c={};function l(e,t,n,a){var i,u=r.endpointDefinitions[t],l=null!=(i=null==u?void 0:u.keepUnusedDataFor)?i:a.keepUnusedDataFor;if(l!==1/0){var d=Math.max(0,Math.min(l,2147482.647));if(!s(e)){var f=c[e];f&&clearTimeout(f),c[e]=setTimeout(function(){s(e)||n.dispatch(o({queryCacheKey:e})),delete c[e]},1e3*d)}}}return function(e,a,i){var o;if(u.match(e)){var s=a.getState()[t];l(w=e.payload.queryCacheKey,null==(o=s.queries[w])?void 0:o.endpointName,a,s.config)}if(n.util.resetApiState.match(e))for(var d=0,f=Object.entries(c);d<f.length;d++){var p=f[d],m=p[0],h=p[1];h&&clearTimeout(h),delete c[m]}if(r.hasRehydrationInfo(e)){s=a.getState()[t];for(var g=r.extractRehydrationInfo(e).queries,y=0,v=Object.entries(g);y<v.length;y++){var b=v[y],w=b[0],S=b[1];l(w,null==S?void 0:S.endpointName,a,s.config)}}}},On=function(e){var t=e.reducerPath,n=e.context,r=e.context.endpointDefinitions,a=e.mutationThunk,i=e.api,o=e.assertTagType,u=e.refetchQuery,s=i.internalActions.removeQueryResult,c=g(v(a),y(a));function l(e,r){var a=r.getState(),o=a[t],c=i.util.selectInvalidatedBy(a,e);n.batch(function(){for(var e,t=0,n=Array.from(c.values());t<n.length;t++){var a=n[t].queryCacheKey,i=o.queries[a],l=null!=(e=o.subscriptions[a])?e:{};i&&(0===Object.keys(l).length?r.dispatch(s({queryCacheKey:a})):i.status!==Ot.uninitialized&&r.dispatch(u(i,a)))}})}return function(e,t){c(e)&&l(on(e,"invalidatesTags",r,o),t),i.util.invalidateTags.match(e)&&l(Xt(e.payload,void 0,void 0,void 0,void 0,o),t)}},In=function(e){var t=e.reducerPath,n=e.queryThunk,r=e.api,a=e.refetchQuery,i=e.internalState,o={};function u(e,n){var r=e.queryCacheKey,u=n.getState()[t].queries[r],s=i.currentSubscriptions[r];if(u&&u.status!==Ot.uninitialized){var c=l(s);if(Number.isFinite(c)){var d=o[r];(null==d?void 0:d.timeout)&&(clearTimeout(d.timeout),d.timeout=void 0);var f=Date.now()+c,p=o[r]={nextPollTimestamp:f,pollingInterval:c,timeout:setTimeout(function(){p.timeout=void 0,n.dispatch(a(u,r))},c)}}}}function s(e,n){var r=e.queryCacheKey,a=n.getState()[t].queries[r],s=i.currentSubscriptions[r];if(a&&a.status!==Ot.uninitialized){var d=l(s);if(Number.isFinite(d)){var f=o[r],p=Date.now()+d;(!f||p<f.nextPollTimestamp)&&u({queryCacheKey:r},n)}else c(r)}}function c(e){var t=o[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete o[e]}function l(e){void 0===e&&(e={});var t=Number.POSITIVE_INFINITY;for(var n in e)e[n].pollingInterval&&(t=Math.min(e[n].pollingInterval,t));return t}return function(e,t){(r.internalActions.updateSubscriptionOptions.match(e)||r.internalActions.unsubscribeQueryResult.match(e))&&s(e.payload,t),(n.pending.match(e)||n.rejected.match(e)&&e.meta.condition)&&s(e.meta.arg,t),(n.fulfilled.match(e)||n.rejected.match(e)&&!e.meta.condition)&&u(e.meta.arg,t),r.util.resetApiState.match(e)&&function(){for(var e=0,t=Object.keys(o);e<t.length;e++){c(t[e])}}()}},Mn=new Error("Promise never resolved before cacheEntryRemoved."),xn=function(e){var t=e.api,n=e.reducerPath,r=e.context,a=e.queryThunk,i=e.mutationThunk;e.internalState;var o=R(a),u=R(i),s=v(a,i),c={};function l(e,n,a,i,o){var u=r.endpointDefinitions[e],s=null==u?void 0:u.onCacheEntryAdded;if(s){var l={},d=new Promise(function(e){l.cacheEntryRemoved=e}),f=Promise.race([new Promise(function(e){l.valueResolved=e}),d.then(function(){throw Mn})]);f.catch(function(){}),c[a]=l;var p=t.endpoints[e].select(u.type===$t.query?n:a),m=i.dispatch(function(e,t,n){return n}),h=Dt(_t({},i),{getCacheEntry:function(){return p(i.getState())},requestId:o,extra:m,updateCachedData:u.type===$t.query?function(r){return i.dispatch(t.util.updateQueryData(e,n,r))}:void 0,cacheDataLoaded:f,cacheEntryRemoved:d}),g=s(n,h);Promise.resolve(g).catch(function(e){if(e!==Mn)throw e})}}return function(e,r,d){var f=function(e){return o(e)?e.meta.arg.queryCacheKey:u(e)?e.meta.requestId:t.internalActions.removeQueryResult.match(e)?e.payload.queryCacheKey:t.internalActions.removeMutationResult.match(e)?sn(e.payload):""}(e);if(a.pending.match(e)){var p=d[n].queries[f],m=r.getState()[n].queries[f];!p&&m&&l(e.meta.arg.endpointName,e.meta.arg.originalArgs,f,r,e.meta.requestId)}else if(i.pending.match(e)){(m=r.getState()[n].mutations[f])&&l(e.meta.arg.endpointName,e.meta.arg.originalArgs,f,r,e.meta.requestId)}else if(s(e)){(null==(b=c[f])?void 0:b.valueResolved)&&(b.valueResolved({data:e.payload,meta:e.meta.baseQueryMeta}),delete b.valueResolved)}else if(t.internalActions.removeQueryResult.match(e)||t.internalActions.removeMutationResult.match(e)){(b=c[f])&&(delete c[f],b.cacheEntryRemoved())}else if(t.util.resetApiState.match(e))for(var h=0,g=Object.entries(c);h<g.length;h++){var y=g[h],v=y[0],b=y[1];delete c[v],b.cacheEntryRemoved()}}},jn=function(e){var t=e.api,n=e.context,r=e.queryThunk,a=e.mutationThunk,i=x(r,a),o=j(r,a),u=v(r,a),s={};return function(e,r){var a,c,l;if(i(e)){var d=e.meta,f=d.requestId,p=d.arg,m=p.endpointName,h=p.originalArgs,g=n.endpointDefinitions[m],y=null==g?void 0:g.onQueryStarted;if(y){var v={},b=new Promise(function(e,t){v.resolve=e,v.reject=t});b.catch(function(){}),s[f]=v;var w=t.endpoints[m].select(g.type===$t.query?h:f),S=r.dispatch(function(e,t,n){return n}),O=Dt(_t({},r),{getCacheEntry:function(){return w(r.getState())},requestId:f,extra:S,updateCachedData:g.type===$t.query?function(e){return r.dispatch(t.util.updateQueryData(m,h,e))}:void 0,queryFulfilled:b});y(h,O)}}else if(u(e)){var I=e.meta,M=(f=I.requestId,I.baseQueryMeta);null==(a=s[f])||a.resolve({data:e.payload,meta:M}),delete s[f]}else if(o(e)){var x=e.meta,j=(f=x.requestId,x.rejectedWithValue);M=x.baseQueryMeta;null==(l=s[f])||l.reject({error:null!=(c=e.payload)?c:e.error,isUnhandledError:!j,meta:M}),delete s[f]}}},qn=function(e){var t=e.api,n=e.context.apiUid;e.reducerPath;return function(e,r){t.util.resetApiState.match(e)&&r.dispatch(t.internalActions.middlewareRegistered(n))}},An="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:"undefined"!=typeof global?global:globalThis):function(e){return(wn||(wn=Promise.resolve())).then(e).catch(function(e){return setTimeout(function(){throw e},0)})},Tn=function(e){var t=e.api,n=e.queryThunk,r=e.internalState,a=t.reducerPath+"/subscriptions",i=null,o=!1,u=t.internalActions,s=u.updateSubscriptionOptions,c=u.unsubscribeQueryResult;return function(e,u){var l,d;if(i||(i=JSON.parse(JSON.stringify(r.currentSubscriptions))),t.util.resetApiState.match(e))return i=r.currentSubscriptions={},[!0,!1];if(t.internalActions.internal_probeSubscription.match(e)){var f=e.payload,p=f.queryCacheKey,m=f.requestId;return[!1,!!(null==(l=r.currentSubscriptions[p])?void 0:l[m])]}var h=function(e,r){var a,i,o,u,l,d,f,p,m;if(s.match(r)){var h=r.payload,g=h.queryCacheKey,y=h.requestId,v=h.options;return(null==(a=null==e?void 0:e[g])?void 0:a[y])&&(e[g][y]=v),!0}if(c.match(r)){var b=r.payload;return g=b.queryCacheKey,y=b.requestId,e[g]&&delete e[g][y],!0}if(t.internalActions.removeQueryResult.match(r))return delete e[r.payload.queryCacheKey],!0;if(n.pending.match(r)){var w=r.meta,S=w.arg;if(y=w.requestId,S.subscribe)return(O=null!=(o=e[i=S.queryCacheKey])?o:e[i]={})[y]=null!=(l=null!=(u=S.subscriptionOptions)?u:O[y])?l:{},!0}if(n.rejected.match(r)){var O,I=r.meta,M=I.condition;if(S=I.arg,y=I.requestId,M&&S.subscribe)return(O=null!=(f=e[d=S.queryCacheKey])?f:e[d]={})[y]=null!=(m=null!=(p=S.subscriptionOptions)?p:O[y])?m:{},!0}return!1}(r.currentSubscriptions,e);if(h){o||(An(function(){var e=JSON.parse(JSON.stringify(r.currentSubscriptions)),n=I(i,function(){return e})[1];u.next(t.internalActions.subscriptionsUpdated(n)),i=e,o=!1}),o=!0);var g=!!(null==(d=e.type)?void 0:d.startsWith(a)),y=n.rejected.match(e)&&e.meta.condition&&!!e.meta.arg.subscribe;return[!g&&!y,!1]}return[!0,!1]}};function Rn(e){var t=e.reducerPath,n=e.queryThunk,r=e.api,a=e.context,i=a.apiUid,o={invalidateTags:p(t+"/invalidateTags")},u=[qn,Sn,On,In,xn,jn];return{middleware:function(n){var o=!1,c=Dt(_t({},e),{internalState:{currentSubscriptions:{}},refetchQuery:s}),l=u.map(function(e){return e(c)}),d=Tn(c),f=function(e){var t=e.reducerPath,n=e.context,r=e.api,a=e.refetchQuery,i=e.internalState,o=r.internalActions.removeQueryResult;function u(e,r){var u=e.getState()[t],s=u.queries,c=i.currentSubscriptions;n.batch(function(){for(var t=0,n=Object.keys(c);t<n.length;t++){var i=n[t],l=s[i],d=c[i];d&&l&&(Object.values(d).some(function(e){return!0===e[r]})||Object.values(d).every(function(e){return void 0===e[r]})&&u.config[r])&&(0===Object.keys(d).length?e.dispatch(o({queryCacheKey:i})):l.status!==Ot.uninitialized&&e.dispatch(a(l,i)))}})}return function(e,t){Jt.match(e)&&u(t,"refetchOnFocus"),Gt.match(e)&&u(t,"refetchOnReconnect")}}(c);return function(e){return function(u){o||(o=!0,n.dispatch(r.internalActions.middlewareRegistered(i)));var s,c=Dt(_t({},n),{next:e}),p=n.getState(),m=d(u,c,p),h=m[0],g=m[1];if(s=h?e(u):g,n.getState()[t]&&(f(u,c,p),function(e){return!!e&&"string"==typeof e.type&&e.type.startsWith(t+"/")}(u)||a.hasRehydrationInfo(u)))for(var y=0,v=l;y<v.length;y++){(0,v[y])(u,c,p)}return s}}},actions:o};function s(e,t,r){return void 0===r&&(r={}),n(_t({type:"query",endpointName:e.endpointName,originalArgs:e.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:t},r))}}function Cn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,xt([e],t))}var kn=Symbol(),_n=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Dn=Object.defineProperty,Pn=Object.defineProperties,Nn=Object.getOwnPropertyDescriptors,Qn=Object.getOwnPropertySymbols,En=Object.prototype.hasOwnProperty,Bn=Object.prototype.propertyIsEnumerable,Ln=function(e,t,n){return t in e?Dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},zn=function(e,t){for(var n in t||(t={}))En.call(t,n)&&Ln(e,n,t[n]);if(Qn)for(var r=0,a=Qn(t);r<a.length;r++){n=a[r];Bn.call(t,n)&&Ln(e,n,t[n])}return e},Fn=function(e,t){return Pn(e,Nn(t))};function Kn(e,t,n,a){var i=r.useMemo(function(){return{queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:n,endpointName:a}):e}},[e,t,n,a]),o=r.useRef(i);return r.useEffect(function(){o.current.serialized!==i.serialized&&(o.current=i)},[i]),o.current.serialized===i.serialized?o.current.queryArgs:e}var Un=Symbol();function $n(e){var t=r.useRef(e);return r.useEffect(function(){C(t.current,e)||(t.current=e)},[e]),C(t.current,e)?t.current:e}var Wn,Hn=WeakMap?new WeakMap:void 0,Jn=function(e){var t=e.endpointName,n=e.queryArgs,r="",a=null==Hn?void 0:Hn.get(n);if("string"==typeof a)r=a;else{var i=JSON.stringify(n,function(e,t){return f(t)?Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{}):t});f(n)&&(null==Hn||Hn.set(n,i)),r=i}return t+"("+r+")"},Vn="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,Gn=function(e){return e},Yn=function(e){return e.isUninitialized?Fn(zn({},e),{isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:Ot.pending}):e};function Zn(e){return e.replace(e[0],e[0].toUpperCase())}function Xn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];Object.assign.apply(Object,_n([e],t))}!function(e){e.query="query",e.mutation="mutation"}(Wn||(Wn={}));var er,tr,nr,rr,ar,ir,or,ur,sr,cr,lr,dr,fr=Symbol(),pr=bn({name:kn,init:function(e,t,n){var r=t.baseQuery,a=(t.tagTypes,t.reducerPath),i=t.serializeQueryArgs,o=t.keepUnusedDataFor,u=t.refetchOnMountOrArgChange,c=t.refetchOnFocus,l=t.refetchOnReconnect;d();var f=function(e){return e};Object.assign(e,{reducerPath:a,endpoints:{},internalActions:{onOnline:Gt,onOffline:Yt,onFocus:Jt,onFocusLost:Vt},util:{}});var p=function(e){var t=this,n=e.reducerPath,r=e.baseQuery,a=e.context.endpointDefinitions,i=e.serializeQueryArgs,o=e.api,u=e.assertTagType,c=function(e,n){return Nt(t,[e,n],function(e,t){var n,i,o,u,s,c,d,f,p,h,g,y,v,b=t.signal,w=t.abort,S=t.rejectWithValue,O=t.fulfillWithValue,I=t.dispatch,M=t.getState,x=t.extra;return Mt(this,function(t){switch(t.label){case 0:n=a[e.endpointName],t.label=1;case 1:return t.trys.push([1,8,,13]),i=an,o=void 0,u={signal:b,abort:w,dispatch:I,getState:M,extra:x,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?l(e,M()):void 0},(s="query"===e.type?e[nn]:void 0)?(o=s(),[3,6]):[3,2];case 2:return n.query?[4,r(n.query(e.originalArgs),u,n.extraOptions)]:[3,4];case 3:return o=t.sent(),n.transformResponse&&(i=n.transformResponse),[3,6];case 4:return[4,n.queryFn(e.originalArgs,u,n.extraOptions,function(e){return r(e,u,n.extraOptions)})];case 5:o=t.sent(),t.label=6;case 6:if(o.error)throw new Ht(o.error,o.meta);return c=O,[4,i(o.data,o.meta,e.originalArgs)];case 7:return[2,c.apply(void 0,[t.sent(),(y={fulfilledTimeStamp:Date.now(),baseQueryMeta:o.meta},y[m]=!0,y)])];case 8:if(d=t.sent(),!((f=d)instanceof Ht))return[3,12];p=an,n.query&&n.transformErrorResponse&&(p=n.transformErrorResponse),t.label=9;case 9:return t.trys.push([9,11,,12]),h=S,[4,p(f.value,f.meta,e.originalArgs)];case 10:return[2,h.apply(void 0,[t.sent(),(v={baseQueryMeta:f.meta},v[m]=!0,v)])];case 11:return g=t.sent(),f=g,[3,12];case 12:throw f;case 13:return[2]}})})};function l(e,t){var r,a,i,o,u=null==(a=null==(r=t[n])?void 0:r.queries)?void 0:a[e.queryCacheKey],s=null==(i=t[n])?void 0:i.config.refetchOnMountOrArgChange,c=null==u?void 0:u.fulfilledTimeStamp,l=null!=(o=e.forceRefetch)?o:e.subscribe&&s;return!!l&&(!0===l||(Number(new Date)-Number(c))/1e3>=l)}var d=s(n+"/executeQuery",c,{getPendingMeta:function(){var e;return(e={startedTimeStamp:Date.now()})[m]=!0,e},condition:function(e,t){var r,i,o,u=(0,t.getState)(),s=null==(i=null==(r=u[n])?void 0:r.queries)?void 0:i[e.queryCacheKey],c=null==s?void 0:s.fulfilledTimeStamp,d=e.originalArgs,f=null==s?void 0:s.originalArgs,p=a[e.endpointName];return!(!rn(e)&&("pending"===(null==s?void 0:s.status)||!l(e,u)&&(!Zt(p)||!(null==(o=null==p?void 0:p.forceRefetch)?void 0:o.call(p,{currentArg:d,previousArg:f,endpointState:s,state:u})))&&c))},dispatchConditionRejection:!0}),f=s(n+"/executeMutation",c,{getPendingMeta:function(){var e;return(e={startedTimeStamp:Date.now()})[m]=!0,e}});function p(e){return function(t){var n,r;return(null==(r=null==(n=null==t?void 0:t.meta)?void 0:n.arg)?void 0:r.endpointName)===e}}return{queryThunk:d,mutationThunk:f,prefetch:function(e,t,n){return function(r,a){var i=function(e){return"force"in e}(n)&&n.force,u=function(e){return"ifOlderThan"in e}(n)&&n.ifOlderThan,s=function(n){return void 0===n&&(n=!0),o.endpoints[e].initiate(t,{forceRefetch:n})},c=o.endpoints[e].select(t)(a());if(i)r(s());else if(u){var l=null==c?void 0:c.fulfilledTimeStamp;if(!l)return void r(s());(Number(new Date)-Number(new Date(l)))/1e3>=u&&r(s())}else r(s(!1))}},updateQueryData:function(e,t,n,r){return void 0===r&&(r=!0),function(a,i){var u,s,c,l=o.endpoints[e].select(t)(i()),d={patches:[],inversePatches:[],undo:function(){return a(o.util.patchQueryData(e,t,d.inversePatches,r))}};if(l.status===Ot.uninitialized)return d;if("data"in l)if(O(l.data)){var f=I(l.data,n),p=f[0],m=f[1],h=f[2];(u=d.patches).push.apply(u,m),(s=d.inversePatches).push.apply(s,h),c=p}else c=n(l.data),d.patches.push({op:"replace",path:[],value:c}),d.inversePatches.push({op:"replace",path:[],value:l.data});return a(o.util.patchQueryData(e,t,d.patches,r)),d}},upsertQueryData:function(e,t,n){return function(r){var a;return r(o.endpoints[e].initiate(t,((a={subscribe:!1,forceRefetch:!0})[nn]=function(){return{data:n}},a)))}},patchQueryData:function(e,t,n,r){return function(s,c){var l=a[e],d=i({queryArgs:t,endpointDefinition:l,endpointName:e});if(s(o.internalActions.queryResultPatched({queryCacheKey:d,patches:n})),r){var f=o.endpoints[e].select(t)(c()),p=Xt(l.providesTags,f.data,void 0,t,{},u);s(o.internalActions.updateProvidedBy({queryCacheKey:d,providedTags:p}))}}},buildMatchThunkActions:function(e,t){return{matchPending:M(x(e),p(t)),matchFulfilled:M(v(e),p(t)),matchRejected:M(j(e),p(t))}}}}({baseQuery:r,reducerPath:a,context:n,api:e,serializeQueryArgs:i,assertTagType:f}),h=p.queryThunk,g=p.mutationThunk,y=p.patchQueryData,b=p.updateQueryData,w=p.upsertQueryData,S=p.prefetch,q=p.buildMatchThunkActions,A=dn({context:n,queryThunk:h,mutationThunk:g,reducerPath:a,assertTagType:f,config:{refetchOnFocus:c,refetchOnReconnect:l,refetchOnMountOrArgChange:u,keepUnusedDataFor:o,reducerPath:a}}),T=A.reducer,R=A.actions;Cn(e.util,{patchQueryData:y,updateQueryData:b,upsertQueryData:w,prefetch:S,resetApiState:R.resetApiState}),Cn(e.internalActions,R);var C=Rn({reducerPath:a,context:n,queryThunk:h,mutationThunk:g,api:e,assertTagType:f}),k=C.middleware,_=C.actions;Cn(e.util,_),Cn(e,{reducer:T,middleware:k});var D=gn({serializeQueryArgs:i,reducerPath:a}),P=D.buildQuerySelector,N=D.buildMutationSelector,Q=D.selectInvalidatedBy;Cn(e.util,{selectInvalidatedBy:Q});var E=function(e){var t=e.serializeQueryArgs,n=e.queryThunk,r=e.mutationThunk,a=e.api,i=e.context,o=new Map,u=new Map,s=a.internalActions,c=s.unsubscribeQueryResult,l=s.removeMutationResult,d=s.updateSubscriptionOptions;return{buildInitiateQuery:function(e,r){var i=function(u,s){var l=void 0===s?{}:s,f=l.subscribe,p=void 0===f||f,m=l.forceRefetch,h=l.subscriptionOptions,g=l[nn];return function(s,l){var f,y,v=t({queryArgs:u,endpointDefinition:r,endpointName:e}),b=n(((f={type:"query",subscribe:p,forceRefetch:m,subscriptionOptions:h,endpointName:e,originalArgs:u,queryCacheKey:v})[nn]=g,f)),w=a.endpoints[e].select(u),S=s(b),O=w(l()),I=S.requestId,M=S.abort,x=O.requestId!==I,j=null==(y=o.get(s))?void 0:y[v],q=function(){return w(l())},A=Object.assign(g?S.then(q):x&&!j?Promise.resolve(O):Promise.all([j,S]).then(q),{arg:u,requestId:I,subscriptionOptions:h,queryCacheKey:v,abort:M,unwrap:function(){return Nt(this,null,function(){var e;return Mt(this,function(t){switch(t.label){case 0:return[4,A];case 1:if((e=t.sent()).isError)throw e.error;return[2,e.data]}})})},refetch:function(){return s(i(u,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){p&&s(c({queryCacheKey:v,requestId:I}))},updateSubscriptionOptions:function(t){A.subscriptionOptions=t,s(d({endpointName:e,requestId:I,queryCacheKey:v,options:t}))}});if(!j&&!x&&!g){var T=o.get(s)||{};T[v]=A,o.set(s,T),A.then(function(){delete T[v],Object.keys(T).length||o.delete(s)})}return A}};return i},buildInitiateMutation:function(e){return function(t,n){var a=void 0===n?{}:n,i=a.track,o=void 0===i||i,s=a.fixedCacheKey;return function(n,a){var i=r({type:"mutation",endpointName:e,originalArgs:t,track:o,fixedCacheKey:s}),c=n(i),d=c.requestId,f=c.abort,p=c.unwrap,m=c.unwrap().then(function(e){return{data:e}}).catch(function(e){return{error:e}}),h=function(){n(l({requestId:d,fixedCacheKey:s}))},g=Object.assign(m,{arg:c.arg,requestId:d,abort:f,unwrap:p,unsubscribe:h,reset:h}),y=u.get(n)||{};return u.set(n,y),y[d]=g,g.then(function(){delete y[d],Object.keys(y).length||u.delete(n)}),s&&(y[s]=g,g.then(function(){y[s]===g&&(delete y[s],Object.keys(y).length||u.delete(n))})),g}}},getRunningQueryThunk:function(e,n){return function(r){var a,u=i.endpointDefinitions[e],s=t({queryArgs:n,endpointDefinition:u,endpointName:e});return null==(a=o.get(r))?void 0:a[s]}},getRunningMutationThunk:function(e,t){return function(e){var n;return null==(n=u.get(e))?void 0:n[t]}},getRunningQueriesThunk:function(){return function(e){return Object.values(o.get(e)||{}).filter(tn)}},getRunningMutationsThunk:function(){return function(e){return Object.values(u.get(e)||{}).filter(tn)}},getRunningOperationPromises:function(){var e=function(e){return Array.from(e.values()).flatMap(function(e){return e?Object.values(e):[]})};return xt(xt([],e(o)),e(u)).filter(tn)},removalWarning:f};function f(){throw new Error("This method had to be removed due to a conceptual bug in RTK.\n       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.\n       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.")}}({queryThunk:h,mutationThunk:g,api:e,serializeQueryArgs:i,context:n}),B=E.buildInitiateQuery,L=E.buildInitiateMutation,z=E.getRunningMutationThunk,F=E.getRunningMutationsThunk,K=E.getRunningQueriesThunk,U=E.getRunningQueryThunk,$=E.getRunningOperationPromises,W=E.removalWarning;return Cn(e.util,{getRunningOperationPromises:$,getRunningOperationPromise:W,getRunningMutationThunk:z,getRunningMutationsThunk:F,getRunningQueryThunk:U,getRunningQueriesThunk:K}),{name:kn,injectEndpoint:function(t,n){var r,a=e;null!=(r=a.endpoints)[t]||(r[t]={}),Zt(n)?Cn(a.endpoints[t],{name:t,select:P(t,n),initiate:B(t,n)},q(h,t)):n.type===$t.mutation&&Cn(a.endpoints[t],{name:t,select:N(),initiate:L(t)},q(g,t))}}}},(nr=(tr=void 0===er?{}:er).batch,rr=void 0===nr?t.unstable_batchedUpdates:nr,ar=tr.useDispatch,ir=void 0===ar?o:ar,or=tr.useSelector,ur=void 0===or?u:or,sr=tr.useStore,cr=void 0===sr?k:sr,lr=tr.unstable__sideEffectsInRender,dr=void 0!==lr&&lr,{name:fr,init:function(e,t,n){var a=t.serializeQueryArgs,i=e,o=function(e){var t=e.api,n=e.moduleOptions,a=n.batch,i=n.useDispatch,o=n.useSelector,u=n.useStore,s=n.unstable__sideEffectsInRender,c=e.serializeQueryArgs,l=e.context,d=s?function(e){return e()}:r.useEffect;return{buildQueryHooks:function(e){var n=function(n,a){var o=void 0===a?{}:a,u=o.refetchOnReconnect,s=o.refetchOnFocus,c=o.refetchOnMountOrArgChange,f=o.skip,p=void 0!==f&&f,m=o.pollingInterval,h=void 0===m?0:m,g=t.endpoints[e].initiate,y=i(),v=Kn(p?fn:n,Jn,l.endpointDefinitions[e],e),b=$n({refetchOnReconnect:u,refetchOnFocus:s,pollingInterval:h}),w=r.useRef(!1),S=r.useRef(),O=S.current||{},I=O.queryCacheKey,M=O.requestId,x=!1;if(I&&M){var j=y(t.internalActions.internal_probeSubscription({queryCacheKey:I,requestId:M}));x=!!j}var q=!x&&w.current;return d(function(){w.current=x}),d(function(){q&&(S.current=void 0)},[q]),d(function(){var e,t=S.current;if(v===fn)return null==t||t.unsubscribe(),void(S.current=void 0);var n=null==(e=S.current)?void 0:e.subscriptionOptions;if(t&&t.arg===v)b!==n&&t.updateSubscriptionOptions(b);else{null==t||t.unsubscribe();var r=y(g(v,{subscriptionOptions:b,forceRefetch:c}));S.current=r}},[y,g,c,v,b,q]),r.useEffect(function(){return function(){var e;null==(e=S.current)||e.unsubscribe(),S.current=void 0}},[]),r.useMemo(function(){return{refetch:function(){var e;if(!S.current)throw new Error("Cannot refetch a query that has not been started yet.");return null==(e=S.current)?void 0:e.refetch()}}},[])},s=function(n){var o=void 0===n?{}:n,u=o.refetchOnReconnect,s=o.refetchOnFocus,c=o.pollingInterval,l=void 0===c?0:c,f=t.endpoints[e].initiate,p=i(),m=r.useState(Un),h=m[0],g=m[1],y=r.useRef(),v=$n({refetchOnReconnect:u,refetchOnFocus:s,pollingInterval:l});d(function(){var e,t,n=null==(e=y.current)?void 0:e.subscriptionOptions;v!==n&&(null==(t=y.current)||t.updateSubscriptionOptions(v))},[v]);var b=r.useRef(v);d(function(){b.current=v},[v]);var w=r.useCallback(function(e,t){var n;return void 0===t&&(t=!1),a(function(){var r;null==(r=y.current)||r.unsubscribe(),y.current=n=p(f(e,{subscriptionOptions:b.current,forceRefetch:!t})),g(e)}),n},[p,f]);return r.useEffect(function(){return function(){var e;null==(e=null==y?void 0:y.current)||e.unsubscribe()}},[]),r.useEffect(function(){h===Un||y.current||w(h,!0)},[h,w]),r.useMemo(function(){return[w,h]},[w,h])},p=function(n,a){var i=void 0===a?{}:a,s=i.skip,d=void 0!==s&&s,p=i.selectFromResult,m=t.endpoints[e].select,h=Kn(d?fn:n,c,l.endpointDefinitions[e],e),g=r.useRef(),y=r.useMemo(function(){return S([m(h),function(e,t){return t},function(e){return h}],f)},[m,h]),v=r.useMemo(function(){return p?S([y],p):y},[y,p]),b=o(function(e){return v(e,g.current)},C),w=u(),O=y(w.getState(),g.current);return Vn(function(){g.current=O},[O]),b};return{useQueryState:p,useQuerySubscription:n,useLazyQuerySubscription:s,useLazyQuery:function(e){var t=s(e),n=t[0],a=t[1],i=p(a,Fn(zn({},e),{skip:a===Un})),o=r.useMemo(function(){return{lastArg:a}},[a]);return r.useMemo(function(){return[n,i,o]},[n,i,o])},useQuery:function(e,t){var a=n(e,t),i=p(e,zn({selectFromResult:e===fn||(null==t?void 0:t.skip)?void 0:Yn},t)),o=i.data,u=i.status,s=i.isLoading,c=i.isSuccess,l=i.isError,d=i.error;return r.useDebugValue({data:o,status:u,isLoading:s,isSuccess:c,isError:l,error:d}),r.useMemo(function(){return zn(zn({},i),a)},[i,a])}}},buildMutationHook:function(e){return function(n){var u=void 0===n?{}:n,s=u.selectFromResult,c=void 0===s?Gn:s,l=u.fixedCacheKey,d=t.endpoints[e],f=d.select,p=d.initiate,m=i(),h=r.useState(),g=h[0],y=h[1];r.useEffect(function(){return function(){(null==g?void 0:g.arg.fixedCacheKey)||null==g||g.reset()}},[g]);var v=r.useCallback(function(e){var t=m(p(e,{fixedCacheKey:l}));return y(t),t},[m,p,l]),b=(g||{}).requestId,w=r.useMemo(function(){return S([f({fixedCacheKey:l,requestId:null==g?void 0:g.requestId})],c)},[f,g,c,l]),O=o(w,C),I=null==l?null==g?void 0:g.arg.originalArgs:void 0,M=r.useCallback(function(){a(function(){g&&y(void 0),l&&m(t.internalActions.removeMutationResult({requestId:b,fixedCacheKey:l}))})},[m,l,g,b]),x=O.endpointName,j=O.data,q=O.status,A=O.isLoading,T=O.isSuccess,R=O.isError,k=O.error;r.useDebugValue({endpointName:x,data:j,status:q,isLoading:A,isSuccess:T,isError:R,error:k});var _=r.useMemo(function(){return Fn(zn({},O),{originalArgs:I,reset:M})},[O,I,M]);return r.useMemo(function(){return[v,_]},[v,_])}},usePrefetch:function(e,n){var a=i(),o=$n(n);return r.useCallback(function(n,r){return a(t.util.prefetch(e,n,zn(zn({},o),r)))},[e,a,o])}};function f(e,t,n){if((null==t?void 0:t.endpointName)&&e.isUninitialized){var r=t.endpointName,a=l.endpointDefinitions[r];c({queryArgs:t.originalArgs,endpointDefinition:a,endpointName:r})===c({queryArgs:n,endpointDefinition:a,endpointName:r})&&(t=void 0)}var i=e.isSuccess?e.data:null==t?void 0:t.data;void 0===i&&(i=e.data);var o=void 0!==i,u=e.isLoading,s=!o&&u,d=e.isSuccess||u&&o;return Fn(zn({},e),{data:i,currentData:e.data,isFetching:u,isLoading:s,isSuccess:d})}}({api:e,moduleOptions:{batch:rr,useDispatch:ir,useSelector:ur,useStore:cr,unstable__sideEffectsInRender:dr},serializeQueryArgs:a,context:n}),u=o.buildQueryHooks,s=o.buildMutationHook,c=o.usePrefetch;return Xn(i,{usePrefetch:c}),Xn(n,{batch:rr}),{injectEndpoint:function(t,n){if(n.type===Wn.query){var r=u(t),a=r.useQuery,o=r.useLazyQuery,c=r.useLazyQuerySubscription,l=r.useQueryState,d=r.useQuerySubscription;Xn(i.endpoints[t],{useQuery:a,useLazyQuery:o,useLazyQuerySubscription:c,useQueryState:l,useQuerySubscription:d}),e["use"+Zn(t)+"Query"]=a,e["useLazy"+Zn(t)+"Query"]=o}else if(function(e){return e.type===Wn.mutation}(n)){var f=s(t);Xn(i.endpoints[t],{useMutation:f}),e["use"+Zn(t)+"Mutation"]=f}}}}}));const mr=pr({reducerPath:"api",baseQuery:function(e){var t=this;void 0===e&&(e={});var n=e,r=n.baseUrl,a=n.prepareHeaders,i=void 0===a?function(e){return e}:a,o=n.fetchFn,u=void 0===o?zt:o,s=n.paramsSerializer,c=n.isJsonContentType,l=void 0===c?Kt:c,d=n.jsonContentType,p=void 0===d?"application/json":d,m=n.jsonReplacer,h=n.timeout,g=n.responseHandler,y=n.validateStatus,v=Pt(n,["baseUrl","prepareHeaders","fetchFn","paramsSerializer","isJsonContentType","jsonContentType","jsonReplacer","timeout","responseHandler","validateStatus"]);return function(e,n){return Nt(t,null,function(){var t,a,o,c,d,w,S,O,I,M,x,j,q,A,T,R,C,k,_,D,P,N,Q,E,B,L,z,F,K,U,$,W,H,J,V,G;return Mt(this,function(Y){switch(Y.label){case 0:return t=n.signal,a=n.getState,o=n.extra,c=n.endpoint,d=n.forced,w=n.type,I=(O="string"==typeof e?{url:e}:e).url,M=O.headers,x=void 0===M?new Headers(v.headers):M,j=O.params,q=void 0===j?void 0:j,A=O.responseHandler,T=void 0===A?null!=g?g:"json":A,R=O.validateStatus,C=void 0===R?null!=y?y:Ft:R,k=O.timeout,_=void 0===k?h:k,D=Pt(O,["url","headers","params","responseHandler","validateStatus","timeout"]),P=_t(Dt(_t({},v),{signal:t}),D),x=new Headers(Ut(x)),N=P,[4,i(x,{getState:a,extra:o,endpoint:c,forced:d,type:w})];case 1:N.headers=Y.sent()||x,Q=function(e){return"object"==typeof e&&(f(e)||Array.isArray(e)||"function"==typeof e.toJSON)},!P.headers.has("content-type")&&Q(P.body)&&P.headers.set("content-type",p),Q(P.body)&&l(P.headers)&&(P.body=JSON.stringify(P.body,m)),q&&(E=~I.indexOf("?")?"&":"?",B=s?s(q):new URLSearchParams(Ut(q)),I+=E+B),I=Qt(r,I),L=new Request(I,P),z=new Request(I,P),S={request:z},K=!1,U=_&&setTimeout(function(){K=!0,n.abort()},_),Y.label=2;case 2:return Y.trys.push([2,4,5,6]),[4,u(L)];case 3:return F=Y.sent(),[3,6];case 4:return $=Y.sent(),[2,{error:{status:K?"TIMEOUT_ERROR":"FETCH_ERROR",error:String($)},meta:S}];case 5:return U&&clearTimeout(U),[7];case 6:W=F.clone(),S.response=W,J="",Y.label=7;case 7:return Y.trys.push([7,9,,10]),[4,Promise.all([b(F,T).then(function(e){return H=e},function(e){return V=e}),W.text().then(function(e){return J=e},function(){})])];case 8:if(Y.sent(),V)throw V;return[3,10];case 9:return G=Y.sent(),[2,{error:{status:"PARSING_ERROR",originalStatus:F.status,data:J,error:String(G)},meta:S}];case 10:return[2,C(F,H)?{data:H,meta:S}:{error:{status:F.status,data:H},meta:S}]}})})};function b(e,t){return Nt(this,null,function(){var n;return Mt(this,function(r){switch(r.label){case 0:return"function"==typeof t?[2,t(e)]:("content-type"===t&&(t=l(e.headers)?"json":"text"),"json"!==t?[3,2]:[4,e.text()]);case 1:return[2,(n=r.sent()).length?JSON.parse(n):null];case 2:return[2,e.text()]}})})}}({baseUrl:"/api"}),tagTypes:[],endpoints:e=>({})});var hr=(e=>(e.Auth="auth",e.Code="code",e))(hr||{}),gr=(e=>(e.TypeVerify="typeVerify",e.Code="code",e.RestorePassword="restorePassword",e.Success="success",e))(gr||{}),yr=(e=>(e.SignUp="signUp",e.Code="code",e))(yr||{});const vr={authStep:hr.Auth,restorePasswordStep:gr.TypeVerify,signUpStep:yr.SignUp,activeTab:"phone"},br=i({name:"auth",initialState:vr,reducers:{setAuthSteps:(e,t)=>{e.authStep=t.payload},setRestorePasswordSteps:(e,t)=>{e.restorePasswordStep=t.payload},setSignUpSteps:(e,t)=>{e.signUpStep=t.payload},setActiveTab:(e,t)=>{e.activeTab=t.payload}}}).reducer,wr=i({name:"currency",initialState:{currency:"ILS"},reducers:{setCurrency(e,t){e.currency=t.payload}}}),{setCurrency:Sr}=wr.actions,Or=wr.reducer,Ir=i({name:"activeField",initialState:"",reducers:{setActiveField:(e,t)=>t.payload}}),{setActiveField:Mr}=Ir.actions,xr=Ir.reducer,jr=i({name:"borrowersPersonalData",initialState:{borrowersPersonalData:{},sourceOfIncomeModal:[],additionalIncomeModal:[],obligationModal:[]},reducers:{updateBorrowersPersonalData:(e,t)=>{const n={...t.payload};"no"===n.additionalIncome&&delete n.additionalIncomeAmount,"no"===n.obligation&&(delete n.bank,delete n.monthlyPaymentForAnotherBank,delete n.endDate),e.borrowersPersonalData={...e.borrowersPersonalData,...n}},deleteBorrowersPersonalData:e=>{e.borrowersPersonalData={}},updateSourceOfIncomeModal:(e,t)=>{const n=e.sourceOfIncomeModal.findIndex(e=>e.id===t.payload.id);-1!==n?e.sourceOfIncomeModal[n]=t.payload:e.sourceOfIncomeModal=[...e.sourceOfIncomeModal,t.payload]},deleteSourceOfIncomeModal:(e,t)=>{e.sourceOfIncomeModal=e.sourceOfIncomeModal.filter(e=>e.id!==t.payload.id)},updateAdditionalIncomeModal:(e,t)=>{const n=e.additionalIncomeModal.findIndex(e=>e.id===t.payload.id);-1!==n?e.additionalIncomeModal[n]=t.payload:e.additionalIncomeModal=[...e.additionalIncomeModal,t.payload]},deleteAdditionalIncomeModal:(e,t)=>{e.additionalIncomeModal=e.additionalIncomeModal.filter(e=>e.id!==t.payload.id)},updateObligationModal:(e,t)=>{const n=e.obligationModal.findIndex(e=>e.id===t.payload.id);-1!==n?e.obligationModal[n]=t.payload:e.obligationModal=[...e.obligationModal,t.payload]},deleteObligationModal:(e,t)=>{e.obligationModal=e.obligationModal.filter(e=>e.id!==t.payload.id)}}}),{updateBorrowersPersonalData:qr,updateSourceOfIncomeModal:Ar,deleteSourceOfIncomeModal:Tr,updateAdditionalIncomeModal:Rr,deleteAdditionalIncomeModal:Cr,updateObligationModal:kr,deleteObligationModal:_r,deleteBorrowersPersonalData:Dr}=jr.actions,Pr=jr.reducer,Nr=i({name:"borrowers",initialState:{otherBorrowers:[],sourceOfIncomeModal:[],additionalIncomeModal:[],obligationModal:[],otherBorrowersPageId:0},reducers:{updateOtherBorrowers:(e,t)=>{const{id:n,newFields:r}=t.payload,a=e.otherBorrowers.findIndex(e=>e.id===n);if(-1!==a)e.otherBorrowers[a]={...e.otherBorrowers[a],...r};else{const t={id:n,...r};e.otherBorrowers.push(t)}},deleteOtherBorrowers:(e,t)=>{e.otherBorrowers=e.otherBorrowers.filter(e=>e.id!==t.payload)},updateSourceOfIncomeModal:(e,t)=>{const n=e.sourceOfIncomeModal.findIndex(e=>e.id===t.payload.id);-1!==n?e.sourceOfIncomeModal[n]=t.payload:e.sourceOfIncomeModal=[...e.sourceOfIncomeModal,t.payload]},deleteSourceOfIncomeModal:(e,t)=>{e.sourceOfIncomeModal=e.sourceOfIncomeModal.filter(e=>e.id!==t.payload.id)},updateAdditionalIncomeModal:(e,t)=>{const n=e.additionalIncomeModal.findIndex(e=>e.id===t.payload.id);-1!==n?e.additionalIncomeModal[n]=t.payload:e.additionalIncomeModal=[...e.additionalIncomeModal,t.payload]},deleteAdditionalIncomeModal:(e,t)=>{e.additionalIncomeModal=e.additionalIncomeModal.filter(e=>e.id!==t.payload.id)},updateObligationModal:(e,t)=>{const n=e.obligationModal.findIndex(e=>e.id===t.payload.id);-1!==n?e.obligationModal[n]=t.payload:e.obligationModal=[...e.obligationModal,t.payload]},deleteObligationModal:(e,t)=>{e.obligationModal=e.obligationModal.filter(e=>e.id!==t.payload.id)},openBorrowersPage:(e,t)=>{e.otherBorrowersPageId=t.payload}}}),{updateSourceOfIncomeModal:Qr,deleteSourceOfIncomeModal:Er,updateAdditionalIncomeModal:Br,deleteAdditionalIncomeModal:Lr,updateObligationModal:zr,deleteObligationModal:Fr,updateOtherBorrowers:Kr,deleteOtherBorrowers:Ur,openBorrowersPage:$r}=Nr.actions,Wr=Nr.reducer,Hr=i({name:"credit",initialState:{},reducers:{updateCreditData:(e,t)=>({...e,...t.payload})}}),{updateCreditData:Jr}=Hr.actions,Vr=Hr.reducer,Gr=i({name:"mortgage",initialState:{incomeData:{}},reducers:{updateMortgageData:(e,t)=>{const n={...t.payload};return"no"===n.additionalIncome&&delete n.additionalIncomeAmount,"no"===n.obligation&&(delete n.bank,delete n.monthlyPaymentForAnotherBank,delete n.endDate),{...e,...n}},updateIncomeData:(e,t)=>{e.incomeData={...e.incomeData,...t.payload}}}}),{updateMortgageData:Yr,updateIncomeData:Zr}=Gr.actions,Xr=Gr.reducer,ea=i({name:"filter",initialState:{mortgageType:"all"},reducers:{setFilter:(e,t)=>{if("string"==typeof t.payload)switch(t.payload){case"filter_1":default:e.mortgageType="all";break;case"filter_2":e.mortgageType="prime";break;case"filter_3":e.mortgageType="fixed";break;case"filter_4":e.mortgageType="variable"}else e.mortgageType=t.payload.mortgageType||"all"},setMortgageTypeFilter:(e,t)=>{e.mortgageType=t.payload}}}),{setFilter:ta,setMortgageTypeFilter:na}=ea.actions,ra=ea.reducer,aa=i({name:"otherBorrowers",initialState:{otherBorrowers:[],otherBorrowersPageId:0},reducers:{updateOtherBorrowers:(e,t)=>{var n,r,a;const{id:i,newFields:o}=t.payload,u=e.otherBorrowers.findIndex(e=>e.id===i),s=null==(n=e.otherBorrowers[u])?void 0:n.additionalIncomeModal,c=null==(r=e.otherBorrowers[u])?void 0:r.obligationModal,l=null==(a=e.otherBorrowers[u])?void 0:a.sourceOfIncomeModal;if(-1!==u)e.otherBorrowers[u]={...e.otherBorrowers[u],...o,additionalIncomeModal:s,obligationModal:c,sourceOfIncomeModal:l};else{const t={id:i,...o,additionalIncomeModal:[],obligationModal:[],sourceOfIncomeModal:[]};e.otherBorrowers.push(t)}},deleteOtherBorrowers:(e,t)=>{e.otherBorrowers=e.otherBorrowers.filter(e=>e.id!==t.payload)},updateSourceOfIncomeModal:(e,t)=>{const{pageId:n,id:r}=t.payload,a=e.otherBorrowers[n-1].sourceOfIncomeModal.findIndex(e=>e.id===r);-1!==a?e.otherBorrowers[n-1].sourceOfIncomeModal[a]=t.payload:e.otherBorrowers[n-1].sourceOfIncomeModal=[...e.otherBorrowers[n-1].sourceOfIncomeModal,t.payload]},deleteSourceOfIncomeModal:(e,t)=>{e.otherBorrowers[t.payload.pageId-1].sourceOfIncomeModal=e.otherBorrowers[t.payload.pageId-1].sourceOfIncomeModal.filter(e=>e.id!==t.payload.id)},updateAdditionalIncomeModal:(e,t)=>{const{pageId:n,id:r}=t.payload,a=e.otherBorrowers[n-1].additionalIncomeModal.findIndex(e=>e.id===r);-1!==a?e.otherBorrowers[n-1].additionalIncomeModal[a]=t.payload:e.otherBorrowers[n-1].additionalIncomeModal=[...e.otherBorrowers[n-1].additionalIncomeModal,t.payload]},deleteAdditionalIncomeModal:(e,t)=>{const{pageId:n,id:r}=t.payload;e.otherBorrowers[n-1].additionalIncomeModal=e.otherBorrowers[n-1].additionalIncomeModal.filter(e=>e.id!==r)},updateObligationModal:(e,t)=>{const{pageId:n,id:r}=t.payload,a=e.otherBorrowers[n-1].obligationModal.findIndex(e=>e.id===r);-1!==a?e.otherBorrowers[n-1].obligationModal[a]=t.payload:e.otherBorrowers[n-1].obligationModal=[...e.otherBorrowers[n-1].obligationModal,t.payload]},deleteObligationModal:(e,t)=>{const{pageId:n,id:r}=t.payload;e.otherBorrowers[n-1].obligationModal=e.otherBorrowers[n-1].obligationModal.filter(e=>e.id!==r)},openBorrowersPage:(e,t)=>{e.otherBorrowersPageId=t.payload}}}),{updateSourceOfIncomeModal:ia,deleteSourceOfIncomeModal:oa,updateAdditionalIncomeModal:ua,deleteAdditionalIncomeModal:sa,updateObligationModal:ca,deleteObligationModal:la,updateOtherBorrowers:da,deleteOtherBorrowers:fa,openBorrowersPage:pa}=aa.actions,ma=aa.reducer,ha=s("refinanceMortgage/fetchRefinanceMortgage",async e=>await(async e=>{try{const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},n=await fetch("/api/refinance-mortgage",t);return await n.json()}catch(t){}})(e)),ga=i({name:"refinanceMortgage",initialState:{},reducers:{updateRefinanceMortgageData:(e,t)=>{const n={...t.payload};return"no"===n.additionalIncome&&delete n.additionalIncomeAmount,"no"===n.obligation&&(delete n.bank,delete n.monthlyPaymentForAnotherBank,delete n.endDate),{...e,...n}}},extraReducers:e=>{e.addCase(ha.fulfilled,(e,t)=>{t.payload.data.percent})}}),{updateRefinanceMortgageData:ya}=ga.actions,va=ga.reducer,ba="undefined"!=typeof window&&localStorage.getItem("language")||"he",wa={currentFont:(Sa=ba,"he"===Sa?"font-he":"font-ru"),direction:(e=>"he"===e?"rtl":"ltr")(ba),language:ba};var Sa;const Oa=i({name:"language",initialState:wa,reducers:{changeLanguage:(e,t)=>{e.language=t.payload,"undefined"!=typeof window&&localStorage.setItem("language",t.payload),"ru"===t.payload?(e.currentFont="font-ru",e.direction="ltr"):"he"===t.payload?(e.currentFont="font-he",e.direction="rtl"):"en"===t.payload&&(e.currentFont="font-ru",e.direction="ltr")}}}),{changeLanguage:Ia}=Oa.actions,Ma=Oa.reducer,xa=_({key:"calculateMortgage",storage:at},Xr),ja=_({key:"refinanceMortgage",storage:at},va),qa=_({key:"calculateCredit",storage:at},Vr),Aa=_({key:"refinanceCredit",storage:at},St),Ta=_({key:"borrowersPersonalData",storage:at},Pr),Ra=_({key:"otherBorrowers",storage:at},ma),Ca=_({key:"borrowers",storage:at},Wr),ka=_({key:"login",storage:at},_e),_a=_({key:"lang",storage:at},Ma),Da=D({reducer:{[mr.reducerPath]:mr.reducer,language:_a,windowSize:Qe,auth:br,login:ka,dialog:ce,currency:Or,mortgage:xa,refinanceMortgage:ja,refinanceCredit:Aa,credit:qa,borrowers:Ca,otherBorrowers:Ra,borrowersPersonalData:Ta,filter:ra,modalSlice:yt,activeField:xr},middleware:e=>e({serializableCheck:{ignoredActions:[P,N,Q,E,B,L],ignoredPaths:["dialog"]}}).concat(mr.middleware)});z(Da),G.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(J,{i18n:$,children:e.jsx(F,{store:Da,children:e.jsx(Ge,{})})})}));export{Cr as $,pa as A,fa as B,re as C,Jr as D,ze as E,ya as F,wt as G,vt as H,ta as I,Fe as J,Br as K,zr as L,Qr as M,Se as N,da as O,ua as P,ca as Q,ia as R,oa as S,sa as T,la as U,Dr as V,qr as W,Rr as X,kr as Y,Ar as Z,X as _,Me as a,_r as a0,Oe as a1,Ia as b,ne as c,qe as d,mr as e,Ce as f,ke as g,Re as h,Te as i,ut as j,Mr as k,Yr as l,ft as m,Le as n,pt as o,ct as p,lt as q,dt as r,Sr as s,Er as t,xe as u,Lr as v,Fr as w,mt as x,ht as y,gt as z};
