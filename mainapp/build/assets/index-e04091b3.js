import{c as xe,a as e,r as w,d as E,m as s,i as U,P as ye,x as V,R as ge,y as ve,z as De,A as Me,J as we,K as Se,M as Ne,D as Ie,E as Be,F as Fe,G as me,H as Pe,j as S,I as Ce}from"./index-595b925c.js";import{u as Q,i as Re,W as Oe,T as B,D as N,c as z,b as D,E as q,d as X,f as x,e as F,h as ce,F as Z,o as ke,g as ee,a as ae,L as Ee}from"./index-26c8a1fd.js";import{P as qe}from"./ProgressBar-f2ea6a6b.js";import{u as Ae,V as $e}from"./VideoPoster-3d6468f1.js";import{A as je,f as oe,S as ue,a as Te,L as Ve,U as Ue,F as ze,B as Le,b as We,P as Ye,c as He,d as Ge,e as Je,O as Ke}from"./SourceOfIncomeModal-fcac2152.js";import{s as Qe,d as Xe,D as O,R as b,C as l,F as te,a as ne,b as H,c as de}from"./StringInput-ca22fd84.js";import{C as J,A as k,g as K,U as $,a as Ze,b as ea,d as aa,O as ta}from"./componentsByIncomeSource-28387ecb.js";import{s as se,I as na}from"./IncreasePayment-f66b51b6.js";import{c as ie,a as ra}from"./calculatePeriod-d6d018d2.js";import{D as le,E as oa,c as _e,a as he}from"./componentsByObligation-e9823ed1.js";import{R as sa,I as ia,N as la,B as ca,E as da,A as ga,C as ma,T as ua,a as _a,b as ha,H as pa,M as xa,c as ja,P as fa}from"./Taxes-f12f7249.js";import{F as ba,o as pe,d as ya}from"./otherBorrowersSlice-420de176.js";import"./borrowersPersonalDataSlice-b4b343b1.js";import"./ShieldCheckIcon-d1e3dad8.js";const G=xe.bind(Qe);function va(a){const c=a.replace(/[^0-9]/g,"");return c?parseInt(c,10):""}const A=({name:a,value:c,handleChange:t,placeholder:h,disableCurrency:d,error:g,onBlur:f,size:u,rightSection:I,type:P="comma"})=>{const C=c!==null?c.toLocaleString("en-US"):"",v=j=>{const m=j.target.value;switch(P){case"numeric":{/^-?\d*\.?\d*$/.test(m)&&t(m);break}case"comma":{t(va(m));break}case"default":{t(m);break}default:{t(m);break}}};return e.jsxs("div",{className:G("container",`${g&&"error"}`),children:[e.jsx("input",{className:G(a,"input",{[`${u}`]:u}),type:"text",placeholder:h,value:C,onChange:v,onBlur:f}),!d&&!I?e.jsx("div",{className:G("currencyImage"),children:e.jsx(Xe,{})}):e.jsx("div",{className:G("currencyImage"),children:I})]})},Da="_container_eif05_59",Ma="_col_eif05_65",wa="_title_eif05_111",Sa={"mortgage-data":"_mortgage-data_eif05_1","mortgage-data-title":"_mortgage-data-title_eif05_6","mortgage-data-title__text":"_mortgage-data-title__text_eif05_20","mortgage-data-title__button":"_mortgage-data-title__button_eif05_26","mortgage-data-form":"_mortgage-data-form_eif05_42","mortgage-data-form__items":"_mortgage-data-form__items_eif05_48","button-left__icon":"_button-left__icon_eif05_54",container:Da,col:Ma,"col-1":"_col-1_eif05_70","col-2":"_col-2_eif05_74","col-3":"_col-3_eif05_78","col-4":"_col-4_eif05_82","col-5":"_col-5_eif05_86","delete-icon":"_delete-icon_eif05_94",title:wa,delete:"_delete_eif05_94"},_=xe.bind(Sa),Na=()=>{var W;const[a,c]=w.useState([]),[t,h]=w.useState(null),{values:d,setFieldValue:g,errors:f,touched:u,setFieldTouched:I}=Q(),[P,{open:C,close:v}]=Re(!1),{isDesktop:j,isTablet:m,isMobile:p}=Ae(),{t:o,i18n:M}=E();M.language=M.language.split("-")[0],w.useEffect(()=>{c(d.mortgageData)},[d.mortgageData]);const i=()=>{const y={id:K(a),program:"",balance:null,endDate:"",bid:null};g("mortgageData",[...a,y])},R=r=>{h(r),C()},re=()=>{if(t!==null){const r=a.filter(y=>y.id!==t);g("mortgageData",r)}v()},T=[{value:"option_1",label:o("program_refinance_mortgage_option_1")},{value:"option_2",label:o("program_refinance_mortgage_option_2")},{value:"option_3",label:o("program_refinance_mortgage_option_3")},{value:"option_4",label:o("program_refinance_mortgage_option_4")},{value:"option_5",label:o("program_refinance_mortgage_option_5")}],L=a.reduce((r,y)=>r+y.balance,0);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:_("mortgage-data"),children:[e.jsxs("div",{className:_("mortgage-data-title"),children:[e.jsx("h4",{className:_("mortgage-data-title__text"),children:o("enter_mortgage_info")}),u.mortgageData&&f.mortgageData&&e.jsx(je,{filled:!0,icon:e.jsx(Oe,{size:24,color:"#E76143"}),children:e.jsx("p",{children:o("error_balance",{fullBalance:(W=d==null?void 0:d.mortgageBalance)==null?void 0:W.toLocaleString("en-US"),sumBalance:L.toLocaleString("en-US"),notEnoughBalance:(d.mortgageBalance-L).toLocaleString("en-US")})})})]}),j&&e.jsxs("div",{className:_("mortgage-data-form"),children:[e.jsxs("div",{className:_("container","title"),children:[e.jsx("p",{className:_("col","col-1"),children:o("programm")}),e.jsx("p",{className:_("col","col-2"),children:o("balance")}),e.jsx("p",{className:_("col","col-3"),children:o("end_date")}),e.jsx("p",{className:_("col","col-4"),children:o("bid")}),e.jsx("div",{className:_("col","col-5")})]}),e.jsxs("div",{className:_("mortgage-data-form__items"),children:[a.map(r=>e.jsxs("div",{className:_("container"),children:[e.jsx("div",{className:_("col","col-1"),children:e.jsx(O,{data:T,placeholder:o("calculate_mortgage_first_ph"),value:r.program,onChange:y=>g(`mortgageData.${r.id-1}.program`,y)})}),e.jsx("div",{className:_("col","col-2"),children:e.jsx(A,{placeholder:"10,000",value:r.balance,handleChange:y=>g(`mortgageData.${r.id-1}.balance`,y),onBlur:()=>I("mortgageData",!0),error:u.mortgageData&&f.mortgageData})}),e.jsx("div",{className:_("col","col-3"),children:e.jsx(J,{placeholder:o("date_ph"),value:r.endDate,onChange:y=>g(`mortgageData.${r.id-1}.endDate`,y)})}),e.jsx("div",{className:_("col","col-4"),children:e.jsx(A,{placeholder:"1",type:"numeric",value:r.bid,handleChange:y=>g(`mortgageData.${r.id-1}.bid`,y),rightSection:e.jsx(oe,{color:"#FFF"})})}),e.jsx("div",{className:_("col","col-5"),children:r.id!==1&&e.jsx(le,{onClick:()=>R(r.id),className:_("delete")})})]},r.id)),e.jsxs("div",{className:_("container"),children:[e.jsx("div",{className:_("col","col-1"),children:e.jsx(k,{variant:"none",color:"#FBE54D",value:o("add_programm"),onClick:i})}),e.jsx("div",{className:_("col","col-2")}),e.jsx("div",{className:_("col","col-3")}),e.jsx("div",{className:_("col","col-4")}),e.jsx("div",{className:_("col","col-5")})]})]})]}),m&&e.jsx("div",{className:_("mortgage-data-form"),children:e.jsx("div",{className:_("mortgage-data-form__items"),children:e.jsxs(b,{children:[a.map((r,y)=>e.jsxs(w.Fragment,{children:[e.jsxs(l,{children:[e.jsx(B,{title:`${o("programm")} #${r.id}`}),e.jsx(O,{data:T,placeholder:o("calculate_mortgage_first_ph"),value:r.program,onChange:n=>g(`mortgageData.${r.id-1}.program`,n)})]}),e.jsxs(l,{children:[e.jsx(B,{title:o("balance")}),e.jsx(A,{placeholder:"10,000",value:r.balance,handleChange:n=>g(`mortgageData.${r.id-1}.balance`,n)})]}),e.jsx(l,{children:e.jsx(J,{title:o("end_date"),placeholder:o("date_ph"),value:r.endDate,onChange:n=>g(`mortgageData.${r.id-1}.endDate`,n)})}),e.jsxs(l,{children:[e.jsx(B,{title:o("bid")}),e.jsx(A,{placeholder:"1",value:r.bid,handleChange:n=>g(`mortgageData.${r.id-1}.bid`,n),rightSection:e.jsx(oe,{color:"#FFF"})})]}),r.id!==1&&e.jsx(l,{children:e.jsxs("div",{className:_("delete-icon"),children:[e.jsx(le,{onClick:()=>R(r.id)}),o("delete")]})}),y!==a.length-1&&e.jsx(N,{})]},r.id)),e.jsx(l,{children:e.jsx(k,{variant:"none",color:"#FBE54D",value:o("add_programm"),onClick:i})})]})})}),p&&e.jsx("div",{className:_("mortgage-data-form"),children:e.jsx("div",{className:_("mortgage-data-form__items"),children:e.jsxs(b,{children:[a.map((r,y)=>e.jsxs(w.Fragment,{children:[e.jsxs(l,{children:[e.jsx(B,{title:`${o("programm")} #${r.id}`}),e.jsx(O,{data:T,placeholder:o("calculate_mortgage_first_ph"),value:r.program,onChange:n=>g(`mortgageData.${r.id-1}.program`,n)})]}),e.jsxs(l,{children:[e.jsx(B,{title:o("balance")}),e.jsx(A,{placeholder:"10,000",value:r.balance,handleChange:n=>g(`mortgageData.${r.id-1}.balance`,n)})]}),e.jsx(l,{children:e.jsx(J,{title:o("end_date"),placeholder:o("date_ph"),value:r.endDate,onChange:n=>g(`mortgageData.${r.id-1}.endDate`,n)})}),e.jsxs(l,{children:[e.jsx(B,{title:o("bid")}),e.jsx(A,{placeholder:"1",value:r.bid,handleChange:n=>g(`mortgageData.${r.id-1}.bid`,n),rightSection:e.jsx(oe,{color:"#FFF"})})]}),r.id!==1&&e.jsx(l,{children:e.jsxs("div",{className:_("delete-icon"),children:[e.jsx(le,{onClick:()=>R(r.id)}),o("delete")]})}),y!==a.length-1&&e.jsx(N,{})]},r.id)),e.jsx(l,{children:e.jsx(k,{variant:"none",color:"#FBE54D",value:o("add_programm"),onClick:i})})]})})})]}),e.jsx(oa,{text:o("remove_programm"),isVisible:P,onCancel:v,onSubmit:re})]})},Ia=()=>{const{t:a,i18n:c}=E();c.language=c.language.split("-")[0];const[t,h]=w.useState(51130),[d,g]=w.useState(2654),f=z(),u=D(i=>i.activeField),I=[{value:"option_1",label:a("calculate_mortgage_type_options_1")},{value:"option_2",label:a("calculate_mortgage_type_options_2")},{value:"option_3",label:a("calculate_mortgage_type_options_3")},{value:"option_4",label:a("calculate_mortgage_type_options_4")},{value:"option_5",label:a("calculate_mortgage_type_options_5")}],P=[{value:"option_1",label:a("mortgage_refinance_why_option_1")},{value:"option_2",label:a("mortgage_refinance_why_option_2")},{value:"option_3",label:a("mortgage_refinance_why_option_3")},{value:"option_4",label:a("mortgage_refinance_why_option_4")},{value:"option_5",label:a("mortgage_refinance_why_option_5")}],C=[{value:"option_1",label:a("mortgage_refinance_reg_option_1")},{value:"option_2",label:a("mortgage_refinance_reg_option_2")},{value:"option_3",label:a("mortgage_refinance_reg_option_3")},{value:"option_4",label:a("mortgage_refinance_reg_option_4")},{value:"option_5",label:a("mortgage_refinance_reg_option_5")}],v=[{value:"hapoalim",label:"Bank Hapoalim"},{value:"leumi",label:"Leumi Bank"},{value:"discount",label:"Discount Bank"},{value:"massad",label:"Massad Bank"},{value:"israel",label:"Bank of Israel"}],{setFieldValue:j,values:m,errors:p,touched:o,setFieldTouched:M}=Q();return w.useLayoutEffect(()=>{const i=ie(m.mortgageBalance,0,4),R=ie(m.mortgageBalance,0,30);Number.isNaN(i)||h(i),i===0&&h(1),Number.isNaN(i)||g(R)},[m.mortgageBalance]),w.useEffect(()=>{if(u==="period"){const i=ie(m.mortgageBalance,0,m.period);Number.isNaN(i)||j("monthlyPayment",i)}else{const i=ra(m.mortgageBalance,0,m.monthlyPayment);Number.isNaN(i)||j("period",i)}},[u,j,m.monthlyPayment,m.mortgageBalance,m.period]),console.log(p),e.jsx(e.Fragment,{children:e.jsxs(te,{children:[e.jsx(ne,{title:a("sidebar_sub_refinance_mortgage")}),e.jsxs(b,{children:[e.jsx(l,{children:e.jsx(O,{data:P,title:a("mortgage_refinance_why"),placeholder:a("calculate_mortgage_citizenship_ph"),value:m.whyRefinancingMortgage,onChange:i=>j("whyRefinancingMortgage",i),onBlur:()=>M("whyRefinancingMortgage"),error:o.whyRefinancingMortgage&&p.whyRefinancingMortgage})}),e.jsxs(l,{children:[e.jsx(H,{name:"PriceOfEstate",title:a("mortgage_refinance_left"),value:m.mortgageBalance,placeholder:"1,000,000",handleChange:i=>{f(se("period")),j("mortgageBalance",i)},onBlur:()=>M("mortgageBalance"),error:o.mortgageBalance&&p.mortgageBalance}),o.mortgageBalance&&p.mortgageBalance&&e.jsx(q,{error:p.mortgageBalance})]}),e.jsxs(l,{children:[e.jsx(H,{handleChange:i=>j("priceOfEstate",i),name:"PriceOfEstate",title:a("mortgage_refinance_price"),value:m.priceOfEstate,placeholder:"1,000,000",error:p.priceOfEstate}),p.priceOfEstate&&e.jsx(q,{error:p.priceOfEstate})]})]}),e.jsxs(b,{children:[e.jsx(l,{children:e.jsx(O,{data:I,title:a("mortgage_refinance_type"),placeholder:a("mortgage_refinance_type_ph"),value:m.typeSelect,onChange:i=>j("typeSelect",i),onBlur:()=>M("typeSelect"),error:o.typeSelect&&p.typeSelect})}),e.jsx(l,{children:e.jsx(O,{data:v,title:a("mortgage_refinance_bank"),placeholder:a("calculate_mortgage_citizenship_ph"),value:m.bank,onChange:i=>j("bank",i),onBlur:()=>M("bank"),error:o.bank&&p.bank})}),e.jsx(l,{children:e.jsx(O,{data:C,title:a("mortgage_refinance_registered"),placeholder:a("calculate_mortgage_citizenship_ph"),value:m.propertyRegistered,onChange:i=>j("propertyRegistered",i),onBlur:()=>M("propertyRegistered"),error:o.propertyRegistered&&p.propertyRegistered})})]}),e.jsxs(b,{children:[e.jsx(l,{children:e.jsx(J,{title:a("start_date_mortgage_title"),placeholder:a("date_ph"),value:m.startDate,onChange:i=>j("startDate",i)})}),m.whyRefinancingMortgage==="option_2"&&e.jsxs(l,{children:[e.jsx(H,{handleChange:i=>j("decreaseMortgage",i),name:"PriceOfEstate",title:a("mortgage_refinance_decrease"),value:m.decreaseMortgage,placeholder:"1,000,000",onBlur:()=>M("decreaseMortgage"),error:o.decreaseMortgage&&p.decreaseMortgage}),o.decreaseMortgage&&p.decreaseMortgage&&e.jsx(q,{error:p.decreaseMortgage})]}),m.whyRefinancingMortgage==="option_3"&&e.jsxs(l,{children:[e.jsx(H,{handleChange:i=>j("increaseMortgage",i),name:"PriceOfEstate",title:a("mortgage_refinance_increase"),value:m.increaseMortgage,placeholder:"1,000,000",onBlur:()=>M("increaseMortgage"),error:o.increaseMortgage&&p.increaseMortgage}),o.increaseMortgage&&p.increaseMortgage&&e.jsx(q,{error:p.increaseMortgage})]}),e.jsx(l,{})]}),e.jsx(N,{}),e.jsx(b,{children:e.jsx(Na,{})}),e.jsx(N,{}),e.jsxs(b,{children:[e.jsxs(l,{children:[e.jsx(ue,{disableCurrency:!0,unitsMax:a("calculate_mortgage_period_units_max"),unitsMin:a("calculate_mortgage_period_units_min"),value:m.period,name:"Period",min:4,max:30,error:p.period,title:a("calculate_mortgage_period"),handleChange:i=>{f(se("period")),j("period",i)}}),p.period&&e.jsx(q,{error:p.period})]}),e.jsxs(l,{children:[e.jsx(ue,{unitsMax:"₪",unitsMin:"₪",value:m.monthlyPayment,name:"monthlyPayment",min:d,max:t,error:p.monthlyPayment,title:a("calculate_mortgage_initial_payment"),handleChange:i=>{f(se("monthlyPayment")),j("monthlyPayment",i)}}),e.jsx(na,{}),p.monthlyPayment&&e.jsx(q,{error:p.monthlyPayment})]}),e.jsx(l,{})]})]})})},Ba=w.memo(Ia),Fa=X().shape({whyRefinancingMortgage:x().required(s.t("error_select_answer")),mortgageBalance:F().test("is-less","Остаток по ипотеке не может быть больше чем стоимость недвижимости",function(a){const{priceOfEstate:c}=this.parent;return typeof a>"u"?!0:typeof c=="number"?a<=c:!0}).required(s.t("error_required_to_fill_out")),priceOfEstate:F().test("is-greater","Полная стоимость недвижимости не может быть меньше чем остаток ипотеки",function(a){const{mortgageBalance:c}=this.parent;return typeof a>"u"?!0:typeof c=="number"?a>=c:!0}).required(s.t("error_required_to_fill_out")),typeSelect:x().required(s.t("error_select_answer")),bank:x().required(s.t("error_select_answer")),propertyRegistered:x().required(s.t("error_select_answer")),period:F().min(4,s.t("error_min_period")).max(30,s.t("error_max_period")).required(s.t("error_required_to_fill_out")),decreaseMortgage:x().when("whyRefinancingMortgage",{is:s.t("calculate_mortgage_type_options_2"),then:a=>a.required(s.t("error_select_answer")),otherwise:a=>a.notRequired()}),increaseMortgage:x().when("whyRefinancingMortgage",{is:s.t("calculate_mortgage_type_options_3"),then:a=>a.required(s.t("error_select_answer")),otherwise:a=>a.notRequired()}),mortgageData:ce().test("is-balance-sum-equal","Сумма балансов ипотек не соответствует заданному значению",function(){return this.parent.mortgageData.reduce((c,t)=>c+(t.balance||0),0)===this.parent.mortgageBalance})}),Pa=()=>{const{t:a,i18n:c}=E();c.language=c.language.split("-")[0];const t=z(),h=U(),d=D(u=>u.refinanceMortgage),g=D(u=>u.login.isLogin),f={whyRefinancingMortgage:d.whyRefinancingMortgage||"",mortgageBalance:d.mortgageBalance||2e5,priceOfEstate:d.priceOfEstate||1e6,typeSelect:d.typeSelect||"",bank:d.bank||"",startDate:d.startDate||"",propertyRegistered:d.propertyRegistered||"",period:d.period||4,monthlyPayment:d.monthlyPayment||4605,decreaseMortgage:d.decreaseMortgage||null,increaseMortgage:d.increaseMortgage||null,mortgageData:d.mortgageData||[{id:1,program:"",balance:null,endDate:"",bid:null}]};return e.jsxs(e.Fragment,{children:[e.jsx(Z,{initialValues:f,validationSchema:Fa,validateOnMount:!0,onSubmit:u=>{t(ye(u)),g?h("/services/refinance-mortgage/2"):t(ke())},children:e.jsxs(ee,{children:[e.jsxs(ae,{children:[e.jsx($e,{title:a("sidebar_sub_refinance_mortgage"),text:a("refinance_mortgage_promo_text"),size:"small"}),e.jsx(Ba,{})]}),e.jsx(Te,{})]})}),e.jsx(Ve,{})]})},Ca=()=>{const{t:a,i18n:c}=E();c.language=c.language.split("-")[0];const t=D(d=>d.login.loginData),h=D(d=>d.refinanceMortgage);return e.jsxs(te,{children:[e.jsx(ne,{title:a("calculate_mortgage_final")}),e.jsx(Ue,{cost:h==null?void 0:h.priceOfEstate,initialPayment:h==null?void 0:h.mortgageBalance,period:h==null?void 0:h.period,nameSurname:t==null?void 0:t.nameSurname,phoneNumber:t==null?void 0:t.phoneNumber}),e.jsx(je,{text:a("calculate_mortgage_warning")}),e.jsx(b,{children:e.jsx(ze,{})}),e.jsx(Le,{})]})},Ra={},Oa=X().shape({}),ka=()=>e.jsx(Z,{initialValues:Ra,validationSchema:Oa,validateOnMount:!0,onSubmit:()=>{console.log("нажата кнопка")},children:e.jsxs(ee,{children:[e.jsx(ae,{children:e.jsx(Ca,{})}),e.jsx(de,{})]})}),Ea=()=>{const{t:a,i18n:c}=E();c.language=c.language.split("-")[0];const{values:t}=Q();return e.jsxs(te,{children:[e.jsx(ne,{title:a("calculate_mortgage_step2_title")}),e.jsxs(sa,{children:[e.jsx(ia,{}),e.jsx($,{name:"Александр пушкин",phone:"+935 234 3344"})]}),e.jsxs(b,{children:[e.jsx(la,{}),e.jsx(ca,{}),e.jsx(da,{})]}),e.jsxs(b,{children:[e.jsxs(l,{style:{gap:"2rem"},children:[e.jsx(ga,{}),t.additionalCitizenships==="yes"&&e.jsx(ma,{})]}),e.jsxs(l,{style:{gap:"2rem"},children:[e.jsx(ua,{}),t.taxes==="yes"&&e.jsx(_a,{})]}),e.jsxs(l,{style:{gap:"2rem"},children:[e.jsx(ha,{}),t.childrens==="yes"&&e.jsx(pa,{})]})]}),e.jsx(N,{}),e.jsxs(b,{children:[e.jsx(xa,{}),e.jsx(ja,{}),e.jsx(fa,{})]}),e.jsx(N,{}),e.jsxs(b,{children:[e.jsx(We,{}),e.jsx(l,{}),e.jsx(l,{})]}),e.jsx(N,{}),e.jsxs(b,{children:[e.jsx(ba,{}),e.jsx(l,{children:t.familyStatus==="option_2"&&e.jsx(Ye,{})}),e.jsx(l,{children:t.partnerPayMortgage==="yes"&&t.familyStatus==="option_2"&&e.jsx(He,{})})]})]})},qa=X().shape({nameSurname:x().required(s.t("error_name_surname")),birthday:x().required(s.t("error_date")),education:x().required(s.t("error_select_answer")),additionalCitizenships:x().required(s.t("error_select_answer")),citizenshipsDropdown:ce().when("additionalCitizenships",{is:"yes",then:a=>a.min(1,s.t("error_select_answer")),otherwise:a=>a.min(0)}),taxes:x().required(s.t("error_select_answer")),countriesPayTaxes:ce().when("taxes",{is:"yes",then:a=>a.min(1,s.t("error_select_answer")),otherwise:a=>a.min(0)}),childrens:x().required(s.t("error_select_answer")),howMuchChildrens:F().required(s.t("error_fill_field")),medicalInsurance:x().required(s.t("error_select_answer")),isForeigner:x().required(s.t("error_select_answer")),publicPerson:x().required(s.t("error_select_answer")),borrowers:F().min(1,s.t("error_quantity_borrowers")).required(s.t("error_quantity_borrowers")),familyStatus:x().required(s.t("error_select_answer")),partnerPayMortgage:x().when("familyStatus",{is:s.t("calculate_mortgage_family_status_option_2"),then:a=>a.required(s.t("error_select_answer")),otherwise:a=>a.notRequired()})}),Aa=()=>{const a=z(),c=U(),t=D(g=>g.mortgage),d={nameSurname:D(g=>g.login.loginData).nameSurname||t.nameSurname||"",birthday:t.birthday||new Date(new Date().setFullYear(new Date().getFullYear()-18)).getTime(),education:t.education||"",additionalCitizenships:t.additionalCitizenships||null,citizenshipsDropdown:t.citizenshipsDropdown||[],taxes:t.taxes||null,countriesPayTaxes:t.countriesPayTaxes||[],childrens:t.childrens||null,howMuchChildrens:t.howMuchChildrens||1,medicalInsurance:t.medicalInsurance||null,isForeigner:t.isForeigner||null,publicPerson:t.publicPerson||null,borrowers:t.borrowers||null,familyStatus:t.familyStatus||"",partnerPayMortgage:t.partnerPayMortgage||null,addPartner:t.addPartner||""};return e.jsx(Z,{initialValues:d,validationSchema:qa,validateOnMount:!0,onSubmit:g=>{a(V(g)),c("/services/calculate-mortgage/3")},children:e.jsxs(ee,{children:[e.jsx(ae,{children:e.jsx(Ea,{})}),e.jsx(de,{})]})})},$a=()=>{const{t:a,i18n:c}=E();c.language=c.language.split("-")[0];const t=U(),{values:h}=Q(),{mainSourceOfIncome:d,additionalIncome:g,obligation:f}=h,u=z(),I=D(n=>n.borrowers.sourceOfIncomeModal),P=D(n=>n.borrowers.additionalIncomeModal),C=D(n=>n.borrowers.obligationModal),v=D(n=>n.otherBorrowers.otherBorrowers),j=D(n=>n.login.loginData),m=()=>{u(V(h)),u(ve())},p=()=>{u(V(h)),u(De())},o=()=>{u(V(h)),u(Me())},M=n=>{u(we({id:n}))},i=n=>{u(Se({id:n}))},R=n=>{u(Ne({id:n}))},re=n=>{u(Ie(n))},T=n=>{u(Be(n))},L=n=>{u(Fe(n))},W=n=>{u(pe(n));const fe=!v.some(be=>be.id===n)?K(v):n;t({pathname:"/services/other-borrowers/1/",search:me({pageId:String(fe)}).toString()})},r=()=>{u(pe(K(v))),t({pathname:"/services/other-borrowers/1/",search:me({pageId:K(v).toString()}).toString()})},y=n=>{u(ya(n))};return e.jsxs(te,{children:[e.jsx(ne,{title:a("calculate_mortgage_step3_title")}),e.jsx($,{name:j==null?void 0:j.nameSurname,phone:j==null?void 0:j.phoneNumber}),e.jsxs(b,{children:[e.jsx(Ze,{}),_e[d]&&_e[d].map((n,Y)=>e.jsx(ge.Fragment,{children:n},Y))]}),e.jsx(b,{children:e.jsx(l,{children:d&&e.jsxs(e.Fragment,{children:[I.map(n=>e.jsx($,{onEdit:()=>re(n.id),onDelete:()=>M(n.id),enableEdit:!0,name:`${a("source_of_income")}${n.id+1}`},n.id)),e.jsx(k,{onClick:m,color:"#FBE54D",value:a("add_place_to_work"),variant:"none"})]})})}),e.jsx(N,{}),e.jsxs(b,{children:[e.jsx(ea,{}),g&&g!=="option_1"&&e.jsx(aa,{}),e.jsx(l,{})]}),g&&g!=="option_1"&&e.jsx(b,{children:e.jsxs(l,{children:[P.map(n=>e.jsx($,{onEdit:()=>T(n.id),onDelete:()=>i(n.id),enableEdit:!0,name:`${a("additional_source_of_income")}${n.id+1}`},n.id)),e.jsx(k,{onClick:p,color:"#FBE54D",value:a("add_additional_source_of_income"),variant:"none"})]})}),e.jsx(N,{}),e.jsxs(b,{children:[e.jsx(ta,{}),he[f]&&he[f].map((n,Y)=>e.jsx(ge.Fragment,{children:n},Y)),e.jsx(l,{})]}),f&&f!=="option_1"&&e.jsx(b,{children:e.jsxs(l,{children:[C.map(n=>e.jsx($,{onEdit:()=>L(n.id),onDelete:()=>R(n.id),enableEdit:!0,name:`${a("obligation")}${n.id+1}`},n.id)),e.jsx(k,{onClick:o,color:"#FBE54D",value:a("add_obligation"),variant:"none"})]})}),e.jsx(N,{}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[v&&e.jsx(B,{title:a("borrower")}),e.jsxs(b,{style:{columnGap:"2rem"},children:[v.map(n=>e.jsx(l,{children:e.jsx($,{onEdit:()=>W(n.id),onDelete:()=>y(n.id),enableEdit:!0,name:n.nameSurname},n.id)},n.id)),!v&&e.jsx(B,{title:a("borrower")}),e.jsx(l,{children:e.jsx(k,{value:a("add_borrower"),onClick:r,style:{height:"3.5rem",borderRadius:"0.25rem",padding:"0",width:"13.125rem"}})}),e.jsx(l,{})]})]})]})},Ta=X().shape({mainSourceOfIncome:x().required(s.t("error_select_answer")),monthlyIncome:F().required(s.t("error_fill_field")),startDate:x().required(s.t("error_date")),fieldOfActivity:x().when("mainSourceOfIncome",{is:a=>a!=null&&a!=="",then:a=>a.required(s.t("error_select_field_of_activity")),otherwise:a=>a.notRequired()}),profession:x().required(s.t("error_fill_field")),companyName:x().required(s.t("error_fill_field")),additionalIncome:x().required(s.t("error_select_one_of_the_options")),additionalIncomeAmount:F().when("additionalIncome",{is:a=>a!=null&&a!==""&&a==="no",then:a=>a.required(s.t("error_fill_field")),otherwise:a=>a.notRequired()}),obligation:x().required(s.t("error_select_one_of_the_options")),bank:x().when("obligation",{is:a=>a!=null&&a!==""&&a==="no",then:a=>a.required(s.t("error_select_bank")),otherwise:a=>a.notRequired()}),monthlyPaymentForAnotherBank:F().when("obligation",{is:a=>a!=null&&a!==""&&a==="no",then:a=>a.required(s.t("error_fill_field")),otherwise:a=>a.notRequired()}),endDate:x().required(s.t("error_date"))}),Va=()=>{const a=z(),c=U(),t=D(d=>d.mortgage),h={mainSourceOfIncome:t.mainSourceOfIncome||"",monthlyIncome:t.monthlyIncome||null,startDate:t.startDate||new Date().getTime(),fieldOfActivity:t.fieldOfActivity||"",profession:t.profession||"",companyName:t.companyName||"",additionalIncome:t.additionalIncome||"",additionalIncomeAmount:t.additionalIncomeAmount||null,obligation:t.obligation||"",bank:t.bank||"",monthlyPaymentForAnotherBank:t.monthlyPaymentForAnotherBank||null,endDate:t.endDate||new Date().getTime(),amountIncomeCurrentYear:(t==null?void 0:t.amountIncomeCurrentYear)||null,noIncome:t.noIncome||new Date().getTime()};return e.jsxs(e.Fragment,{children:[e.jsx(Z,{initialValues:h,validationSchema:Ta,validateOnMount:!0,onSubmit:d=>{a(V(d)),c("/services/calculate-mortgage/4")},children:e.jsxs(ee,{children:[e.jsx(ae,{children:e.jsx($a,{})}),e.jsx(de,{})]})}),e.jsx(Ge,{}),e.jsx(Je,{}),e.jsx(Ke,{})]})},Ua=()=>{const{stepNumber:a}=Pe(),{t:c,i18n:t}=E();t.language=t.language.split("-")[0];const h=U();if(!D(u=>u.login.isLogin)&&a!=="1"){h("/services/refinance-mortgage/1");return}const g=[c("mortgage_refinance_step_1"),c("mortgage_refinance_step_2"),c("mortgage_refinance_step_3"),c("mortgage_refinance_step_4")];let f;switch(a){case"1":f=S.jsxDEV(Pa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:39,columnNumber:23},globalThis);break;case"2":f=S.jsxDEV(Aa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:42,columnNumber:23},globalThis);break;case"3":f=S.jsxDEV(Va,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:45,columnNumber:23},globalThis);break;case"4":f=S.jsxDEV(ka,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:48,columnNumber:23},globalThis);break;default:f=S.jsxDEV(Ce,{type:"NOT_FOUND"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:54,columnNumber:23},globalThis);break}return S.jsxDEV(S.Fragment,{children:[a!=="4"&&S.jsxDEV(qe,{progress:a,data:g},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:62,columnNumber:30},globalThis),S.jsxDEV(w.Suspense,{fallback:S.jsxDEV(Ee,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:63,columnNumber:27},globalThis),children:f},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:63,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/RefinanceMortgage/RefinanceMortgage.tsx",lineNumber:61,columnNumber:5},globalThis)},nt=Ua;export{nt as RefinanceMortgage};
