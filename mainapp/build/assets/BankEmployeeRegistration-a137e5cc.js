import{j as e}from"./ui-vendor-99260b86.js";import{r as s}from"./react-vendor-21ec1e1c.js";import{a,c as r,f as i,h as n,F as l,b as c,j as t}from"./form-vendor-6d56d196.js";import{u as d}from"./i18n-vendor-18addd5f.js";import"./utils-vendor-8f040048.js";import"./state-vendor-069efcec.js";const _="_container_12x8p_10",o="_pageBackground_12x8p_18",h="_signUpForm_12x8p_29",x="_titleSection_12x8p_47",m="_mainTitle_12x8p_59",p="_subtitle_12x8p_73",u="_stepperNavigation_12x8p_88",j="_navigation_12x8p_100",k="_navItemStepper_12x8p_117",v="_shape_12x8p_131",N="_stepNumber_12x8p_147",b="_stepText_12x8p_160",w="_inactive_12x8p_173",g="_chevronRight_12x8p_187",f="_containerWithForms_12x8p_196",y="_firstRow_12x8p_209",C="_secondRow_12x8p_209",L="_thirdRow_12x8p_209",S="_line_12x8p_235",q="_inputField_12x8p_244",I="_label_12x8p_256",T="_input_12x8p_244",$="_content_12x8p_288",B="_inputText_12x8p_302",W="_envelope_12x8p_329",M="_dropdown_12x8p_338",F="_selectedText_12x8p_348",E="_chevronUp_12x8p_364",R="_dropdownMenu_12x8p_373",U="_dropdownMenuContainer_12x8p_392",V="_dropdownMenuContent_12x8p_403",z="_searchSection_12x8p_418",A="_searchInputField_12x8p_430",H="_searchInput_12x8p_430",O="_searchContent_12x8p_459",D="_searchIcon_12x8p_471",G="_searchInputText_12x8p_479",J="_navLink_12x8p_501",K="_title_12x8p_47",P="_text_12x8p_529",Q="_check_12x8p_542",X="_checkboxContainer_12x8p_552",Y="_checkboxRow_12x8p_565",Z="_checkbox_12x8p_552",ee="_labelAndHelperText_12x8p_588",se="_checkboxLabel_12x8p_600",ae="_termsLink_12x8p_616",re="_submitButton_12x8p_621",ie="_buttonText_12x8p_645",ne="_loginLink_12x8p_659",le="_errorMessage_12x8p_680",ce=({name:s,errors:a,touched:r})=>e.jsx("div",{className:le,children:r[s]&&a[s]?a[s]:""}),te=()=>{const{t:le,i18n:te}=d();s.useState(1);const[de,_e]=s.useState(!1),[oe,he]=s.useState(!1),[xe,me]=s.useState(""),[pe,ue]=s.useState(""),[je,ke]=s.useState([]),[ve,Ne]=s.useState([]),[be,we]=s.useState([]),[ge,fe]=s.useState(!0),[ye,Ce]=s.useState(!1),[Le,Se]=s.useState(!0),[qe,Ie]=s.useState(null),[Te,$e]=s.useState(null),[Be,We]=s.useState(null),[Me,Fe]=s.useState(!1),[Ee,Re]=s.useState(""),Ue=a({fullName:r().min(2,le("bank_worker_validation_name_min")).required(le("bank_worker_validation_name_required")),position:r().min(2,le("bank_worker_validation_position_min")).required(le("bank_worker_validation_position_required")),email:r().email(le("bank_worker_validation_email_invalid")).required(le("bank_worker_validation_email_required")),bankId:i().required(le("bank_worker_validation_bank_required")),branchId:i().required(le("bank_worker_validation_branch_required")),bankNumber:r().min(3,le("bank_worker_validation_bank_number_min")).required(le("bank_worker_validation_bank_number_required")),acceptTerms:n().oneOf([!0],le("bank_worker_validation_terms_required")).required(le("bank_worker_validation_terms_required"))});s.useEffect(()=>{(async()=>{try{fe(!0);const e=await fetch(`/api/banks/list?lang=${te.language}`),s=await e.json();"success"===s.status&&s.data?ke(s.data):ke([])}catch(e){ke([])}finally{fe(!1)}})()},[te.language]),s.useEffect(()=>{(async()=>{try{Se(!0);const e=await fetch(`/api/get-cities?lang=${te.language}`),s=await e.json();"success"===s.status&&s.data?we(s.data):we([])}catch(e){we([])}finally{Se(!1)}})()},[te.language]),s.useEffect(()=>{qe&&(async e=>{try{Ce(!0);const s=await fetch(`/api/banks/${e}/branches`),a=await s.json();"success"===a.status&&a.data?Ne(a.data):Ne([])}catch(s){Ne([])}finally{Ce(!1)}})(qe)},[qe]);const Ve=e=>e[`name_${te.language}`]||e.name_en||e.name||`Bank ${e.id}`,ze=e=>e[`name_${te.language}`]||e.name_en||e.name||`City ${e.id}`,Ae=je.filter(e=>Ve(e).toLowerCase().includes(xe.toLowerCase()));ve.filter(e=>(e=>e[`name_${te.language}`]||e.name_en||e.name||`Branch ${e.id}`)(e).toLowerCase().includes(pe.toLowerCase()));const He=be.filter(e=>ze(e).toLowerCase().includes(Ee.toLowerCase())),Oe=je.find(e=>e.id===qe);ve.find(e=>e.id===Te);const De=be.find(e=>e.id===Be);return s.useEffect(()=>{const e=e=>{e.target.closest(`.${M}`)||(_e(!1),he(!1),Fe(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),e.jsx("div",{className:_,children:e.jsx("div",{className:o,children:e.jsxs("div",{className:h,children:[e.jsxs("div",{className:x,children:[e.jsx("h1",{className:m,children:le("bank_worker_registration")}),e.jsx("p",{className:p,children:le("bank_worker_register_subtitle")})]}),e.jsx("div",{className:u,children:e.jsxs("div",{className:j,children:[e.jsxs("div",{className:k,children:[e.jsx("div",{className:v,children:e.jsx("span",{className:N,children:"1"})}),e.jsx("span",{className:b,children:le("bank_worker_basic_info")})]}),e.jsx("div",{className:g,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M6 4L10 8L6 12",stroke:"currentColor",strokeWidth:"1.33"})})}),e.jsxs("div",{className:`${k} ${w}`,children:[e.jsx("div",{className:v,children:e.jsx("span",{className:N,children:"2"})}),e.jsx("span",{className:b,children:le("bank_worker_service_selection")})]})]})}),e.jsx("div",{className:f,children:e.jsx(l,{initialValues:{fullName:"",position:"",email:"",bankId:"",branchId:"",bankNumber:"",acceptTerms:!1},validationSchema:Ue,onSubmit:e=>{alert(`${le("bank_worker_demo_description")}\n\nIn the real system, after successful registration, you would be redirected to:\n/bank-worker/status/[registration-id]\n\nThis page would show your registration status and next steps.`)},children:({values:s,setFieldValue:a,errors:r,touched:i})=>e.jsxs(c,{children:[e.jsxs("div",{className:y,children:[e.jsxs("div",{className:q,children:[e.jsx("label",{className:I,children:le("bank_worker_full_name")}),e.jsx("div",{className:T,children:e.jsx("div",{className:$,children:e.jsx(t,{type:"text",name:"fullName",placeholder:le("bank_worker_full_name_placeholder"),className:B})})}),e.jsx(ce,{name:"fullName",errors:r,touched:i})]}),e.jsxs("div",{className:q,children:[e.jsx("label",{className:I,children:le("bank_worker_position")}),e.jsx("div",{className:T,children:e.jsx("div",{className:$,children:e.jsx(t,{type:"text",name:"position",placeholder:le("bank_worker_position_placeholder"),className:B})})}),e.jsx(ce,{name:"position",errors:r,touched:i})]})]}),e.jsx("div",{className:S}),e.jsxs("div",{className:C,children:[e.jsxs("div",{className:q,children:[e.jsx("label",{className:I,children:le("bank_worker_bank_email")}),e.jsx("div",{className:T,children:e.jsxs("div",{className:$,children:[e.jsx("div",{className:W,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[e.jsx("path",{d:"M2.5 3.5h11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1z",stroke:"currentColor",strokeWidth:"1",fill:"none"}),e.jsx("path",{d:"m2.5 4.5 5.5 4 5.5-4",stroke:"currentColor",strokeWidth:"1"})]})}),e.jsx(t,{type:"email",name:"email",placeholder:le("bank_worker_bank_email_placeholder"),className:B})]})}),e.jsx(ce,{name:"email",errors:r,touched:i})]}),e.jsxs("div",{className:q,children:[e.jsx("label",{className:I,children:le("bank_worker_bank")}),e.jsxs("div",{className:M,children:[e.jsx("div",{className:T,onClick:()=>!ge&&_e(!de),children:e.jsxs("div",{className:$,children:[e.jsx("span",{className:F,children:ge?le("bank_worker_loading_banks"):Oe?Ve(Oe):le("bank_worker_select_bank")}),e.jsx("div",{className:E,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M4 10L8 6L12 10",stroke:"currentColor",strokeWidth:"1.33"})})})]})}),de&&!ge&&e.jsx("div",{className:R,children:e.jsx("div",{className:U,children:e.jsxs("div",{className:V,children:[e.jsx("div",{className:z,children:e.jsx("div",{className:A,children:e.jsx("div",{className:H,children:e.jsxs("div",{className:O,children:[e.jsx("div",{className:D,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[e.jsx("circle",{cx:"7.5",cy:"7.5",r:"5.5",stroke:"currentColor",strokeWidth:"1"}),e.jsx("path",{d:"m13 13-3-3",stroke:"currentColor",strokeWidth:"1"})]})}),e.jsx("input",{type:"text",placeholder:le("bank_worker_search_banks"),value:xe,onChange:e=>me(e.target.value),className:G})]})})})}),Ae.map(s=>e.jsxs("div",{className:J,onClick:()=>{Ie(s.id),a("bankId",s.id),_e(!1),me(""),$e(null),a("branchId","")},children:[e.jsx("div",{className:K,children:e.jsx("span",{className:P,children:Ve(s)})}),qe===s.id&&e.jsx("div",{className:Q,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M3 8L6.5 11.5L13 5",stroke:"currentColor",strokeWidth:"2"})})})]},s.id))]})})})]}),e.jsx(ce,{name:"bankId",errors:r,touched:i})]})]}),e.jsxs("div",{className:L,children:[e.jsxs("div",{className:q,children:[e.jsx("label",{className:I,children:le("bank_worker_city")}),e.jsxs("div",{className:M,children:[e.jsx("div",{className:T,onClick:()=>Fe(!Me),children:e.jsxs("div",{className:$,children:[e.jsx("span",{className:F,children:De?ze(De):le("bank_worker_select_city")}),e.jsx("div",{className:E,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M4 10L8 6L12 10",stroke:"currentColor",strokeWidth:"1.33"})})})]})}),Me&&e.jsx("div",{className:R,children:e.jsx("div",{className:U,children:e.jsxs("div",{className:V,children:[e.jsx("div",{className:z,children:e.jsx("div",{className:A,children:e.jsx("div",{className:H,children:e.jsxs("div",{className:O,children:[e.jsx("div",{className:D,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[e.jsx("circle",{cx:"7.5",cy:"7.5",r:"5.5",stroke:"currentColor",strokeWidth:"1"}),e.jsx("path",{d:"m13 13-3-3",stroke:"currentColor",strokeWidth:"1"})]})}),e.jsx("input",{type:"text",placeholder:le("bank_worker_search_cities"),value:Ee,onChange:e=>Re(e.target.value),className:G})]})})})}),He.map(s=>e.jsxs("div",{className:J,onClick:()=>{We(s.id),a("cityId",s.id),Fe(!1),Re("")},children:[e.jsx("div",{className:K,children:e.jsx("span",{className:P,children:ze(s)})}),Be===s.id&&e.jsx("div",{className:Q,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M3 8L6.5 11.5L13 5",stroke:"currentColor",strokeWidth:"2"})})})]},s.id))]})})})]}),e.jsx(ce,{name:"cityId",errors:r,touched:i})]}),e.jsxs("div",{className:q,children:[e.jsx("label",{className:I,children:le("bank_worker_bank_number")}),e.jsx("div",{className:T,children:e.jsx("div",{className:$,children:e.jsx(t,{type:"text",name:"bankNumber",placeholder:le("bank_worker_bank_number_placeholder"),className:B})})}),e.jsx(ce,{name:"bankNumber",errors:r,touched:i})]})]}),e.jsxs("div",{className:X,children:[e.jsxs("div",{className:Y,children:[e.jsx(t,{type:"checkbox",id:"acceptTerms",name:"acceptTerms",className:Z}),e.jsx("div",{className:ee,children:e.jsx("label",{htmlFor:"acceptTerms",className:se,children:"he"===te.language?e.jsxs(e.Fragment,{children:["אני מסכים ",e.jsx("span",{className:ae,children:"לכללי הפלטפורמה"})]}):le("bank_worker_accept_terms")})})]}),e.jsx(ce,{name:"acceptTerms",errors:r,touched:i})]}),e.jsx("button",{type:"submit",className:re,children:e.jsx("span",{className:ie,children:le("bank_worker_continue")})}),e.jsx("div",{className:S}),e.jsx("div",{className:ne,children:e.jsx("span",{children:le("bank_worker_already_account")})})]})})})]})})})};export{te as BankEmployeeRegistration};
