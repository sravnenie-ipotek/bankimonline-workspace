import{a as B,u as T,j as m,k as R,d as ge,o as Ke,c as w,m as Je,J as Qe,K as ea,p as V,L as aa,M as na,F as ta,O as oa}from"./index-66ac6b92.js";import{P as ia,e as ra,B as W,I as sa,a as H,D as la,E as ca,M as Se}from"./index-b861f65a.js";import{u as U}from"./i18n-vendor-aaeace9f.js";import{u as de,a as xe,c as A,f as Pe,F as je,b as Ie}from"./form-vendor-2c7d84e7.js";import{r as I,b as O,f as ma}from"./react-vendor-ede63a09.js";import{F as da}from"./FormattedInput-343a5344.js";import{w as ce}from"./components-vendor-632ebedf.js";import{W as ua,f as pa}from"./AddButton-bf59f484.js";import{u as ha,P as fa,t as va,f as ga,a as ba,M as _a}from"./MortgageParameters-d3d2261f.js";import{a as Na}from"./useDropdownData-7b90036f.js";import{C as ne}from"./Column-a3646793.js";import{D as ya}from"./DropdownMenu-6af3f9e0.js";import{R as Da}from"./Row-17bc4128.js";import{A as ka,a as Sa,g as Te,b as ie,O as xa,c as re,M as Pa}from"./componentsByIncomeSource-91971b46.js";const it=()=>{const{i18n:e}=U(),t=B(),n=T(i=>i.modalSlice.isOpenLogin),a=()=>{t(R()),t(ge("login"))},o=()=>{t(R()),t(ge("codeSignUp")),t(Ke())};return n?e.language==="he"?m.jsxDEV(ia,{onClose:a,onSuccess:o},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/MortgagePhoneVerificationModal.tsx",lineNumber:31,columnNumber:5},globalThis):m.jsxDEV(ra,{onClose:a,onSuccess:o},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/MortgagePhoneVerificationModal.tsx",lineNumber:36,columnNumber:5},globalThis):null},ja="_buttons_17878_16",Ia="_wrapper_17878_28",Ta={"submit-btn":"_submit-btn_17878_1",buttons:ja,wrapper:Ia},pe=w.bind(Ta),rt=({showValidationHints:e=!1})=>{const{t}=U(),{isValid:n,handleSubmit:a,errors:o,values:i,setFieldTouched:d}=de(),[r,s]=I.useState(!1),c=()=>{console.log("=== BUTTON CLICKED ==="),console.log("isValid:",n),console.log("values:",i),console.log("errors:",o),console.log("========================"),Object.keys(i).forEach(p=>{d(p,!0,!1)}),n?(console.log("Form is valid, submitting..."),a()):(console.log("Form is invalid, showing errors..."),s(!0))};return m.jsxDEV("div",{className:pe("submit-btn"),children:m.jsxDEV("div",{className:pe("wrapper"),children:m.jsxDEV("div",{className:pe("buttons"),children:m.jsxDEV(W,{onClick:c,size:"smallLong",type:"button",style:{opacity:n?1:.7,cursor:n?"pointer":"not-allowed",pointerEvents:"auto",zIndex:9999},children:t("button_next")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/SingleButton/SingleButton.tsx",lineNumber:49,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/SingleButton/SingleButton.tsx",lineNumber:48,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/SingleButton/SingleButton.tsx",lineNumber:47,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/SingleButton/SingleButton.tsx",lineNumber:46,columnNumber:5},globalThis)};var we=Math.sqrt(50),Ue=Math.sqrt(10),Ve=Math.sqrt(2);function Oa(e,t,n){var a,o=-1,i,d,r;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((a=t<e)&&(i=e,e=t,t=i),(r=Ma(e,t,n))===0||!isFinite(r))return[];if(r>0){let s=Math.round(e/r),c=Math.round(t/r);for(s*r<e&&++s,c*r>t&&--c,d=new Array(i=c-s+1);++o<i;)d[o]=(s+o)*r}else{r=-r;let s=Math.round(e*r),c=Math.round(t*r);for(s/r<e&&++s,c/r>t&&--c,d=new Array(i=c-s+1);++o<i;)d[o]=(s+o)/r}return a&&d.reverse(),d}function Ma(e,t,n){var a=(t-e)/Math.max(0,n),o=Math.floor(Math.log(a)/Math.LN10),i=a/Math.pow(10,o);return o>=0?(i>=we?10:i>=Ue?5:i>=Ve?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=we?10:i>=Ue?5:i>=Ve?2:1)}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fe(Object(n),!0).forEach(function(a){Ea(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function G(e,t,n){return t&&Ce(e.prototype,t),n&&Ce(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&be(e,t)}function me(e){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},me(e)}function be(e,t){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,o){return a.__proto__=o,a},be(e,t)}function wa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ua(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K(e)}function oe(e){var t=wa();return function(){var a=me(e),o;if(t){var i=me(this).constructor;o=Reflect.construct(a,arguments,i)}else o=a.apply(this,arguments);return Ua(this,o)}}function _e(e,t){return Fa(e)||$a(e,t)||qe(e,t)||Ba()}function Ne(e){return Va(e)||Ca(e)||qe(e)||Aa()}function Va(e){if(Array.isArray(e))return ye(e)}function Fa(e){if(Array.isArray(e))return e}function Ca(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $a(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],o=!0,i=!1,d,r;try{for(n=n.call(e);!(o=(d=n.next()).done)&&(a.push(d.value),!(t&&a.length===t));o=!0);}catch(s){i=!0,r=s}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw r}}return a}}function qe(e,t){if(e){if(typeof e=="string")return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}}function ye(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Aa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ba(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var De="react-compound-slider:";function We(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return function(n,a){return n.val>a.val?e?-1:1:a.val>n.val?e?1:-1:0}}function ae(e,t,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=e.findIndex(function(s){return s.key===t});if(o!==-1){var i=e[o],d=i.key,r=i.val;return r===n?e:[].concat(Ne(e.slice(0,o)),[{key:d,val:n}],Ne(e.slice(o+1))).sort(We(a))}return e}function Z(e,t){if(!e)return[0,0];var n=e.getBoundingClientRect(),a=t?n.top:n.left,o=t?n.bottom:n.right;return[a,o]}function $e(e){var t=e.type,n=t===void 0?"":t,a=e.touches;return!a||a.length>1||n.toLowerCase()==="touchend"&&a.length>0}function he(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function Ae(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=0,i=e.map(function(d){var r=n.getValue(d);return d!==r&&(o+=1,ce(!a,"".concat(De," Invalid value encountered. Changing ").concat(d," to ").concat(r,"."))),r}).map(function(d,r){return{key:"$$-".concat(r),val:d}}).sort(We(t));return{handles:i,changes:o}}function Ra(e,t){return t}function Ha(e,t){for(var n=0;n<e.length;n++)if(e[n].key!==t[n].key||t[n+1]&&t[n].val===t[n+1].val)return e;return t}function ke(e,t,n,a,o){for(var i=-1,d=!0,r=0;r<e.length;r++){var s=e[r],c=t[r];if(!c||c.key!==s.key)return e;c.val!==s.val&&(i=r,d=c.val-s.val>0)}if(i===-1)return e;for(var p=d?n:-n,l=0;l<t.length;l++){var h=t[l],f=t[l+1];if(f&&h.val===f.val)if(l===i){var u=f.val+p;if(o(u)===u){var g=ae(t,f.key,f.val+p,a),b=ke(t,g,n,a,o);return b===t?e:b}else return e}else{var N=h.val+p;if(o(N)===N){var k=ae(t,h.key,h.val+p,a),S=ke(t,k,n,a,o);return S===t?e:S}else return e}}return t}function q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(a){return t.forEach(function(o){return o&&o(a)})}}var za=function(){return{value:0,percent:0}},Ye=function(e){te(n,e);var t=oe(n);function n(){var a;Y(this,n);for(var o=arguments.length,i=new Array(o),d=0;d<o;d++)i[d]=arguments[d];return a=t.call.apply(t,[this].concat(i)),a.getRailProps=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=a.props,c=s.emitMouse,p=s.emitTouch;return $($({},r),{},{onMouseDown:q(r&&r.onMouseDown,c),onTouchStart:q(r&&r.onTouchStart,p)})},a}return G(n,[{key:"render",value:function(){var o=this.getRailProps,i=this.props,d=i.getEventData,r=i.activeHandleID,s=r===void 0?"":r,c=i.children,p=c({getEventData:d||za,activeHandleID:s,getRailProps:o});return p&&O.Children.only(p)}}]),n}(I.Component),Ge=function(e){te(n,e);var t=oe(n);function n(){var a;Y(this,n);for(var o=arguments.length,i=new Array(o),d=0;d<o;d++)i[d]=arguments[d];return a=t.call.apply(t,[this].concat(i)),a.autofocus=function(r){r.target instanceof HTMLElement&&r.target.focus()},a.getHandleProps=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=a.props,p=c.emitKeyboard,l=c.emitMouse,h=c.emitTouch;return $($({},s),{},{onKeyDown:q(s&&s.onKeyDown,function(f){return p&&p(f,r)}),onMouseDown:q(s&&s.onMouseDown,a.autofocus,function(f){return l&&l(f,r)}),onTouchStart:q(s&&s.onTouchStart,function(f){return h&&h(f,r)})})},a}return G(n,[{key:"render",value:function(){var o=this.getHandleProps,i=this.props,d=i.activeHandleID,r=d===void 0?"":d,s=i.children,c=i.handles,p=c===void 0?[]:c,l=s({handles:p,activeHandleID:r,getHandleProps:o});return l&&O.Children.only(l)}}]),n}(I.Component),Oe=function(){function e(){Y(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return G(e,[{key:"createInterpolator",value:function(n,a){var o=this,i=n[0],d=n[1],r=a[0],s=a[1];return d<i?function(c){return o.interpolateValue(s,r)(o.deinterpolateValue(d,i)(c))}:function(c){return o.interpolateValue(r,s)(o.deinterpolateValue(i,d)(c))}}},{key:"interpolateValue",value:function(n,a){return n=+n,a-=n,function(i){return n+a*i}}},{key:"deinterpolateValue",value:function(n,a){return(a-=n=+n)?function(o){return(o-n)/a}:function(){return a}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(n){var a=this.domain,o=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(a,o)))(+n)}},{key:"setDomain",value:function(n){return this.domain=[n[0],n[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(n){return this.range=[n[0],n[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(n){var a=this.domain;return Oa(a[0],a[a.length-1],n||10)}}]),e}(),La=function(){return{value:0,percent:0}},Ka=function(e){te(n,e);var t=oe(n);function n(){return Y(this,n),t.apply(this,arguments)}return G(n,[{key:"render",value:function(){var o=this.props,i=o.children,d=o.values,r=o.scale,s=r===void 0?new Oe:r,c=o.count,p=c===void 0?10:c,l=o.getEventData,h=l===void 0?La:l,f=o.activeHandleID,u=f===void 0?"":f,g=(d||s.getTicks(p)).map(function(N){return{id:"$$-".concat(N),value:N,percent:s.getValue(N)}}),b=i({getEventData:h,activeHandleID:u,ticks:g});return b&&O.Children.only(b)}}]),n}(I.Component),qa=function(){return{value:0,percent:0}},Xe=function(e){te(n,e);var t=oe(n);function n(){var a;Y(this,n);for(var o=arguments.length,i=new Array(o),d=0;d<o;d++)i[d]=arguments[d];return a=t.call.apply(t,[this].concat(i)),a.getTrackProps=function(r){var s=a.props,c=s.emitMouse,p=s.emitTouch;return $($({},r||{}),{},{onMouseDown:q(r&&r.onMouseDown,c),onTouchStart:q(r&&r.onTouchStart,p)})},a}return G(n,[{key:"render",value:function(){for(var o=this.getTrackProps,i=this.props,d=i.children,r=i.left,s=r===void 0?!0:r,c=i.right,p=c===void 0?!0:c,l=i.scale,h=l===void 0?new Oe:l,f=i.handles,u=f===void 0?[]:f,g=i.getEventData,b=g===void 0?qa:g,N=i.activeHandleID,k=N===void 0?"":N,S=h.getDomain(),P=[],y=0;y<u.length+1;y++){var x=u[y-1],v=u[y];y===0&&s===!0?x={id:"$",value:S[0],percent:0}:y===u.length&&p===!0&&(v={id:"$",value:S[1],percent:100}),x&&v&&P.push({id:"".concat(x.id,"-").concat(v.id),source:x,target:v})}var D=d({getEventData:b,activeHandleID:k,tracks:P,getTrackProps:o});return D&&O.Children.only(D)}}]),n}(I.Component);function Be(e,t,n){return Math.min(Math.max(e,t),n)}var Re=G(function e(){var t=this;Y(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(n){return t.domain=[n[0],n[1]],t},this.setRange=function(n){return t.range=[n[0],n[1]],t},this.setStep=function(n){return t.step=n,t},this.getValue=function(n){var a=_e(t.domain,2),o=a[0],i=a[1],d=_e(t.range,2),r=d[0],s=d[1],c=t.step,p=(Be(n,o,i)-o)/(i-o),l=c*Math.round(p*(s-r)/c)+r;return Be(l,r<s?r:s,s>r?s:r)}}),J=typeof window<"u"&&typeof document<"u",C=function(){},Wa=function(t){return function(n,a,o){return n&&t[o]===a}},Ya=function(t,n){return t===n||t.length===n.length&&t.reduce(Wa(n),!0)},Ga=function(t){if(!I.isValidElement(t))return!1;var n=t.type,a=n?n.name:"";return a===Ge.name||a===Ye.name||a===Ka.name||a===Xe.name},Xa=function(t,n,a,o){var i=o?t-n:t+n;return o?Math.max(a[0],i):Math.min(a[1],i)},Za=function(t,n,a,o){var i=o?t+n:t-n;return o?Math.min(a[1],i):Math.max(a[0],i)},se=[0,100],Ja=function(e){te(n,e);var t=oe(n);function n(){var a;Y(this,n);for(var o=arguments.length,i=new Array(o),d=0;d<o;d++)i[d]=arguments[d];return a=t.call.apply(t,[this].concat(i)),a.state={step:.1,values:[],domain:se,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},a.slider=O.createRef(),a.onKeyDown=function(r,s){var c=["ArrowRight","ArrowUp"],p=["ArrowDown","ArrowLeft"],l=K(a),h=l.state.handles,f=l.props,u=f.step,g=u===void 0?.1:u,b=f.reversed,N=b===void 0?!1:b,k=f.vertical,S=k===void 0?!1:k,P=f.domain,y=P===void 0?[0,100]:P,x=r.key||"".concat(r.keyCode);if(c.concat(p).includes(x)){if(S){var v=[p,c];c=v[0],p=v[1]}r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault();var D=h.find(function(F){return F.key===s});if(D){var _=D.val,E=_;c.includes(x)?E=Xa(_,g,y,N):p.includes(x)&&(E=Za(_,g,y,N));var j=h.map(function(F){return F.key===s?{key:F.key,val:E}:F});a.submitUpdate(j,!0)}}},a.onMouseDown=function(r,s){a.onStart(r,s,!1)},a.onTouchStart=function(r,s){$e(r)||a.onStart(r,s,!0)},a.getEventData=function(r,s){var c=K(a),p=c.state,l=p.pixelToStep,h=p.valueToPerc,f=c.props.vertical;l.setDomain(Z(a.slider.current,f));var u;return s&&r instanceof TouchEvent?u=l.getValue(he(f,r)):r instanceof MouseEvent&&(u=l.getValue(f?r.clientY:r.pageX)),{value:u,percent:h.getValue(u)}},a.onMouseMove=function(r){var s=K(a),c=s.state,p=c.handles,l=c.pixelToStep,h=c.activeHandleID,f=h===void 0?"":h,u=s.props,g=u.vertical,b=u.reversed,N=b===void 0?!1:b;l.setDomain(Z(a.slider.current,g));var k=l.getValue(g?r.clientY:r.pageX),S=ae(p,f,k,N);a.submitUpdate(S)},a.onTouchMove=function(r){var s=K(a),c=s.state,p=c.handles,l=c.pixelToStep,h=c.activeHandleID,f=s.props,u=f.vertical,g=f.reversed;if(!(l===null||$e(r))){l.setDomain(Z(a.slider.current,u));var b=l.getValue(he(u,r)),N=ae(p,h,b,g);a.submitUpdate(N)}},a.onMouseUp=function(){var r=K(a),s=r.state,c=s.handles,p=c===void 0?[]:c,l=s.activeHandleID,h=r.props,f=h.onChange,u=f===void 0?C:f,g=h.onSlideEnd,b=g===void 0?C:g;u(p.map(function(N){return N.val})),b(p.map(function(N){return N.val}),{activeHandleID:l}),a.setState({activeHandleID:""}),J&&(document.removeEventListener("mousemove",a.onMouseMove),document.removeEventListener("mouseup",a.onMouseUp))},a.onTouchEnd=function(){var r=K(a),s=r.state,c=s.handles,p=s.activeHandleID,l=r.props,h=l.onChange,f=h===void 0?C:h,u=l.onSlideEnd,g=u===void 0?C:u;f(c.map(function(b){return b.val})),g(c.map(function(b){return b.val}),{activeHandleID:p}),a.setState({activeHandleID:""}),J&&(document.removeEventListener("touchmove",a.onTouchMove),document.removeEventListener("touchend",a.onTouchEnd))},a}return G(n,[{key:"componentDidMount",value:function(){var o=this.state.pixelToStep,i=this.props.vertical;o.setDomain(Z(this.slider.current,i))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){J&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(o,i,d){var r=this.state.handles,s=this.props.onSlideStart,c=s===void 0?C:s;d||o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation();var p=r.find(function(l){return l.key===i});p?(this.setState({activeHandleID:i}),c(r.map(function(l){return l.val}),{activeHandleID:i}),d?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(o,d))}},{key:"handleRailAndTrackClicks",value:function(o,i){var d=this,r=this.state,s=r.handles,c=r.pixelToStep,p=this.props,l=p.vertical,h=p.reversed,f=h===void 0?!1:h,u=this.slider;c.setDomain(Z(u.current,l));var g;i?g=c.getValue(he(l,o)):g=c.getValue(l?o.clientY:o.pageX);for(var b="",N=1/0,k=0;k<s.length;k++){var S=s[k],P=S.key,y=S.val,x=Math.abs(y-g);x<N&&(b=P,N=x)}var v=ae(s,b,g,f);this.setState({activeHandleID:b},function(){d.submitUpdate(v,!0),i?d.addTouchEvents():d.addMouseEvents()})}},{key:"addMouseEvents",value:function(){J&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){J&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=this.props,r=d.mode,s=r===void 0?1:r,c=d.step,p=c===void 0?.1:c,l=d.onUpdate,h=l===void 0?C:l,f=d.onChange,u=f===void 0?C:f,g=d.reversed,b=g===void 0?!1:g,N=this.state.valueToStep.getValue;this.setState(function(k){var S=k.handles,P=[];if(typeof s=="function")P=s(S,o,p,b,N),ce(Array.isArray(P),"Custom mode function did not return an array.");else switch(s){case 1:P=Ra(S,o);break;case 2:P=Ha(S,o);break;case 3:P=ke(S,o,p,b,N);break;default:P=o,ce(!1,"".concat(De," Invalid mode value."))}return h(P.map(function(y){return y.val})),i&&u(P.map(function(y){return y.val})),{handles:P}})}},{key:"render",value:function(){var o=this,i=this.state,d=i.handles,r=i.valueToPerc,s=i.activeHandleID,c=this.props,p=c.className,l=c.rootStyle,h=l===void 0?{}:l,f=c.rootProps,u=f===void 0?{}:f,g=c.component,b=g===void 0?"div":g,N=c.disabled,k=N===void 0?!1:N,S=c.flatten,P=S===void 0?!1:S,y=d.map(function(v){var D=v.key,_=v.val;return{id:D,value:_,percent:r.getValue(_)}}),x=O.Children.map(this.props.children,function(v){return Ga(v)===!0?O.cloneElement(v,{scale:r,handles:y,activeHandleID:s,getEventData:o.getEventData,emitKeyboard:k?C:o.onKeyDown,emitMouse:k?C:o.onMouseDown,emitTouch:k?C:o.onTouchStart}):v});return P?O.createElement(O.Fragment,null,O.createElement(b,$($({},u),{},{style:h,className:p,ref:this.slider})),x):O.createElement(O.Fragment,null,O.createElement(b,$($({},u),{},{style:h,className:p,ref:this.slider}),x))}}],[{key:"getDerivedStateFromProps",value:function(o,i){var d=o.step,r=d===void 0?.1:d,s=o.values,c=o.domain,p=c===void 0?se:c,l=o.reversed,h=l===void 0?!1:l,f=o.onUpdate,u=f===void 0?C:f,g=o.onChange,b=g===void 0?C:g,N=o.warnOnChanges,k=N===void 0?!1:N,S=i.valueToPerc,P=i.valueToStep,y=i.pixelToStep,x={};if((!S||!P||!y)&&(S=new Oe,P=new Re,y=new Re,x.valueToPerc=S,x.valueToStep=P,x.pixelToStep=y),i.domain===se||i.step===null||i.domain===null||i.reversed===null||r!==i.step||p[0]!==i.domain[0]||p[1]!==i.domain[1]||h!==i.reversed){var v=_e(p,2),D=v[0],_=v[1];P.setStep(r).setRange([D,_]).setDomain([D,_]),h===!0?(S.setDomain([D,_]).setRange([100,0]),y.setStep(r).setRange([_,D])):(S.setDomain([D,_]).setRange([0,100]),y.setStep(r).setRange([D,_])),ce(_>D,"".concat(De," Max must be greater than min (even if reversed). Max is ").concat(_,". Min is ").concat(D,"."));var E=Ae(s||i.values,h,P,k),j=E.handles,F=E.changes;(F||s===void 0||s===i.values)&&(u(j.map(function(z){return z.val})),b(j.map(function(z){return z.val}))),x.step=r,x.values=s,x.domain=p===se?Ne(p):p,x.handles=j,x.reversed=h}else if(!Ya(s,i.values)){var Ee=Ae(s,h,P,k),ue=Ee.handles,Ze=Ee.changes;Ze&&(u(ue.map(function(z){return z.val})),b(ue.map(function(z){return z.val}))),x.values=s,x.handles=ue}return Object.keys(x).length?x:null}}]),n}(I.PureComponent);const Qa="_slider_w5hmp_1",en="_rail_w5hmp_7",an="_handle_w5hmp_15",nn="_track_w5hmp_36",Me={slider:Qa,rail:en,handle:an,track:nn},tn=w.bind(Me),on=({source:e,target:t,getTrackProps:n})=>m.jsxDEV("div",{className:tn("track","bg-accent-primary"),style:{width:`${t.percent-e.percent}%`},...n()},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Track.tsx",lineNumber:16,columnNumber:5},globalThis),rn=w.bind(Me),sn=({handle:{id:e,percent:t},getHandleProps:n})=>{const{i18n:a}=U();return m.jsxDEV("div",{className:rn("handle","bg-accent-primary"),style:{left:`${t}%`,marginLeft:a.language==="he"?"-12px":"0px"},...n(e)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Handle.tsx",lineNumber:26,columnNumber:5},globalThis)},He=w.bind(Me),ln=({min:e,max:t,step:n,values:a,onUpdate:o,onChange:i,"data-testid":d})=>{const{i18n:r}=U();return m.jsxDEV(Ja,{mode:1,step:n,domain:[e,t],onUpdate:o,onChange:i,values:a,reversed:r.language==="he",className:He("slider"),"data-testid":d,children:[m.jsxDEV(Ye,{children:({getRailProps:s})=>m.jsxDEV("div",{className:He("rail","bg-base-secondaryDefaultButton"),...s()},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:47,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:45,columnNumber:7},globalThis),m.jsxDEV(Ge,{children:({handles:s,getHandleProps:c})=>m.jsxDEV("div",{className:"slider-handles",children:s.map(p=>m.jsxDEV(sn,{handle:p,domain:[e,t],getHandleProps:c},p.id,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:57,columnNumber:15},globalThis))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:55,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:53,columnNumber:7},globalThis),m.jsxDEV(Xe,{left:r.language!=="he",right:r.language==="he",children:({tracks:s,getTrackProps:c})=>m.jsxDEV("div",{className:"slider-tracks",children:s.map(({id:p,source:l,target:h})=>m.jsxDEV(on,{source:l,target:h,getTrackProps:c},p,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:71,columnNumber:15},globalThis))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:69,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:67,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:34,columnNumber:5},globalThis)},cn={"slider-input":"_slider-input_2u5jo_1","range-ranges":"_range-ranges_2u5jo_12"},ze=w.bind(cn),mn=({value:e,max:t,min:n,name:a,error:o,title:i,handleChange:d,disableRangeValues:r,tooltip:s,disableCurrency:c,unitsMax:p,unitsMin:l,"data-testid":h})=>{const[f,u]=I.useState(e),g=k=>{u(k[0])},b=k=>{d(k[0])},N=k=>{d(k)};return I.useLayoutEffect(()=>{u(e)},[e]),m.jsxDEV(m.Fragment,{children:m.jsxDEV("div",{className:ze("slider-input"),children:[m.jsxDEV(da,{disableCurrency:c,title:i,tooltip:s,name:a,error:o,value:f,handleChange:N,"data-testid":h},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:63,columnNumber:9},globalThis),m.jsxDEV(ln,{min:0,max:t,step:1,values:[e],onUpdate:g,onChange:b,"data-testid":h?`${h}-slider`:void 0},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:74,columnNumber:9},globalThis),!r&&m.jsxDEV("div",{className:ze("range-ranges"),children:[m.jsxDEV("div",{children:m.jsxDEV("span",{className:a+"Min",children:[n.toLocaleString("en-US")," ",l&&l]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:87,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:86,columnNumber:13},globalThis),m.jsxDEV("div",{children:m.jsxDEV("span",{className:a+"Max",children:[t.toLocaleString("en-US")," ",p&&p]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:92,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:91,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:85,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:62,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:61,columnNumber:5},globalThis)},st=I.memo(mn),dn="_filled_1kf35_18",un={"alert-warning":"_alert-warning_1kf35_1","alert-warning__text":"_alert-warning__text_1kf35_10",filled:dn},fe=w.bind(un),lt=({children:e,filled:t,icon:n,text:a})=>m.jsxDEV("div",{className:fe("alert-warning",{filled:t}),children:[m.jsxDEV("div",{className:fe("alert-warning__icon"),children:n||m.jsxDEV(ua,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/AlertWarning/AlertWarning.tsx",lineNumber:24,columnNumber:24},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/AlertWarning/AlertWarning.tsx",lineNumber:23,columnNumber:7},globalThis),m.jsxDEV("span",{className:fe("alert-warning__text"),children:e||a},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/AlertWarning/AlertWarning.tsx",lineNumber:26,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/AlertWarning/AlertWarning.tsx",lineNumber:22,columnNumber:5},globalThis),pn="_info_1vgj8_1",hn={info:pn,"info-title":"_info-title_1vgj8_11","info-icon":"_info-icon_1vgj8_19"},ve=w.bind(hn),fn=({title:e})=>m.jsxDEV("div",{className:ve("info"),children:[m.jsxDEV(sa,{className:ve("info-icon"),size:24},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/Info/Info.tsx",lineNumber:14,columnNumber:7},globalThis),m.jsxDEV("p",{className:ve("info-title"),children:e},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/Info/Info.tsx",lineNumber:15,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/Info/Info.tsx",lineNumber:13,columnNumber:5},globalThis),vn="_card_wewux_1",gn={card:vn,"card-title":"_card-title_wewux_10","card-title__text":"_card-title__text_wewux_21","card-children":"_card-children_wewux_34","card-footer":"_card-footer_wewux_39","card-check":"_card-check_wewux_44","card-check__title":"_card-check__title_wewux_49","card-check__price":"_card-check__price_wewux_61","card-button":"_card-button_wewux_72"},M=w.bind(gn),bn=({title:e,infoTitle:t,children:n,mortgageAmount:a,totalAmount:o,mothlyPayment:i,bankOffer:d,onBankSelect:r})=>{U();const{getContent:s}=H("mortgage_step4"),c=B(),p=a.toLocaleString("en-US"),l=o.toLocaleString("en-US"),h=i.toLocaleString("en-US"),f=()=>{const u=d||{id:`bank_${Date.now()}`,bankName:e,program:t,rate:0,monthlyPayment:i,totalAmount:o,mortgageAmount:a};c(Je({selectedBank:u,selectedBankId:u.id,selectedBankName:u.bankName})),r&&r(u),c(ge("signUp")),c(Ke()),console.log(`[BANK SELECTION] Selected bank: ${u.bankName}`),console.log("[BANK SELECTION] Bank data:",u)};return m.jsxDEV("div",{className:M("card"),children:[m.jsxDEV("div",{className:M("card-title"),children:[m.jsxDEV("h3",{className:M("card-title__text"),children:e},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:91,columnNumber:9},globalThis),m.jsxDEV(fn,{title:t},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:92,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:90,columnNumber:7},globalThis),m.jsxDEV("div",{className:M("card-children"),children:n},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:94,columnNumber:7},globalThis),m.jsxDEV(la,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:95,columnNumber:7},globalThis),m.jsxDEV("div",{className:M("card-footer"),children:[m.jsxDEV("div",{className:M("card-check"),children:[m.jsxDEV("p",{className:M("card-check__title"),children:s("mortgage_total","mortgage_total")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:98,columnNumber:11},globalThis),m.jsxDEV("p",{className:M("card-check__price"),children:[p," â‚ª"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:99,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:97,columnNumber:9},globalThis),m.jsxDEV("div",{className:M("card-check"),children:[m.jsxDEV("p",{className:M("card-check__title"),children:s("mortgage_total_return","mortgage_total_return")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:102,columnNumber:11},globalThis),m.jsxDEV("p",{className:M("card-check__price"),children:[l," â‚ª"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:105,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:101,columnNumber:9},globalThis),m.jsxDEV("div",{className:M("card-check"),children:[m.jsxDEV("p",{className:M("card-check__title"),children:s("mortgage_monthly","mortgage_monthly")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:108,columnNumber:11},globalThis),m.jsxDEV("p",{className:M("card-check__price"),children:[h," â‚ª"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:109,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:107,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:96,columnNumber:7},globalThis),m.jsxDEV("button",{type:"button",className:M("card-button"),onClick:f,children:s("mortgage_select_bank","mortgage_select_bank")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:112,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:89,columnNumber:5},globalThis)},_n="_container_ceieu_1",Nn="_column_ceieu_8",yn={container:_n,column:Nn},Q=w.bind(yn),ct=()=>{const{t:e,i18n:t}=U(),n=ha(),{getContent:a}=H("bank_offers"),[o,i]=I.useState([]),[d,r]=I.useState([]),[s,c]=I.useState(!0),[p,l]=I.useState(null),h=T(v=>v.mortgage),f=T(v=>v.credit),u=T(v=>v.refinanceMortgage),g=T(v=>v.refinanceCredit),b=()=>{switch(n){case"credit":return f;case"refinance-mortgage":return u;case"refinance-credit":return g;default:return h}},N=()=>{switch(n){case"credit":return f;case"refinance-mortgage":return u;case"refinance-credit":return g;default:return h.incomeData}},k=b(),S=N(),P=T(v=>v.filter.mortgageType),y=n==="credit";I.useEffect(()=>{(async()=>{try{c(!0),l(null);const D=()=>{switch(n){case"credit":return f;case"refinance-mortgage":return u;case"refinance-credit":return g;default:return h}},_=va(D(),k,S,n||void 0);console.log("ðŸš€ [BANK-OFFERS] Service Type:",n),console.log("ðŸš€ [BANK-OFFERS] Is Credit:",y),console.log("ðŸš€ [BANK-OFFERS] Selected Parameters:",D()),console.log("ðŸš€ [BANK-OFFERS] User Personal Data:",k),console.log("ðŸš€ [BANK-OFFERS] User Income Data:",S),console.log("ðŸš€ [BANK-OFFERS] Making API request with payload:",_);const E=await ga(_);console.log("ðŸ¦ [BANK-OFFERS] Received bank offers:",E.length),E.length===0&&(console.warn("âš ï¸ [BANK-OFFERS] NO BANK OFFERS FOUND!"),console.log("ðŸ’¡ [BANK-OFFERS] Check admin panel banking standards!")),i(E)}catch(D){console.error("ðŸ’¥ [BANK-OFFERS] Error fetching bank offers:",D),l(D.message||"Unknown error occurred")}finally{c(!1)}})()},[h,f,u,g,k,S,n,e]),I.useEffect(()=>{(async()=>{try{const D=await ba(),_=t.language||"en",E=D.map(j=>{let F=_==="he"?j.title:_==="ru"?j.title_ru:j.title_en;switch(j.id){case"prime":F=y?e("credit_prime_percent","Prime Rate Credit"):e("mortgage_prime_percent","Prime Rate Mortgage");break;case"fixed_inflation":F=y?e("credit_fix_percent","Fixed Rate Credit"):e("mortgage_fix_percent","Fixed Rate Mortgage");break;case"variable_inflation":F=y?e("credit_float_percent","Variable Rate Credit"):e("mortgage_float_percent","Variable Rate Mortgage");break;default:break}return{id:j.id,title:F,description:_==="he"?j.description:_==="ru"?j.description_ru:j.description_en,conditionFinance:_==="he"?j.conditionFinance:_==="ru"?j.conditionFinance_ru:j.conditionFinance_en,conditionPeriod:_==="he"?j.conditionPeriod:_==="ru"?j.conditionPeriod_ru:j.conditionPeriod_en,conditionBid:_==="he"?j.conditionBid:_==="ru"?j.conditionBid_ru:j.conditionBid_en,interestRate:j.interestRate,termYears:j.termYears}});r(E)}catch{console.warn("âš ï¸ [MORTGAGE-PROGRAMS] Failed to fetch programs, using fallback"),r(y?[{id:"prime",title:e("credit_prime_percent","Prime Rate Credit"),description:e("prime_description","Prime rate linked credit program"),conditionFinance:e("up_to_33_percent","Up to 33%"),conditionPeriod:e("4_to_30_years","4-30 years"),conditionBid:e("prime_rate_structure","Variable + Fixed components")},{id:"fixed_inflation",title:e("credit_fix_percent","Fixed rate linked to inflation"),description:e("fixed_inflation_description","Fixed rate with inflation adjustment"),conditionFinance:e("up_to_70_percent","Up to 70%"),conditionPeriod:e("5_to_30_years","5-30 years"),conditionBid:e("fixed_rate_structure","Fixed rate structure")},{id:"variable_inflation",title:e("credit_float_percent","Variable rate linked to inflation"),description:e("variable_inflation_description","Variable rate with inflation adjustment"),conditionFinance:e("up_to_75_percent","Up to 75%"),conditionPeriod:e("4_to_25_years","4-25 years"),conditionBid:e("variable_rate_structure","Variable rate structure")}]:[{id:"prime",title:e("mortgage_prime_percent","Prime Rate Mortgage"),description:e("prime_description","Prime rate linked mortgage program"),conditionFinance:e("up_to_33_percent","Up to 33%"),conditionPeriod:e("4_to_30_years","4-30 years"),conditionBid:e("prime_rate_structure","Variable + Fixed components")},{id:"fixed_inflation",title:e("mortgage_fix_percent","Fixed rate linked to inflation"),description:e("fixed_inflation_description","Fixed rate with inflation adjustment"),conditionFinance:e("up_to_70_percent","Up to 70%"),conditionPeriod:e("5_to_30_years","5-30 years"),conditionBid:e("fixed_rate_structure","Fixed rate structure")},{id:"variable_inflation",title:e("mortgage_float_percent","Variable rate linked to inflation"),description:e("variable_inflation_description","Variable rate with inflation adjustment"),conditionFinance:e("up_to_75_percent","Up to 75%"),conditionPeriod:e("4_to_25_years","4-25 years"),conditionBid:e("variable_rate_structure","Variable rate structure")}])}})()},[e,t.language,y]);const x=v=>P==="all"||y?v:v.filter(D=>{switch(P){case"prime":return D.id==="prime";case"fixed":return D.id==="fixed_inflation";case"variable":return D.id==="variable_inflation";default:return!0}});return s?m.jsxDEV("div",{className:Q("container"),children:a("loading_bank_offers",e("loading_bank_offers"))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:267,columnNumber:12},globalThis):p?m.jsxDEV("div",{className:Q("container"),children:[a("bank_offers_error",e("bank_offers_error")),p]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:271,columnNumber:12},globalThis):m.jsxDEV("div",{className:Q("container"),children:o.length===0?m.jsxDEV("div",{className:Q("no-offers"),children:[m.jsxDEV("h3",{children:a("no_bank_offers_available",e("no_bank_offers_available"))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:278,columnNumber:11},globalThis),m.jsxDEV("p",{children:a("no_offers_message",e("no_offers_message"))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:279,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:277,columnNumber:9},globalThis):o.map((v,D)=>m.jsxDEV(I.Fragment,{children:m.jsxDEV("div",{className:Q("column"),children:m.jsxDEV(bn,{title:v.bank_name||`${a("bank_name","Bank")} #${D+1}`,infoTitle:y?a("bank_offers_credit_register","Credit Registration"):a("mortgage_register","Mortgage Registration"),mortgageAmount:v.loan_amount,totalAmount:v.total_payment,mothlyPayment:v.monthly_payment,bankOffer:{id:v.bank_id,bankName:v.bank_name,program:y?"Credit Program":"Mortgage Program",rate:v.interest_rate,monthlyPayment:v.monthly_payment,totalAmount:v.total_payment,mortgageAmount:v.loan_amount},children:!y&&(x(d).length>0?x(d).map((_,E)=>m.jsxDEV(fa,{title:_.title,percent:v.interest_rate||_.interestRate||2.1,mortgageAmount:v.loan_amount,monthlyPayment:v.monthly_payment,period:v.term_years||_.termYears||20,description:_.description,conditionFinance:_.conditionFinance,conditionPeriod:_.conditionPeriod,conditionBid:_.conditionBid},E,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:305,columnNumber:23},globalThis)):m.jsxDEV("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:a("no_programs_match_filter",'No programs match your selected filter. Try selecting "All Programs" to see all available options.')},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:319,columnNumber:21},globalThis))},v.bank_id||D,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:285,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:284,columnNumber:13},globalThis)},v.bank_id||D,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:283,columnNumber:11},globalThis))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:275,columnNumber:5},globalThis)},Dn="_dropdown_s6dzj_1",kn={dropdown:Dn},Sn=w.bind(kn),mt=()=>{U();const{getContent:e}=H("mortgage_step4"),t=T(d=>d.filter),n=B(),a=Na("mortgage_step4","filter","full");a.loading&&console.log("ðŸ”„ Loading filter dropdown options..."),a.error&&console.warn("âŒ Filter dropdown error:",a.error);const o=()=>{switch(t.mortgageType){case"all":return"filter_1";case"prime":return"filter_2";case"fixed":return"filter_3";case"variable":return"filter_4";default:return"filter_1"}},i=a.options.length>0?a.options:[{value:"filter_1",label:e("calculate_mortgage_filter_1","×›×œ ×ª×•×›× ×™×•×ª ×”×ž×©×›× ×ª×")},{value:"filter_2",label:e("calculate_mortgage_filter_2","×ž×©×›× ×ª××•×ª ×‘×¨×™×‘×™×ª ×¤×¨×™×™×")},{value:"filter_3",label:e("calculate_mortgage_filter_3","×ž×©×›× ×ª××•×ª ×‘×¨×™×‘×™×ª ×§×‘×•×¢×”")},{value:"filter_4",label:e("calculate_mortgage_filter_4","×ž×©×›× ×ª××•×ª ×‘×¨×™×‘×™×ª ×ž×©×ª× ×”")}];return m.jsxDEV(ne,{children:[m.jsxDEV(ya,{data:i,title:a.label||e("calculate_mortgage_filter_title","×¡× ×Ÿ ×œ×¤×™ ×¡×•×’ ×ž×©×›× ×ª×"),placeholder:a.placeholder||e("calculate_mortgage_filter_title","×¡× ×Ÿ ×œ×¤×™ ×¡×•×’ ×ž×©×›× ×ª×"),value:o(),onChange:d=>n(Qe(d)),className:Sn("dropdown"),style:{background:"transparent !important"},disabled:a.loading},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/Filter/Filter.tsx",lineNumber:59,columnNumber:7},globalThis),a.error&&m.jsxDEV(ca,{error:e("error_dropdown_load_failed","Failed to load filter options. Please refresh the page.")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/Filter/Filter.tsx",lineNumber:70,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/Filter/Filter.tsx",lineNumber:58,columnNumber:5},globalThis)},xn=e=>m.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",...e,children:m.jsxDEV("path",{fill:"#FBE54D",d:"m21.31 6.88-4.188-4.19a1.5 1.5 0 0 0-2.122 0L3.44 14.25A1.487 1.487 0 0 0 3 15.312v4.19A1.5 1.5 0 0 0 4.5 21h4.19a1.487 1.487 0 0 0 1.06-.44l11.56-11.56a1.5 1.5 0 0 0 0-2.122ZM8.69 19.5H4.5v-4.189l8.25-8.25 4.19 4.19-8.25 8.25ZM18 10.19 13.81 6l2.25-2.25 4.19 4.19L18 10.19Z"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/assets/icons/PencilSimple/PencilSimple.tsx",lineNumber:10,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/assets/icons/PencilSimple/PencilSimple.tsx",lineNumber:3,columnNumber:5},globalThis),Pn="_profile_dtpha_1",jn={profile:Pn,"profile-title":"_profile-title_dtpha_16","profile-title__text":"_profile-title__text_dtpha_21","profile-title__icon":"_profile-title__icon_dtpha_27","profile-data":"_profile-data_dtpha_34","profile-data__name":"_profile-data__name_dtpha_39","profile-data__phone":"_profile-data__phone_dtpha_45"},L=w.bind(jn),In=({name:e,phone:t})=>{const{t:n,i18n:a}=U(),{getContent:o}=H("mortgage_step4"),i=ma();return m.jsxDEV(ne,{children:m.jsxDEV("div",{className:L("profile"),children:[m.jsxDEV("div",{className:L("profile-title"),children:[m.jsxDEV("p",{className:L("profile-title__text"),children:o("calculate_mortgage_profile_title","calculate_mortgage_profile_title")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:26,columnNumber:11},globalThis),m.jsxDEV(xn,{onClick:()=>i("/services/calculate-mortgage/2"),className:L("profile-title__icon")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:29,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:25,columnNumber:9},globalThis),m.jsxDEV("div",{className:L("profile-data"),children:[m.jsxDEV("div",{className:L("profile-data__name"),children:e},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:35,columnNumber:11},globalThis),m.jsxDEV("div",{className:L("profile-data__phone"),children:t&&pa(t,a.language)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:36,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:34,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:24,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:23,columnNumber:5},globalThis)},dt=({cost:e,initialPayment:t,period:n,credit:a,nameSurname:o,phoneNumber:i})=>m.jsxDEV(Da,{style:{columnGap:"3rem",justifyContent:"flex-start"},children:[m.jsxDEV(_a,{cost:e,initialPayment:t,period:n,credit:a},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/UserParams/UserParams.tsx",lineNumber:28,columnNumber:7},globalThis),m.jsxDEV(In,{name:o,phone:i},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/UserParams/UserParams.tsx",lineNumber:34,columnNumber:7},globalThis),m.jsxDEV(ne,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/UserParams/UserParams.tsx",lineNumber:35,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/UserParams/UserParams.tsx",lineNumber:27,columnNumber:5},globalThis),Tn="_modal_lzcpe_1",On="_buttons_lzcpe_49",Mn={modal:Tn,"modal-item":"_modal-item_lzcpe_18","modal-buttons":"_modal-buttons_lzcpe_31",buttons:On},le=w.bind(Mn),En=()=>{const{t:e,i18n:t}=U(),{handleSubmit:n,isValid:a,values:o}=de(),i=B();return m.jsxDEV(m.Fragment,{children:m.jsxDEV("div",{className:le("modal"),children:[m.jsxDEV("div",{className:le("modal-item"),children:[m.jsxDEV(ka,{excludeNoIncome:!0},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:26,columnNumber:11},globalThis),o.additionalIncome&&o.additionalIncome!=="no_additional_income"&&m.jsxDEV(Sa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:27,columnNumber:93},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:25,columnNumber:9},globalThis),m.jsxDEV("div",{className:le("modal-buttons"),children:m.jsxDEV("div",{className:le("buttons"),children:[m.jsxDEV(W,{variant:"modalBase",type:"submit",onClick:()=>i(R()),children:e("button_back")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:31,columnNumber:13},globalThis),m.jsxDEV(W,{type:"submit",isDisabled:!a,onClick:n,size:"full",children:e("button_next_save")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:38,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:30,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:29,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:24,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:23,columnNumber:5},globalThis)},ut=()=>{const{t:e,i18n:t}=U(),{getContent:n}=H("common");I.useEffect(()=>{ea()},[t.language]);const a=B(),o=T(u=>u.modalSlice.isOpenAdditionalIncome),i=T(u=>u.modalSlice.currentId),d=T(u=>u.borrowers.additionalIncomeModal),r=d[i-1]!==void 0?d[i-1]:void 0,s=()=>{a(R())},c=T(u=>u.borrowers.additionalIncomeModal),l=!c.some(u=>u.id===i)?Te(c):i,h={additionalIncome:(r==null?void 0:r.additionalIncome)||"",additionalIncomeAmount:(r==null?void 0:r.additionalIncomeAmount)||null},f=xe().shape({additionalIncome:A().required(V("error_select_one_of_the_options","Please select one of the options")).test("not-empty",V("error_select_one_of_the_options","Please select one of the options"),u=>u!=null&&u!==""),additionalIncomeAmount:Pe().when("additionalIncome",{is:u=>u&&u!=="no_additional_income",then:u=>u.required(V("error_fill_field","Please fill this field")),otherwise:u=>u.notRequired()})});return m.jsxDEV(Se,{isVisible:o,onCancel:s,title:`${n("additional_source_of_income_modal_title","Additional Source of Income")} ${l+1}`,children:m.jsxDEV(je,{initialValues:h,validationSchema:f,validateOnMount:!0,onSubmit:u=>{a(aa({id:l,...u})),s()},children:m.jsxDEV(Ie,{children:m.jsxDEV(En,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeModal.tsx",lineNumber:87,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeModal.tsx",lineNumber:86,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeModal.tsx",lineNumber:77,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeModal.tsx",lineNumber:72,columnNumber:5},globalThis)},wn="_modal_r2hy9_1",Un="_container_r2hy9_41",Vn="_component_r2hy9_47",Fn="_buttons_r2hy9_59",Cn={modal:wn,"modal-item":"_modal-item_r2hy9_18","modal-buttons":"_modal-buttons_r2hy9_23",container:Un,component:Vn,buttons:Fn},ee=w.bind(Cn),$n=()=>{const{t:e,i18n:t}=U(),{getContent:n}=H("common"),{handleSubmit:a,isValid:o,values:i,errors:d}=de(),r=B(),{obligation:s}=i,c=s==="no_obligations"?"":s||"";return console.log("ðŸ” Obligation Modal - Mapping:",{originalValue:s,mappedKey:c,hasComponents:!!ie[c],availableKeys:Object.keys(ie)}),console.log("ðŸ” Obligation Modal - Form State:",{isValid:o,values:i,errors:d,obligation:s}),m.jsxDEV(m.Fragment,{children:m.jsxDEV("div",{className:ee("modal"),children:[m.jsxDEV("div",{className:ee("container"),children:[m.jsxDEV(xa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:51,columnNumber:11},globalThis),ie[c]&&ie[c].map((p,l)=>m.jsxDEV("div",{className:ee("component"),children:p},l,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:54,columnNumber:15},globalThis)),m.jsxDEV(ne,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:58,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:50,columnNumber:9},globalThis),m.jsxDEV("div",{className:ee("modal-buttons"),children:m.jsxDEV("div",{className:ee("buttons"),children:[m.jsxDEV(W,{variant:"modalBase",type:"button",onClick:()=>r(R()),children:n("button_back")||(t.language==="he"?"×—×–×•×¨":t.language==="ru"?"ÐÐ°Ð·Ð°Ð´":"Back")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:62,columnNumber:13},globalThis),m.jsxDEV(W,{type:"submit",isDisabled:!o,onClick:a,size:"full",children:n("button_next_save")||(t.language==="he"?"×©×ž×•×¨ ×•×”×ž×©×š":t.language==="ru"?"Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ":"Save and Continue")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:69,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:61,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:60,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:49,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:48,columnNumber:5},globalThis)};function Le(){return xe().shape({obligation:A().required(V("error_select_one_of_the_options","Please select one of the options")),bank:A().when("obligation",{is:e=>e&&e!=="no_obligations"&&e!=="other",then:e=>e.required(V("error_select_bank","Please select a bank")),otherwise:e=>e.notRequired()}),monthlyPaymentForAnotherBank:Pe().when("obligation",{is:e=>e&&e!=="no_obligations"&&e!=="other",then:e=>e.required(V("error_fill_field","Please fill this field")),otherwise:e=>e.notRequired()}),endDate:A().when("obligation",{is:e=>e&&e!=="no_obligations"&&e!=="other",then:e=>e.required(V("error_date","Please enter a valid date")),otherwise:e=>e.notRequired()})})}const pt=()=>{const{t:e,i18n:t}=U(),{getContent:n}=H("common"),[a,o]=I.useState(()=>Le()),i=B();I.useEffect(()=>{(async()=>{console.log("ðŸ”„ ObligationModal: Preloading validation errors for language:",t.language),await ta();const g=Le();o(g),console.log("âœ… ObligationModal: Validation schema updated for language:",t.language)})()},[t.language]);const d=T(u=>u.modalSlice.isOpenObligation),r=T(u=>u.modalSlice.currentId),s=T(u=>u.borrowers.obligationModal),c=s[r-1]!==void 0?s[r-1]:void 0,p=()=>{i(R())},h=!s.some(u=>u.id===r)?Te(s):r,f={obligation:(c==null?void 0:c.obligation)||"",bank:(c==null?void 0:c.bank)||"",monthlyPaymentForAnotherBank:(c==null?void 0:c.monthlyPaymentForAnotherBank)||null,endDate:(c==null?void 0:c.endDate)||new Date().toISOString().split("T")[0],noIncome:(c==null?void 0:c.noIncome)||new Date().toISOString().split("T")[0]};return m.jsxDEV(Se,{isVisible:d,onCancel:p,title:`${n("obligation_modal_title",e("obligation_modal_title"))} ${h+1}`,children:m.jsxDEV(je,{initialValues:f,validationSchema:a,validateOnMount:!0,onSubmit:u=>{i(na({id:h,...u})),p()},children:m.jsxDEV(Ie,{children:m.jsxDEV($n,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationModal.tsx",lineNumber:109,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationModal.tsx",lineNumber:108,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationModal.tsx",lineNumber:99,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationModal.tsx",lineNumber:94,columnNumber:5},globalThis)},An="_modal_1gdud_1",Bn="_container_1gdud_41",Rn="_component_1gdud_47",Hn="_buttons_1gdud_59",zn={modal:An,"modal-item":"_modal-item_1gdud_18","modal-buttons":"_modal-buttons_1gdud_23",container:Bn,component:Rn,buttons:Hn},X=w.bind(zn),Ln=()=>{const{t:e,i18n:t}=U(),{handleSubmit:n,isValid:a,values:o,errors:i,touched:d,validateForm:r}=de(),{mainSourceOfIncome:s}=o,c=s||"";O.useEffect(()=>{console.log("ðŸ”Ž SourceOfIncomeModal mapping:",{rawValue:s,incomeSourceKey:c,availableKeys:Object.keys(re),willRender:!!re[c]})},[s,c]);const p=B();return O.useEffect(()=>{console.log("ðŸ” Form Validation Debug:",{isValid:a,values:o,errors:i,touched:d,mainSourceOfIncome:o.mainSourceOfIncome})},[a,o,i,d]),O.useEffect(()=>{s&&r()},[s,r]),m.jsxDEV(m.Fragment,{children:m.jsxDEV("div",{className:X("modal"),children:[m.jsxDEV("div",{className:X("container"),children:[m.jsxDEV("div",{className:X("component"),children:m.jsxDEV(Pa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:67,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:66,columnNumber:11},globalThis),re[c]&&re[c].map((l,h)=>m.jsxDEV("div",{className:X("component"),children:l},h,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:72,columnNumber:17},globalThis)),m.jsxDEV(ne,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:77,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:65,columnNumber:9},globalThis),m.jsxDEV("div",{className:X("modal-buttons"),children:m.jsxDEV("div",{className:X("buttons"),children:[m.jsxDEV(W,{variant:"modalBase",type:"button",onClick:()=>p(R()),children:e("button_back")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:81,columnNumber:13},globalThis),m.jsxDEV(W,{type:"button",isDisabled:!a,onClick:n,size:"full",children:e("button_next_save")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:88,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:80,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:79,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:64,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:63,columnNumber:5},globalThis)},ht=()=>{U();const{getContent:e}=H("common"),t=B(),n=T(l=>l.modalSlice.isOpenSourceOfIncome),a=T(l=>l.modalSlice.currentId),o=T(l=>l.borrowers.sourceOfIncomeModal),i=o[a-1]!==void 0?o[a-1]:void 0,d=()=>{t(R())},s=!o.some(l=>l.id===a)?Te(o):a,c={mainSourceOfIncome:(i==null?void 0:i.mainSourceOfIncome)||"",monthlyIncome:(i==null?void 0:i.monthlyIncome)||null,startDate:(i==null?void 0:i.startDate)||new Date().getTime(),fieldOfActivity:(i==null?void 0:i.fieldOfActivity)||"",profession:(i==null?void 0:i.profession)||"",companyName:(i==null?void 0:i.companyName)||"",amountIncomeCurrentYear:(i==null?void 0:i.amountIncomeCurrentYear)||null},p=xe().shape({mainSourceOfIncome:A().required(V("error_select_answer","Please select an answer")),monthlyIncome:Pe().transform((l,h)=>{if(typeof h=="string"){const f=h.replace(/[^0-9]/g,"");return f?parseInt(f,10):null}return l}).when("mainSourceOfIncome",{is:l=>l!=null&&l!==""&&!["unpaid_leave","unemployed"].includes(l),then:l=>l.required(V("error_fill_field","Please fill this field")),otherwise:l=>l.notRequired()}),startDate:A().when("mainSourceOfIncome",{is:l=>l!=null&&l!==""&&!["unpaid_leave","unemployed"].includes(l),then:l=>l.required(V("error_date","Please select a date")),otherwise:l=>l.notRequired()}),fieldOfActivity:A().when("mainSourceOfIncome",{is:l=>l!=null&&l!==""&&!["unpaid_leave","unemployed"].includes(l),then:l=>l.required(V("error_select_field_of_activity","Please select field of activity")),otherwise:l=>l.notRequired()}),profession:A().when("mainSourceOfIncome",{is:l=>l!=null&&l!==""&&!["unpaid_leave","unemployed"].includes(l),then:l=>l.required(V("error_fill_field","Please fill this field")),otherwise:l=>l.notRequired()}),companyName:A().when("mainSourceOfIncome",{is:l=>l!=null&&l!==""&&!["unpaid_leave","unemployed"].includes(l),then:l=>l.required(V("error_fill_field","Please fill this field")),otherwise:l=>l.notRequired()})});return m.jsxDEV(Se,{isVisible:n,onCancel:d,title:`${e("source_of_income_modal_title","Source of Income")} ${s+1}`,children:m.jsxDEV(je,{initialValues:c,validationSchema:p,validateOnMount:!1,validateOnChange:!0,validateOnBlur:!0,onSubmit:l=>{t(oa({id:s,...l})),d()},children:m.jsxDEV(Ie,{children:m.jsxDEV(Ln,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeModal.tsx",lineNumber:110,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeModal.tsx",lineNumber:109,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeModal.tsx",lineNumber:98,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeModal.tsx",lineNumber:93,columnNumber:5},globalThis)};export{lt as A,ct as B,mt as F,it as M,pt as O,st as S,dt as U,rt as a,ht as b,ut as c};
