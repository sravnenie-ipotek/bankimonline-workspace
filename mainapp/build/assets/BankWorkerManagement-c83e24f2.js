import{c as S,j as e}from"./index-6460d6c7.js";import{r as b}from"./react-vendor-ede63a09.js";import{a as L,c as A,f as F,F as R,b as Q}from"./form-vendor-2c7d84e7.js";import{Q as _}from"./components-vendor-632ebedf.js";import{L as U,b as H,T as M,E as C,B as k,M as V}from"./index-e07169da.js";import{F as q}from"./FormattedInput-d445b9f6.js";import{D as w}from"./DropdownMenu-96e87e99.js";import{b as y}from"./bankWorkerApi-f0c4c1e7.js";import{u as E}from"./i18n-vendor-aaeace9f.js";import"./state-vendor-c4e6020a.js";import"./ui-vendor-d73673ed.js";import"./utils-vendor-dcc8b708.js";import"./Control-a4902682.js";const $="_managementContainer_63ybq_7",z="_header_63ybq_18",O="_tabs_63ybq_27",G="_tab_63ybq_27",J="_tabBadge_63ybq_53",K="_tabContent_63ybq_76",X="_invitationForm_63ybq_80",Y="_form_63ybq_87",Z="_formField_63ybq_92",ee="_fieldLabel_63ybq_97",ae="_messageTextarea_63ybq_102",ne="_submitButton_63ybq_116",se="_listHeader_63ybq_130",ie="_refreshButton_63ybq_136",re="_emptyState_63ybq_151",le="_invitationsTable_63ybq_161",me="_tableHeader_63ybq_167",oe="_tableRow_63ybq_182",te="_email_63ybq_196",ce="_bank_63ybq_200",de="_branch_63ybq_203",be="_status_63ybq_207",ue="_date_63ybq_211",pe="_statusBadge_63ybq_240",he="_queueTable_63ybq_270",ve="_workerCard_63ybq_275",ge="_workerInfo_63ybq_289",Ne="_workerName_63ybq_292",ke="_workerDetails_63ybq_298",fe="_workerEmail_63ybq_303",_e="_registrationDate_63ybq_308",xe="_workerActions_63ybq_313",De="_approveButton_63ybq_317",je="_rejectButton_63ybq_318",ye="_approvalModal_63ybq_338",Be="_modalContent_63ybq_338",Te="_rejectionModal_63ybq_339",Ae="_modalMessage_63ybq_342",Me="_modalField_63ybq_349",Ee="_modalTextarea_63ybq_360",We="_modalActions_63ybq_376",Pe={managementContainer:$,header:z,tabs:O,tab:G,"tab--active":"_tab--active_63ybq_48",tabBadge:J,tabContent:K,invitationForm:X,form:Y,formField:Z,fieldLabel:ee,messageTextarea:ae,submitButton:ne,listHeader:se,refreshButton:ie,emptyState:re,invitationsTable:le,tableHeader:me,tableRow:oe,email:te,bank:ce,branch:de,status:be,date:ue,statusBadge:pe,"statusBadge--success":"_statusBadge--success_63ybq_249","statusBadge--warning":"_statusBadge--warning_63ybq_254","statusBadge--error":"_statusBadge--error_63ybq_259","statusBadge--neutral":"_statusBadge--neutral_63ybq_264",queueTable:he,workerCard:ve,workerInfo:ge,workerName:Ne,workerDetails:ke,workerEmail:fe,registrationDate:_e,workerActions:xe,approveButton:De,rejectButton:je,approvalModal:ye,modalContent:Be,rejectionModal:Te,modalMessage:Ae,modalField:Me,modalTextarea:Ee,modalActions:We},a=S.bind(Pe),Ue=({banks:t,onSubmit:c,loading:v})=>{const{t:n,i18n:g}=E(),s=L({email:A().email(n("validation.email.format")).required(n("validation.email.required")),bankId:A().required(n("validation.bankId.required")),branchId:A().required(n("validation.branchId.required")),message:A().max(500,n("validation.message.max")),expirationDays:F().min(1,n("validation.expirationDays.min")).max(30,n("validation.expirationDays.max")).required(n("validation.expirationDays.required"))});return e.jsxDEV("div",{className:a("invitationForm"),children:[e.jsxDEV(M,{title:n("admin.invitation.title")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:93,columnNumber:7},globalThis),e.jsxDEV(R,{initialValues:{email:"",bankId:"",branchId:"",message:"",expirationDays:7},validationSchema:s,onSubmit:c,children:({values:o,errors:m,touched:u,setFieldValue:p,isSubmitting:d})=>{const h=t.find(i=>i.id===o.bankId);return e.jsxDEV(Q,{className:a("form"),children:[e.jsxDEV("div",{className:a("formField"),children:e.jsxDEV(q,{name:"email",title:n("admin.invitation.fields.email.label"),placeholder:n("admin.invitation.fields.email.placeholder"),value:o.email,handleChange:i=>p("email",i),error:u.email&&m.email},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:113,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:112,columnNumber:15},globalThis),e.jsxDEV("div",{className:a("formField"),children:e.jsxDEV(w,{name:"bankId",title:n("admin.invitation.fields.bank.label"),placeholder:n("admin.invitation.fields.bank.placeholder"),options:t.map(i=>({value:i.id,label:i.name})),value:o.bankId,onChange:i=>{p("bankId",i),p("branchId","")},error:u.bankId&&m.bankId},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:125,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:124,columnNumber:15},globalThis),h&&e.jsxDEV("div",{className:a("formField"),children:e.jsxDEV(w,{name:"branchId",title:n("admin.invitation.fields.branch.label"),placeholder:n("admin.invitation.fields.branch.placeholder"),options:h.branches.map(i=>({value:i.id,label:g.language==="he"?i.name_he:g.language==="ru"?i.name_ru:i.name_en,subtitle:`${i.branch_code} - ${i.city}`})),value:o.branchId,onChange:i=>p("branchId",i),error:u.branchId&&m.branchId},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:145,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:144,columnNumber:17},globalThis),e.jsxDEV("div",{className:a("formField"),children:e.jsxDEV(q,{name:"expirationDays",title:n("admin.invitation.fields.expirationDays.label"),placeholder:n("admin.invitation.fields.expirationDays.placeholder"),value:o.expirationDays,handleChange:i=>p("expirationDays",i),error:u.expirationDays&&m.expirationDays},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:165,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:164,columnNumber:15},globalThis),e.jsxDEV("div",{className:a("formField"),children:[e.jsxDEV("label",{className:a("fieldLabel"),children:n("admin.invitation.fields.message.label")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:177,columnNumber:17},globalThis),e.jsxDEV("textarea",{name:"message",placeholder:n("admin.invitation.fields.message.placeholder"),value:o.message,onChange:i=>p("message",i.target.value),className:a("messageTextarea"),rows:4},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:180,columnNumber:17},globalThis),u.message&&m.message&&e.jsxDEV(C,{message:m.message},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:189,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:176,columnNumber:15},globalThis),e.jsxDEV(k,{type:"submit",variant:"primary",size:"full",disabled:v||d,className:a("submitButton"),children:n(v?"common.sending":"admin.invitation.send")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:194,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:110,columnNumber:13},globalThis)}},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:95,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:92,columnNumber:5},globalThis)},Ve=({invitations:t,loading:c,onRefresh:v})=>{const{t:n,i18n:g}=E(),s=o=>{const m={pending:{color:"warning",text:n("admin.status.pending")},used:{color:"success",text:n("admin.status.used")},expired:{color:"error",text:n("admin.status.expired")}}[o.toLowerCase()]||{color:"neutral",text:o};return e.jsxDEV("span",{className:a("statusBadge",`statusBadge--${m.color}`),children:m.text},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:230,columnNumber:7},globalThis)};return e.jsxDEV("div",{className:a("invitationsList"),children:[e.jsxDEV("div",{className:a("listHeader"),children:[e.jsxDEV(M,{title:n("admin.invitations.title")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:239,columnNumber:9},globalThis),e.jsxDEV(k,{variant:"secondary",onClick:v,disabled:c,className:a("refreshButton"),children:n(c?"common.refreshing":"common.refresh")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:240,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:238,columnNumber:7},globalThis),c?e.jsxDEV(U,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:251,columnNumber:9},globalThis):t.length===0?e.jsxDEV("div",{className:a("emptyState"),children:e.jsxDEV("p",{children:n("admin.invitations.empty")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:254,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:253,columnNumber:9},globalThis):e.jsxDEV("div",{className:a("invitationsTable"),children:[e.jsxDEV("div",{className:a("tableHeader"),children:[e.jsxDEV("span",{children:n("admin.invitations.columns.email")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:259,columnNumber:13},globalThis),e.jsxDEV("span",{children:n("admin.invitations.columns.bank")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:260,columnNumber:13},globalThis),e.jsxDEV("span",{children:n("admin.invitations.columns.status")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:261,columnNumber:13},globalThis),e.jsxDEV("span",{children:n("admin.invitations.columns.created")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:262,columnNumber:13},globalThis),e.jsxDEV("span",{children:n("admin.invitations.columns.expires")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:263,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:258,columnNumber:11},globalThis),t.map(o=>e.jsxDEV("div",{className:a("tableRow"),children:[e.jsxDEV("span",{className:a("email"),children:o.email},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:268,columnNumber:15},globalThis),e.jsxDEV("span",{className:a("bank"),children:[o.bankName,o.branchName&&e.jsxDEV("span",{className:a("branch"),children:[" - ",o.branchName]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:272,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:269,columnNumber:15},globalThis),e.jsxDEV("span",{className:a("status"),children:s(o.status)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:275,columnNumber:15},globalThis),e.jsxDEV("span",{className:a("date"),children:new Date(o.createdAt).toLocaleDateString(g.language)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:278,columnNumber:15},globalThis),e.jsxDEV("span",{className:a("date"),children:new Date(o.expiresAt).toLocaleDateString(g.language)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:281,columnNumber:15},globalThis)]},o.id,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:267,columnNumber:13},globalThis))]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:257,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:237,columnNumber:5},globalThis)},qe=({queue:t,loading:c,onApprove:v,onReject:n,onRefresh:g})=>{const{t:s,i18n:o}=E(),[m,u]=b.useState(null),[p,d]=b.useState(null),[h,i]=b.useState(""),[x,B]=b.useState(""),[f,D]=b.useState(!1),T=async l=>{u(l),d("approve"),i("")},j=async l=>{u(l),d("reject"),i(""),B("")},W=async()=>{if(m)try{D(!0),await v(m.id,h),d(null),u(null),_.success(s("admin.approval.success"))}catch(l){_.error(l.message||s("admin.approval.error"))}finally{D(!1)}},P=async()=>{if(!(!m||!x.trim()))try{D(!0),await n(m.id,x,h),d(null),u(null),_.success(s("admin.rejection.success"))}catch(l){_.error(l.message||s("admin.rejection.error"))}finally{D(!1)}};return e.jsxDEV("div",{className:a("approvalQueue"),children:[e.jsxDEV("div",{className:a("listHeader"),children:[e.jsxDEV(M,{title:s("admin.approvalQueue.title")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:358,columnNumber:9},globalThis),e.jsxDEV(k,{variant:"secondary",onClick:g,disabled:c,className:a("refreshButton"),children:s(c?"common.refreshing":"common.refresh")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:359,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:357,columnNumber:7},globalThis),c?e.jsxDEV(U,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:370,columnNumber:9},globalThis):t.length===0?e.jsxDEV("div",{className:a("emptyState"),children:e.jsxDEV("p",{children:s("admin.approvalQueue.empty")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:373,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:372,columnNumber:9},globalThis):e.jsxDEV("div",{className:a("queueTable"),children:t.map(l=>e.jsxDEV("div",{className:a("workerCard"),children:[e.jsxDEV("div",{className:a("workerInfo"),children:[e.jsxDEV("h3",{className:a("workerName"),children:l.fullName},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:380,columnNumber:17},globalThis),e.jsxDEV("p",{className:a("workerDetails"),children:[l.position," • ",l.bankName," • ",l.branchName]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:381,columnNumber:17},globalThis),e.jsxDEV("p",{className:a("workerEmail"),children:l.email},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:384,columnNumber:17},globalThis),e.jsxDEV("p",{className:a("registrationDate"),children:[s("admin.approvalQueue.registeredOn"),": "," ",new Date(l.registrationDate).toLocaleDateString(o.language)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:385,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:379,columnNumber:15},globalThis),e.jsxDEV("div",{className:a("workerActions"),children:[e.jsxDEV(k,{variant:"primary",onClick:()=>T(l),className:a("approveButton"),children:s("admin.actions.approve")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:392,columnNumber:17},globalThis),e.jsxDEV(k,{variant:"secondary",onClick:()=>j(l),className:a("rejectButton"),children:s("admin.actions.reject")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:399,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:391,columnNumber:15},globalThis)]},l.id,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:378,columnNumber:13},globalThis))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:376,columnNumber:9},globalThis),e.jsxDEV(V,{isVisible:p==="approve",title:s("admin.approval.title"),onCancel:()=>d(null),className:a("approvalModal"),children:e.jsxDEV("div",{className:a("modalContent"),children:[e.jsxDEV("p",{className:a("modalMessage"),children:s("admin.approval.message",{name:m==null?void 0:m.fullName})},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:420,columnNumber:11},globalThis),e.jsxDEV("div",{className:a("modalField"),children:[e.jsxDEV("label",{className:a("fieldLabel"),children:[s("admin.approval.comments")," (",s("common.optional"),")"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:425,columnNumber:13},globalThis),e.jsxDEV("textarea",{value:h,onChange:l=>i(l.target.value),placeholder:s("admin.approval.commentsPlaceholder"),className:a("modalTextarea"),rows:3},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:428,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:424,columnNumber:11},globalThis),e.jsxDEV("div",{className:a("modalActions"),children:[e.jsxDEV(k,{variant:"secondary",onClick:()=>d(null),disabled:f,children:s("common.cancel")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:438,columnNumber:13},globalThis),e.jsxDEV(k,{variant:"primary",onClick:W,disabled:f,children:s(f?"common.submitting":"admin.actions.approve")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:445,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:437,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:419,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:413,columnNumber:7},globalThis),e.jsxDEV(V,{isVisible:p==="reject",title:s("admin.rejection.title"),onCancel:()=>d(null),className:a("rejectionModal"),children:e.jsxDEV("div",{className:a("modalContent"),children:[e.jsxDEV("p",{className:a("modalMessage"),children:s("admin.rejection.message",{name:m==null?void 0:m.fullName})},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:464,columnNumber:11},globalThis),e.jsxDEV("div",{className:a("modalField"),children:[e.jsxDEV("label",{className:a("fieldLabel"),children:[s("admin.rejection.reason")," *"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:469,columnNumber:13},globalThis),e.jsxDEV("textarea",{value:x,onChange:l=>B(l.target.value),placeholder:s("admin.rejection.reasonPlaceholder"),className:a("modalTextarea"),rows:2,required:!0},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:472,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:468,columnNumber:11},globalThis),e.jsxDEV("div",{className:a("modalField"),children:[e.jsxDEV("label",{className:a("fieldLabel"),children:[s("admin.rejection.comments")," (",s("common.optional"),")"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:483,columnNumber:13},globalThis),e.jsxDEV("textarea",{value:h,onChange:l=>i(l.target.value),placeholder:s("admin.rejection.commentsPlaceholder"),className:a("modalTextarea"),rows:3},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:486,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:482,columnNumber:11},globalThis),e.jsxDEV("div",{className:a("modalActions"),children:[e.jsxDEV(k,{variant:"secondary",onClick:()=>d(null),disabled:f,children:s("common.cancel")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:496,columnNumber:13},globalThis),e.jsxDEV(k,{variant:"primary",onClick:P,disabled:f||!x.trim(),children:s(f?"common.submitting":"admin.actions.reject")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:503,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:495,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:463,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:457,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:356,columnNumber:5},globalThis)},Je=()=>{const{t}=E(),[c,v]=b.useState("invitations"),[n,g]=b.useState([]),[s,o]=b.useState([]),[m,u]=b.useState([]),[p,d]=b.useState(!0),[h,i]=b.useState(!1),[x,B]=b.useState(!1);b.useEffect(()=>{f()},[]);const f=async()=>{try{d(!0),await Promise.all([D(),T(),j()])}catch(r){console.error("Error loading initial data:",r)}finally{d(!1)}},D=async()=>{try{const r=await y.getBanks();r.status==="success"&&r.data&&g(r.data)}catch(r){console.error("Error loading banks:",r),_.error(r.message||t("errors.failedToLoadBanks"))}},T=async()=>{try{i(!0);const r=await y.getInvitations({limit:50});r.status==="success"&&r.data&&o(r.data.invitations)}catch(r){console.error("Error loading invitations:",r),_.error(r.message||t("errors.failedToLoadInvitations"))}finally{i(!1)}},j=async()=>{try{B(!0);const r=await y.getApprovalQueue({limit:50});r.status==="success"&&r.data&&u(r.data.queue)}catch(r){console.error("Error loading approval queue:",r),_.error(r.message||t("errors.failedToLoadQueue"))}finally{B(!1)}},W=async r=>{try{const N=await y.sendInvitation(r);if(N.status==="success")_.success(t("admin.invitation.success")),await T();else throw new C(N.message)}catch(N){throw console.error("Error sending invitation:",N),N}},P=async(r,N)=>{await y.approveWorker(r,N),await j()},l=async(r,N,I)=>{await y.rejectWorker(r,N,I),await j()};return p?e.jsxDEV(U,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:621,columnNumber:12},globalThis):e.jsxDEV(H,{children:e.jsxDEV("div",{className:a("managementContainer"),children:[e.jsxDEV("div",{className:a("header"),children:e.jsxDEV(M,{title:t("admin.bankWorker.title"),tooltip:t("admin.bankWorker.tooltip")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:629,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:628,columnNumber:9},globalThis),e.jsxDEV("div",{className:a("tabs"),children:[e.jsxDEV("button",{className:a("tab",{"tab--active":c==="invitations"}),onClick:()=>v("invitations"),children:[t("admin.tabs.invitations"),s.length>0&&e.jsxDEV("span",{className:a("tabBadge"),children:s.length},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:643,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:637,columnNumber:11},globalThis),e.jsxDEV("button",{className:a("tab",{"tab--active":c==="queue"}),onClick:()=>v("queue"),children:[t("admin.tabs.approvalQueue"),m.length>0&&e.jsxDEV("span",{className:a("tabBadge"),children:m.length},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:652,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:646,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:636,columnNumber:9},globalThis),e.jsxDEV("div",{className:a("tabContent"),children:c==="invitations"?e.jsxDEV("div",{className:a("invitationsTab"),children:[e.jsxDEV(Ue,{banks:n,onSubmit:W,loading:h},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:661,columnNumber:15},globalThis),e.jsxDEV(Ve,{invitations:s,loading:h,onRefresh:T},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:666,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:660,columnNumber:13},globalThis):e.jsxDEV("div",{className:a("queueTab"),children:e.jsxDEV(qe,{queue:m,loading:x,onApprove:P,onReject:l,onRefresh:j},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:674,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:673,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:658,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:626,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:625,columnNumber:5},globalThis)};export{Je as BankWorkerManagement,Je as default};
