import{j as e,c as P,a as v,u as d,d as u,H as E,g as k,h as T,k as _}from"./index-3199dccf.js";import{S as V,E as U,e as I,f as C,g as w,B as A,h as B,M as O}from"./index-50eea159.js";import{u as N,c as b,a as R,F as $,b as q}from"./form-vendor-49761650.js";import{f as H,u as J,r as z}from"./react-vendor-ede63a09.js";import{u as p}from"./i18n-vendor-9df1c3c6.js";const G="_login_tncu0_1",K="_highlighted_tncu0_56",Q={login:G,"login-title":"_login-title_tncu0_8","login-title__text":"_login-title__text_tncu0_13","login-title__desc":"_login-title__desc_tncu0_21","login-form":"_login-form_tncu0_29","login-form__input":"_login-form__input_tncu0_34","login-form__desc":"_login-form__desc_tncu0_39","login-form__client":"_login-form__client_tncu0_47",highlighted:K},W=()=>{const{t:a,i18n:c}=p(),{values:l,setFieldValue:r,errors:m,touched:t,setFieldTouched:o}=N();return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(V,{title:a("name_surname_login"),placeholder:a("calculate_mortgage_name_surname_ph"),name:"NameSurname",onChange:g=>r("nameSurname",g),onBlur:()=>o("nameSurname"),error:t.nameSurname&&m.nameSurname,value:l.nameSurname},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/ui/NameSurnameLogin/NameSurnameLogin.tsx",lineNumber:16,columnNumber:7},globalThis),t.nameSurname&&m.nameSurname&&e.jsxDEV(U,{error:m.nameSurname},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/ui/NameSurnameLogin/NameSurnameLogin.tsx",lineNumber:26,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/ui/NameSurnameLogin/NameSurnameLogin.tsx",lineNumber:15,columnNumber:5},globalThis)},X=()=>{const{t:a,i18n:c}=p(),{values:l,setFieldValue:r,errors:m,touched:t,setFieldTouched:o}=N();return e.jsxDEV(e.Fragment,{children:e.jsxDEV(I,{title:a("phone_number"),value:l.phoneNumber,handleChange:g=>r("phoneNumber",g),onBlur:()=>o("phoneNumber"),error:t.phoneNumber&&m.phoneNumber},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/ui/PhoneInput/PhoneInput.tsx",lineNumber:16,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/ui/PhoneInput/PhoneInput.tsx",lineNumber:15,columnNumber:5},globalThis)},n=P.bind(Q),Y=()=>{const{t:a,i18n:c}=p(),l=H(),t=J().pathname.replace(/\/\d+$/,""),o=v(),[g]=C(),[L]=w(),h=d(s=>s.login.isLogin),f=d(s=>s.login.registrationData),M=d(s=>s.login.activeModal),x={nameSurname:"",phoneNumber:""},S=b().required(a("error_fill_field")),D=R().shape({nameSurname:b().min(3,a("error_not_enough_symbols")).required(a("error_fill_field")),phoneNumber:S}),F=async s=>{try{const i=await g({mobile_number:s.phoneNumber}).unwrap();o(E(s)),o(k(i.data)),o(u("code"))}catch(i){console.error(i)}},j=async s=>{try{const i=await L({code:s.code,mobile_number:f.mobile_number}).unwrap();localStorage.setItem("USER_DATA",JSON.stringify(i.data)),o(T()),o(_()),o(u("login")),l(t+"/2")}catch(i){console.error(i)}};z.useEffect(()=>()=>{h||o(u("login"))},[o,h]);const y=()=>{o(u("login"))};return e.jsxDEV(e.Fragment,{children:M==="login"?e.jsxDEV("div",{className:n("login"),children:[e.jsxDEV("div",{className:n("login-title"),children:[e.jsxDEV("h1",{className:n("login-title__text"),children:a("enter_phone_number_login")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:119,columnNumber:13},globalThis),e.jsxDEV("p",{className:n("login-title__desc"),children:a("confirm_phone_number_login")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:122,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:118,columnNumber:11},globalThis),e.jsxDEV($,{initialValues:x,validationSchema:D,validateOnMount:!0,onSubmit:async s=>{await F(s)},children:({handleSubmit:s,isValid:i})=>e.jsxDEV(q,{className:n("login-form"),children:[e.jsxDEV("div",{className:n("login-form__input"),children:e.jsxDEV(W,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:137,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:136,columnNumber:17},globalThis),e.jsxDEV("div",{className:n("login-form__input"),children:e.jsxDEV(X,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:140,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:139,columnNumber:17},globalThis),e.jsxDEV("div",{children:e.jsxDEV("p",{className:n("login-form__desc"),children:[a("accept_conditions_login"),e.jsxDEV("span",{className:n("highlighted"),children:a("user_agreement")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:145,columnNumber:21},globalThis),a("agreement"),e.jsxDEV("span",{className:n("highlighted"),children:a("policy")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:149,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:143,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:142,columnNumber:17},globalThis),e.jsxDEV(A,{type:"submit",isDisabled:!i,onClick:s,children:a("button_next")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:152,columnNumber:17},globalThis),e.jsxDEV("p",{className:n("login-form__client"),children:[a("already_client"),e.jsxDEV("span",{className:n("highlighted"),children:a("here")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:161,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:159,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:135,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:126,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:117,columnNumber:9},globalThis):e.jsxDEV(B,{title:a("accept_you_profile_for_enter"),subtitle:a("sms_phone"),onSubmit:s=>{j(s)},buttonText:a("accept_phone"),onBack:()=>{o(y)}},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:168,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginForm/LoginForm.tsx",lineNumber:115,columnNumber:5},globalThis)},ne=()=>{const a=d(r=>r.modalSlice.isOpenLogin),c=v(),l=()=>{c(_()),c(u("login"))};return e.jsxDEV(O,{isVisible:a,onCancel:l,children:e.jsxDEV(Y,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginModal.tsx",lineNumber:19,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/LoginModal/LoginModal.tsx",lineNumber:18,columnNumber:5},globalThis)};export{ne as L};
