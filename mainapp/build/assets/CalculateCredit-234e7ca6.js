import{u as N,a as k,j as e,l as ee,E as T,n as be,d as de,p as t,o as ve,q as _e,r as Ne,t as fe,v as Fe,w as Ce,x as De,y as xe,z as Te,A as je,B as te,D as ye,N as Pe}from"./index-dae8a478.js";import{r as C,f as V,b as oe,j as le,k as Ee}from"./react-vendor-ede63a09.js";import{a as $,E as A,D as j,T as se,b as z,A as ke,L as Ve}from"./index-1a3bfbb8.js";import{P as Ue}from"./ProgressBar-7f87366a.js";import{u as re,F as W,b as K,a as O,c,f as D,g as ne}from"./form-vendor-6ec4e62a.js";import{V as we}from"./VideoPoster-bb9fcde2.js";import{S as ce,a as Me,M as Oe,U as Ie,A as qe,F as Ae,B as Be,b as Le,c as Ye,O as Re}from"./SourceOfIncomeModal-46572828.js";import{C as m}from"./Column-12a36b3d.js";import{D as B}from"./DropdownMenu-80891571.js";import{F as H}from"./FormContainer-e304b1bd.js";import{F as me}from"./FormattedInput-be861e0f.js";import{R as _}from"./Row-ebc0d7a6.js";import{I as $e,c as L}from"./IncreasePayment-d83cbb40.js";import{F as G}from"./FormCaption-1994956c.js";import{Y as ze,N as We,B as Ke,E as He,A as Ge,T as Je,C as Qe,M as Xe,I as Ze,P as ea}from"./Taxes-c6194b36.js";import{u as U}from"./i18n-vendor-aaeace9f.js";import{D as ie}from"./DoubleButtons-3e10f9e2.js";import{U as E,A as Y}from"./AddButton-54d505ec.js";import{R as aa}from"./RowTwo-8235f327.js";import{B as sa,P as ra,A as ia}from"./PartnerPayMortgage-0ea1c8d5.js";import{C as ta,a as oa,H as la}from"./HowMuchChildrens-72de2c92.js";import{F as na}from"./FamilyStatus-78c63120.js";import{I as ca}from"./Info-eaae0cc6.js";import{c as R,M as ma,A as pa,a as da,O as ua,b as pe,g as ae}from"./componentsByIncomeSource-e561c29d.js";import"./state-vendor-c4e6020a.js";import"./ui-vendor-d73673ed.js";import"./utils-vendor-dcc8b708.js";import"./components-vendor-632ebedf.js";import"./MortgageParameters-289e5df1.js";import"./PercentIcon-7aea594f.js";import"./useDropdownData-1b7be5d7.js";import"./Control-cb185895.js";import"./Calendar-b54b4861.js";import"./ShieldCheckIcon-5a79b22e.js";const ha=()=>{const[a,g]=C.useState(51130),[s,l]=C.useState(2654),[o,h]=C.useState([]),{t:i,i18n:v}=U(),{getContent:n}=$("calculate_credit_1"),y=C.useMemo(()=>[{value:"option_1",label:n("calculate_credit_target_option_1",i("calculate_credit_target_option_1"))},{value:"option_2",label:n("calculate_credit_target_option_2",i("calculate_credit_target_option_2"))},{value:"option_3",label:n("calculate_credit_target_option_3",i("calculate_credit_target_option_3"))},{value:"option_4",label:n("calculate_credit_target_option_4",i("calculate_credit_target_option_4"))},{value:"option_5",label:n("calculate_credit_target_option_5",i("calculate_credit_target_option_5"))},{value:"option_6",label:n("calculate_credit_target_option_6",i("calculate_credit_target_option_6"))}],[n,i]),S=C.useMemo(()=>[{value:"option_1",label:n("calculate_mortgage_when_options_1",i("calculate_mortgage_when_options_1"))},{value:"option_2",label:n("calculate_mortgage_when_options_2",i("calculate_mortgage_when_options_2"))},{value:"option_3",label:n("calculate_mortgage_when_options_3",i("calculate_mortgage_when_options_3"))},{value:"option_4",label:n("calculate_mortgage_when_options_4",i("calculate_mortgage_when_options_4"))}],[n,i]),J=C.useMemo(()=>[{value:"option_1",label:n("calculate_credit_prolong_option_1",i("calculate_credit_prolong_option_1"))},{value:"option_2",label:n("calculate_credit_prolong_option_2",i("calculate_credit_prolong_option_2"))},{value:"option_3",label:n("calculate_credit_prolong_option_3",i("calculate_credit_prolong_option_3"))},{value:"option_4",label:n("calculate_credit_prolong_option_4",i("calculate_credit_prolong_option_4"))},{value:"option_5",label:n("calculate_credit_prolong_option_5",i("calculate_credit_prolong_option_5"))},{value:"option_6",label:n("calculate_credit_prolong_option_6",i("calculate_credit_prolong_option_6"))},{value:"option_7",label:n("calculate_credit_prolong_option_7",i("calculate_credit_prolong_option_7"))}],[n,i]),{setFieldValue:f,values:u,errors:p,touched:F,setFieldTouched:P}=re(),I=N(d=>d.activeField),w=k();C.useEffect(()=>{(async()=>{try{const x=await(await fetch(`/api/get-cities?lang=${v.language}`)).json();if(x.status==="success"){const Z=x.data.map(q=>({value:q.value,label:q.name}));h(Z)}else console.error("Failed to fetch cities:",x.message)}catch(b){console.error("Error fetching cities:",b)}})()},[v.language]);const Q=d=>{w(ee("period")),f("period",d)},X=d=>{w(ee("monthlyPayment")),f("monthlyPayment",d)};return C.useEffect(()=>{(async()=>{try{if(I==="period"){const b=await L.calculateCreditPayment(u.loanAmount,u.period);Number.isNaN(b)||f("monthlyPayment",b)}else{const b=await L.calculateLoanPeriod(u.loanAmount,0,u.monthlyPayment);Number.isNaN(b)||f("period",b)}}catch(b){console.error("❌ Error calculating credit values:",b)}})()},[I,f,u.loanAmount,u.monthlyPayment,u.period]),C.useLayoutEffect(()=>{(async()=>{try{const b=await L.calculateCreditPayment(u.loanAmount,1),x=await L.calculateCreditPayment(u.loanAmount,30);Number.isNaN(b)||g(b),b===0&&g(1),Number.isNaN(x)||l(x)}catch(b){console.error("❌ Error calculating payment limits:",b),g(51130),l(2654)}})()},[u.loanAmount]),e.jsxDEV(e.Fragment,{children:e.jsxDEV(H,{children:[e.jsxDEV(G,{title:i("sidebar_sub_calculate_credit")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:174,columnNumber:9},globalThis),e.jsxDEV(_,{children:[e.jsxDEV(m,{children:e.jsxDEV(B,{title:n("calculate_why",i("calculate_why")),data:y,placeholder:n("calculate_credit_target_ph",i("calculate_credit_target_ph")),value:u.purposeOfLoan,onChange:d=>f("purposeOfLoan",d),onBlur:()=>P("purposeOfLoan",!0),error:F.purposeOfLoan&&p.purposeOfLoan},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:178,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:177,columnNumber:11},globalThis),e.jsxDEV(m,{children:[e.jsxDEV(me,{handleChange:d=>{w(ee("period")),f("loanAmount",d)},name:"loanAmount",title:n("calculate_amount",i("calculate_amount")),value:u.loanAmount,placeholder:"1,000,000",error:p.loanAmount},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:189,columnNumber:13},globalThis),p.loanAmount&&e.jsxDEV(A,{error:p.loanAmount},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:200,columnNumber:35},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:188,columnNumber:11},globalThis),e.jsxDEV(m,{children:e.jsxDEV(B,{title:n("calculate_when",i("calculate_when")),data:S,placeholder:n("calculate_mortgage_when_options_Time",i("calculate_mortgage_when_options_Time")),value:u.whenDoYouNeedMoney,onChange:d=>f("whenDoYouNeedMoney",d),onBlur:()=>P("whenDoYouNeedMoney",!0),error:F.whenDoYouNeedMoney&&p.whenDoYouNeedMoney},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:204,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:203,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:176,columnNumber:9},globalThis),e.jsxDEV(_,{children:e.jsxDEV(m,{children:e.jsxDEV(B,{title:n("calculate_prolong",i("calculate_prolong")),data:J,placeholder:n("calculate_credit_prolong_ph",i("calculate_credit_prolong_ph")),value:u.loanDeferral,onChange:d=>f("loanDeferral",d),onBlur:()=>P("loanDeferral",!0),error:F.loanDeferral&&p.loanDeferral},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:217,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:216,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:215,columnNumber:9},globalThis),u.purposeOfLoan&&u.purposeOfLoan==="option_2"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:231,columnNumber:13},globalThis),e.jsxDEV(_,{children:[e.jsxDEV(m,{children:[e.jsxDEV(me,{handleChange:d=>{f("priceOfEstate",d)},name:"PriceOfEstate",title:i("calculate_mortgage_price"),value:u.priceOfEstate,placeholder:"1,000,000",error:p.priceOfEstate},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:234,columnNumber:17},globalThis),p.priceOfEstate&&e.jsxDEV(A,{error:p.priceOfEstate},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:244,columnNumber:42},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:233,columnNumber:15},globalThis),e.jsxDEV(m,{children:e.jsxDEV(B,{title:i("calculate_mortgage_city"),data:o,placeholder:i("city"),value:u.cityWhereYouBuy,onChange:d=>f("cityWhereYouBuy",d),onBlur:()=>P("cityWhereYouBuy",!0),searchable:!0,searchPlaceholder:i("search"),nothingFoundText:i("nothing_found"),error:F.cityWhereYouBuy&&p.cityWhereYouBuy},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:247,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:246,columnNumber:15},globalThis),e.jsxDEV(m,{children:[e.jsxDEV(se,{title:i("have_mortgage_title")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:261,columnNumber:17},globalThis),e.jsxDEV(ze,{value:u.haveMortgage,onChange:d=>f("haveMortgage",d),error:F.haveMortgage&&p.haveMortgage},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:262,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:260,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:232,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:230,columnNumber:11},globalThis),e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:272,columnNumber:9},globalThis),e.jsxDEV(_,{children:[e.jsxDEV(m,{children:[e.jsxDEV(ce,{disableCurrency:!0,unitsMax:i("calculate_mortgage_period_units_max"),unitsMin:i("calculate_mortgage_period_units_min"),value:u.period,name:"Period",min:1,max:30,error:p.period,title:i("calculate_mortgage_period"),handleChange:Q},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:276,columnNumber:13},globalThis),p.period&&e.jsxDEV(A,{error:p.period},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:288,columnNumber:31},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:275,columnNumber:11},globalThis),e.jsxDEV(m,{children:[e.jsxDEV(ce,{unitsMax:"₪",unitsMin:"₪",name:"MonthlyPayment",min:s,max:a,error:p.monthlyPayment,title:i("calculate_mortgage_initial_payment"),handleChange:X,value:u.monthlyPayment},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:292,columnNumber:13},globalThis),e.jsxDEV($e,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:303,columnNumber:13},globalThis),p.monthlyPayment&&e.jsxDEV(A,{error:p.monthlyPayment},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:304,columnNumber:39},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:291,columnNumber:11},globalThis),e.jsxDEV(m,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:307,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:274,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:173,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStepForm/FirstStepForm.tsx",lineNumber:172,columnNumber:5},globalThis)},ga=()=>O().shape({purposeOfLoan:c().required(t("error_select_answer","Please select an answer")),loanAmount:D().when("purposeOfLoan",{is:"option_6",then:a=>a.max(1e6,t("error_loan_of_amount_credit_max_1000000","Maximum loan amount is 1,000,000 NIS")),otherwise:a=>a.max(2e5,t("error_loan_of_amount_credit_max_200000","Maximum loan amount is 200,000 NIS"))}).required(t("error_required_to_fill_out","This field is required")),whenDoYouNeedMoney:c().required(t("error_select_answer","Please select an answer")),loanDeferral:c().required(t("error_select_answer","Please select an answer")),priceOfEstate:D().when("purposeOfLoan",{is:"option_2",then:a=>a.required(t("error_required_to_fill_out","This field is required")),otherwise:a=>a.notRequired()}),cityWhereYouBuy:c().when("purposeOfLoan",{is:"option_2",then:a=>a.required(t("error_select_answer","Please select an answer")),otherwise:a=>a.notRequired()}),haveMortgage:c().when("purposeOfLoan",{is:"option_2",then:a=>a.required(t("error_select_answer","Please select an answer")),otherwise:a=>a.notRequired()}),period:D().min(1,t("error_min_credit_period","Minimum period is 1 year")).max(30,t("error_max_credit_period","Maximum period is 30 years")).required(t("error_required_to_fill_out","This field is required")),monthlyPayment:D().required(t("error_required_to_fill_out","This field is required"))}),Sa=()=>{const{t:a,i18n:g}=U(),s=k(),l=V(),o=N(v=>v.credit),h=N(v=>v.login.isLogin),i={purposeOfLoan:o.purposeOfLoan||"",loanAmount:o.loanAmount||2e5,whenDoYouNeedMoney:o.whenDoYouNeedMoney||"",loanDeferral:o.loanDeferral||"",priceOfEstate:o.priceOfEstate||null,cityWhereYouBuy:o.cityWhereYouBuy||"",haveMortgage:o.haveMortgage||null,period:o.period||30,monthlyPayment:o.monthlyPayment||5368};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(W,{initialValues:i,validationSchema:ga(),validateOnMount:!0,onSubmit:v=>{s(T(v)),h?v.purposeOfLoan==="option_2"&&v.haveMortgage==="yes"?l("/services/refinance-mortgage/1"):l("/services/calculate-credit/2"):(s(be()),s(de("phoneVerification")))},children:e.jsxDEV(K,{children:[e.jsxDEV(z,{children:[e.jsxDEV(we,{title:a("sidebar_sub_calculate_credit"),text:a("calculate_mortgage_banner_subtext"),size:"small"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStep.tsx",lineNumber:106,columnNumber:13},globalThis),e.jsxDEV(ha,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStep.tsx",lineNumber:111,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStep.tsx",lineNumber:105,columnNumber:11},globalThis),e.jsxDEV(Me,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStep.tsx",lineNumber:113,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStep.tsx",lineNumber:104,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStep.tsx",lineNumber:84,columnNumber:7},globalThis),e.jsxDEV(Oe,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStep.tsx",lineNumber:116,columnNumber:7},globalThis),e.jsxDEV(ke,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStep.tsx",lineNumber:117,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FirstStep/FirstStep.tsx",lineNumber:83,columnNumber:5},globalThis)},ba=()=>{const{t:a,i18n:g}=U(),{getContent:s}=$("mortgage_step4"),l=N(h=>h.login.loginData),o=N(h=>h.credit);return e.jsxDEV(H,{children:[e.jsxDEV(G,{title:s("calculate_credit_final",a("calculate_credit_final"))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:22,columnNumber:7},globalThis),e.jsxDEV(Ie,{credit:o.loanAmount,nameSurname:l==null?void 0:l.nameSurname,phoneNumber:l==null?void 0:l.phoneNumber},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:23,columnNumber:7},globalThis),e.jsxDEV(qe,{text:s("calculate_credit_warning",a("calculate_credit_warning"))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:28,columnNumber:7},globalThis),e.jsxDEV(_,{children:e.jsxDEV(Ae,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:30,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:29,columnNumber:7},globalThis),e.jsxDEV(Be,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:32,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FourthStep/FourthStepForm/FourthStepForm.tsx",lineNumber:21,columnNumber:5},globalThis)},va={selectedBank:"",selectedOffer:null},_a=O().shape({selectedBank:c(),selectedOffer:O().nullable()}),Na=()=>{const a=k(),g=V(),s=N(o=>o.login.loginData),l=N(o=>o.login.isLogin);return e.jsxDEV(W,{initialValues:va,validationSchema:_a,validateOnMount:!0,onSubmit:o=>{console.log("Saving credit data and proceeding...",o),a(T(o)),!l||!(s!=null&&s.phoneNumber)?(console.log("User not authenticated, opening auth modal"),a(ve()),a(de("signUp"))):(console.log("User authenticated, proceeding to application"),g("/services/application-submitted"))},children:e.jsxDEV(K,{children:[e.jsxDEV(z,{children:e.jsxDEV(ba,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FourthStep/FourthStep.tsx",lineNumber:55,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FourthStep/FourthStep.tsx",lineNumber:54,columnNumber:9},globalThis),e.jsxDEV(ie,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FourthStep/FourthStep.tsx",lineNumber:57,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FourthStep/FourthStep.tsx",lineNumber:53,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/FourthStep/FourthStep.tsx",lineNumber:31,columnNumber:5},globalThis)},fa=()=>{const{t:a,i18n:g}=U(),{getContent:s}=$("calculate_credit_2"),{values:l}=re(),o=N(h=>h.login.loginData);return e.jsxDEV(H,{children:[e.jsxDEV(G,{title:s("calculate_credit_step2_title",a("calculate_mortgage_step2_title"))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:43,columnNumber:7},globalThis),e.jsxDEV(aa,{children:[e.jsxDEV(ca,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:45,columnNumber:9},globalThis),e.jsxDEV(E,{name:o==null?void 0:o.nameSurname,phone:o==null?void 0:o.phoneNumber},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:46,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:44,columnNumber:7},globalThis),e.jsxDEV(_,{children:[e.jsxDEV(We,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:52,columnNumber:9},globalThis),e.jsxDEV(Ke,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:53,columnNumber:9},globalThis),e.jsxDEV(He,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:54,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:51,columnNumber:7},globalThis),e.jsxDEV(_,{children:[e.jsxDEV(m,{style:{gap:"2rem"},children:[e.jsxDEV(Ge,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:58,columnNumber:11},globalThis),l.additionalCitizenships==="yes"&&e.jsxDEV(ta,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:59,columnNumber:55},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:57,columnNumber:9},globalThis),e.jsxDEV(m,{style:{gap:"2rem"},children:[e.jsxDEV(Je,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:62,columnNumber:11},globalThis),l.taxes==="yes"&&e.jsxDEV(oa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:63,columnNumber:38},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:61,columnNumber:9},globalThis),e.jsxDEV(m,{style:{gap:"2rem"},children:[e.jsxDEV(Qe,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:66,columnNumber:11},globalThis),l.childrens==="yes"&&e.jsxDEV(la,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:67,columnNumber:42},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:65,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:56,columnNumber:7},globalThis),e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:71,columnNumber:7},globalThis),e.jsxDEV(_,{children:[e.jsxDEV(Xe,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:73,columnNumber:9},globalThis),e.jsxDEV(Ze,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:74,columnNumber:9},globalThis),e.jsxDEV(ea,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:75,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:72,columnNumber:7},globalThis),e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:78,columnNumber:7},globalThis),e.jsxDEV(_,{children:[e.jsxDEV(sa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:81,columnNumber:9},globalThis),e.jsxDEV(m,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:82,columnNumber:9},globalThis),e.jsxDEV(m,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:83,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:80,columnNumber:7},globalThis),e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:86,columnNumber:7},globalThis),e.jsxDEV(_,{children:[e.jsxDEV(na,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:89,columnNumber:9},globalThis),e.jsxDEV(m,{children:l.familyStatus==="option_2"&&e.jsxDEV(ra,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:91,columnNumber:50},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:90,columnNumber:9},globalThis),e.jsxDEV(m,{children:l.partnerPayMortgage==="yes"&&l.familyStatus==="option_2"&&e.jsxDEV(ia,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:95,columnNumber:51},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:93,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:88,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStepForm/SecondStepForm.tsx",lineNumber:42,columnNumber:5},globalThis)},Fa=O().shape({nameSurname:c().required(t("error_name_surname","Please enter your name and surname")),birthday:c().required(t("error_date","Please enter a valid date")),education:c().required(t("error_select_answer","Please select an answer")),additionalCitizenships:c().required(t("error_select_answer","Please select an answer")),citizenshipsDropdown:ne().when("additionalCitizenships",{is:"yes",then:a=>a.min(1,t("error_select_answer","Please select an answer")),otherwise:a=>a.min(0)}),taxes:c().required(t("error_select_answer","Please select an answer")),countriesPayTaxes:ne().when("taxes",{is:"yes",then:a=>a.min(1,t("error_select_answer","Please select an answer")),otherwise:a=>a.min(0)}),childrens:c().required(t("error_select_answer","Please select an answer")),howMuchChildrens:D().required(t("error_fill_field","Please fill this field")),medicalInsurance:c().required(t("error_select_answer","Please select an answer")),isForeigner:c().required(t("error_select_answer","Please select an answer")),publicPerson:c().required(t("error_select_answer","Please select an answer")),borrowers:D().min(1,t("error_quantity_borrowers","At least one borrower is required")).required(t("error_quantity_borrowers","Number of borrowers is required")),familyStatus:c().required(t("error_select_answer","Please select an answer")),partnerPayMortgage:c().when("familyStatus",{is:"Married",then:a=>a.required(t("error_select_answer","Please select an answer")),otherwise:a=>a.notRequired()})}),Ca=()=>{const a=k(),g=V(),s=N(h=>h.credit),o={nameSurname:N(h=>h.login.loginData).nameSurname||s.nameSurname||"",birthday:s.birthday||new Date(new Date().setFullYear(new Date().getFullYear()-18)).getTime(),education:s.education||"",additionalCitizenships:s.additionalCitizenships||null,citizenshipsDropdown:s.citizenshipsDropdown||[],taxes:s.taxes||null,countriesPayTaxes:s.countriesPayTaxes||[],childrens:s.childrens||null,howMuchChildrens:s.howMuchChildrens||1,medicalInsurance:s.medicalInsurance||null,isForeigner:s.isForeigner||null,publicPerson:s.publicPerson||null,borrowers:s.borrowers||null,familyStatus:s.familyStatus||"",partnerPayMortgage:s.partnerPayMortgage||null,addPartner:s.addPartner||""};return e.jsxDEV(W,{initialValues:o,validationSchema:Fa,validateOnMount:!0,onSubmit:h=>{a(T(h)),g("/services/calculate-credit/3")},children:e.jsxDEV(K,{children:[e.jsxDEV(z,{children:e.jsxDEV(fa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStep.tsx",lineNumber:52,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStep.tsx",lineNumber:51,columnNumber:9},globalThis),e.jsxDEV(ie,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStep.tsx",lineNumber:54,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStep.tsx",lineNumber:50,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/SecondStep/SecondStep.tsx",lineNumber:41,columnNumber:5},globalThis)},Da=()=>{const{t:a,i18n:g}=U(),{getContent:s}=$("calculate_credit_3"),l=V(),{values:o}=re(),{mainSourceOfIncome:h,additionalIncome:i,obligation:v}=o,y=(r=>({option_1:"employee",option_2:"selfemployed",option_3:"selfemployed",option_4:"pension",option_5:"student",option_6:"unemployed",option_7:"other"})[r]||"")(h);console.log("🔍 Credit Step 3 - Income Source Mapping:",{originalValue:h,mappedKey:y,hasComponents:!!R[y],availableKeys:Object.keys(R)});const S=k(),J=N(r=>r.borrowers.sourceOfIncomeModal),f=N(r=>r.borrowers.additionalIncomeModal),u=N(r=>r.borrowers.obligationModal),p=N(r=>r.otherBorrowers.otherBorrowers),F=N(r=>r.login.loginData),P=()=>{S(T(o)),S(_e())},I=()=>{S(T(o)),S(Ne())},w=()=>{S(T(o)),S(fe())},Q=r=>{S(Fe({id:r}))},X=r=>{S(Ce({id:r}))},d=r=>{S(De({id:r}))},b=r=>{S(xe(r))},x=r=>{S(Te(r))},Z=r=>{S(je(r))},q=r=>{S(te(r));const ge=!p.some(Se=>Se.id===r)?ae(p):r;l({pathname:"/services/other-borrowers/1/",search:le({pageId:String(ge)}).toString()})},ue=()=>{S(te(ae(p))),S(T(o)),l({pathname:"/services/other-borrowers/1/",search:le({pageId:ae(p).toString()}).toString()})},he=r=>{S(ye(r))};return e.jsxDEV(H,{children:[e.jsxDEV(G,{title:s("calculate_credit_step3_title",a("credit_step3_title"))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:169,columnNumber:7},globalThis),e.jsxDEV(E,{name:F==null?void 0:F.nameSurname,phone:F==null?void 0:F.phoneNumber},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:171,columnNumber:7},globalThis),e.jsxDEV(_,{children:[e.jsxDEV(ma,{screenLocation:"calculate_credit_3"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:177,columnNumber:9},globalThis),R[y]&&R[y].map((r,M)=>e.jsxDEV(oe.Fragment,{children:r},M,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:181,columnNumber:15},globalThis)),e.jsxDEV(m,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:184,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:176,columnNumber:7},globalThis),e.jsxDEV(_,{children:h&&e.jsxDEV(m,{children:[J.map(r=>e.jsxDEV(E,{onEdit:()=>b(r.id),onDelete:()=>Q(r.id),enableEdit:!0,name:`${s("calculate_credit_source_of_income",a("main_income_source"))}${r.id+1}`},r.id,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:190,columnNumber:15},globalThis)),e.jsxDEV(Y,{onClick:P,color:"#FBE54D",value:s("calculate_credit_add_place_to_work",a("add_place_to_work")),variant:"none"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:198,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:188,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:186,columnNumber:7},globalThis),e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:208,columnNumber:7},globalThis),e.jsxDEV(_,{children:[e.jsxDEV(pa,{screenLocation:"calculate_credit_3"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:211,columnNumber:9},globalThis),i&&i!=="option_1"&&e.jsxDEV(da,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:213,columnNumber:11},globalThis),e.jsxDEV(m,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:215,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:210,columnNumber:7},globalThis),i&&i!=="option_1"&&e.jsxDEV(_,{children:e.jsxDEV(m,{children:[f.map(r=>e.jsxDEV(E,{onEdit:()=>x(r.id),onDelete:()=>X(r.id),enableEdit:!0,name:`${s("calculate_credit_additional_income",a("additional_source_of_income"))}${r.id+1}`},r.id,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:222,columnNumber:15},globalThis)),e.jsxDEV(Y,{onClick:I,color:"#FBE54D",value:s("calculate_credit_add_additional_income",a("add_additional_source_of_income")),variant:"none"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:230,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:220,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:219,columnNumber:9},globalThis),e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:240,columnNumber:7},globalThis),e.jsxDEV(_,{children:[e.jsxDEV(ua,{screenLocation:"calculate_credit_3"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:243,columnNumber:9},globalThis),pe[v]&&pe[v].map((r,M)=>e.jsxDEV(oe.Fragment,{children:r},M,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:246,columnNumber:13},globalThis)),e.jsxDEV(m,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:248,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:242,columnNumber:7},globalThis),v&&v!=="option_1"&&e.jsxDEV(_,{children:e.jsxDEV(m,{children:[u.map(r=>e.jsxDEV(E,{onEdit:()=>Z(r.id),onDelete:()=>d(r.id),enableEdit:!0,name:`${s("calculate_credit_obligation",a("obligation"))}${r.id+1}`},r.id,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:255,columnNumber:15},globalThis)),e.jsxDEV(Y,{onClick:w,color:"#FBE54D",value:s("calculate_credit_add_obligation",a("add_obligation")),variant:"none"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:263,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:253,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:252,columnNumber:9},globalThis),e.jsxDEV(j,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:273,columnNumber:7},globalThis),e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[p&&e.jsxDEV(se,{title:s("calculate_credit_borrower",a("borrower"))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:275,columnNumber:28},globalThis),e.jsxDEV(_,{style:{columnGap:"2rem"},children:[p.map(r=>e.jsxDEV(m,{children:e.jsxDEV(E,{onEdit:()=>q(r.id),onDelete:()=>he(r.id),enableEdit:!0,name:r.nameSurname},r.id,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:279,columnNumber:15},globalThis)},r.id,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:278,columnNumber:13},globalThis)),!p&&e.jsxDEV(se,{title:s("calculate_credit_borrower",a("borrower"))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:288,columnNumber:31},globalThis),e.jsxDEV(m,{children:e.jsxDEV(Y,{value:s("calculate_credit_add_borrower",a("add_borrower")),onClick:ue,style:{height:"3.5rem",borderRadius:"0.25rem",padding:"0",width:"13.125rem"}},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:290,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:289,columnNumber:11},globalThis),e.jsxDEV(m,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:301,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:276,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:274,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStepForm/ThirdStepForm.tsx",lineNumber:168,columnNumber:5},globalThis)},xa=()=>O().shape({mainSourceOfIncome:c().required(t("error_select_answer","Please select an answer")).test("not-empty",t("error_select_answer","Please select an answer"),a=>a!=null&&a!==""),monthlyIncome:D().when("mainSourceOfIncome",{is:a=>!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(a),then:a=>a.required(t("error_fill_field","Please fill this field")),otherwise:a=>a.notRequired()}),startDate:c().when("mainSourceOfIncome",{is:a=>!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(a),then:a=>a.required(t("error_date","Please enter a valid date")),otherwise:a=>a.notRequired()}),fieldOfActivity:c().when("mainSourceOfIncome",{is:a=>a!=null&&a!==""&&!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(a),then:a=>a.required(t("error_select_field_of_activity","Please select field of activity")),otherwise:a=>a.notRequired()}),profession:c().when("mainSourceOfIncome",{is:a=>!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(a),then:a=>a.required(t("error_fill_field","Please fill this field")),otherwise:a=>a.notRequired()}),companyName:c().when("mainSourceOfIncome",{is:a=>!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(a),then:a=>a.required(t("error_fill_field","Please fill this field")),otherwise:a=>a.notRequired()}),additionalIncome:c().required(t("error_select_one_of_the_options","Please select one of the options")).test("not-empty",t("error_select_one_of_the_options","Please select one of the options"),a=>a!=null&&a!==""),additionalIncomeAmount:D().when("additionalIncome",{is:a=>a!=null&&a!==""&&a!=="option_1",then:a=>a.required(t("error_fill_field","Please fill this field")),otherwise:a=>a.notRequired()}),obligation:c().required(t("error_select_one_of_the_options","Please select one of the options")),bank:c().when("obligation",{is:a=>a!=null&&a!==""&&a!=="option_1",then:a=>a.required(t("error_select_bank","Please select a bank")),otherwise:a=>a.notRequired()}),monthlyPaymentForAnotherBank:D().when("obligation",{is:a=>a!=null&&a!==""&&a!=="option_1",then:a=>a.required(t("error_fill_field","Please fill this field")),otherwise:a=>a.notRequired()}),endDate:c().when("obligation",{is:a=>a!=null&&a!==""&&a!=="option_1",then:a=>a.required(t("error_date","Please enter a valid date")),otherwise:a=>a.notRequired()})}),Ta=xa(),ja=()=>{const a=k(),g=V(),s=N(o=>o.credit),l={mainSourceOfIncome:s.mainSourceOfIncome||"",monthlyIncome:s.monthlyIncome||null,startDate:s.startDate||new Date().getTime(),fieldOfActivity:s.fieldOfActivity||"",profession:s.profession||"",companyName:s.companyName||"",additionalIncome:s.additionalIncome||"",additionalIncomeAmount:s.additionalIncomeAmount||null,obligation:s.obligation||"option_1",bank:s.bank||"",monthlyPaymentForAnotherBank:s.monthlyPaymentForAnotherBank||null,endDate:s.endDate||new Date().getTime(),amountIncomeCurrentYear:(s==null?void 0:s.amountIncomeCurrentYear)||null,noIncome:s.noIncome||new Date().getTime()};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(W,{initialValues:l,validationSchema:Ta,validateOnMount:!0,onSubmit:o=>{a(T(o)),g("/services/calculate-credit/4")},children:e.jsxDEV(K,{children:[e.jsxDEV(z,{children:e.jsxDEV(Da,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStep.tsx",lineNumber:52,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStep.tsx",lineNumber:51,columnNumber:11},globalThis),e.jsxDEV(ie,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStep.tsx",lineNumber:54,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStep.tsx",lineNumber:50,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStep.tsx",lineNumber:41,columnNumber:7},globalThis),e.jsxDEV(Le,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStep.tsx",lineNumber:57,columnNumber:7},globalThis),e.jsxDEV(Ye,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStep.tsx",lineNumber:58,columnNumber:7},globalThis),e.jsxDEV(Re,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStep.tsx",lineNumber:59,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/pages/ThirdStep/ThirdStep.tsx",lineNumber:40,columnNumber:5},globalThis)},ns=()=>{const{stepNumber:a}=Ee(),{t:g,i18n:s}=U(),l=V();if(!N(v=>v.login.isLogin)&&a!=="1"){l("/services/calculate-credit/1");return}const h=[g("mobile_step_1"),g("mobile_step_2"),g("mobile_step_3"),g("mobile_step_4")];let i;switch(a){case"1":i=e.jsxDEV(Sa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/CalculateCredit.tsx",lineNumber:38,columnNumber:23},globalThis);break;case"2":i=e.jsxDEV(Ca,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/CalculateCredit.tsx",lineNumber:41,columnNumber:23},globalThis);break;case"3":i=e.jsxDEV(ja,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/CalculateCredit.tsx",lineNumber:44,columnNumber:23},globalThis);break;case"4":i=e.jsxDEV(Na,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/CalculateCredit.tsx",lineNumber:47,columnNumber:23},globalThis);break;default:i=e.jsxDEV(Pe,{type:"NOT_FOUND"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/CalculateCredit.tsx",lineNumber:50,columnNumber:23},globalThis);break}return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(Ue,{progress:a,data:h},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/CalculateCredit.tsx",lineNumber:56,columnNumber:7},globalThis),e.jsxDEV(C.Suspense,{fallback:e.jsxDEV(Ve,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/CalculateCredit.tsx",lineNumber:57,columnNumber:27},globalThis),children:i},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/CalculateCredit.tsx",lineNumber:57,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateCredit/CalculateCredit.tsx",lineNumber:55,columnNumber:5},globalThis)};export{ns as default};
