import{j as e}from"./ui-vendor-99260b86.js";import{u as o}from"./form-vendor-6d56d196.js";import{a as n,E as t,S as a}from"./index-8ba31d2c.js";import{a as r}from"./useDropdownData-1fd3cd06.js";import{C as l}from"./Column-14d6ba45.js";import{M as i}from"./AddButton-e2a8d33a.js";import{u as s}from"./i18n-vendor-18addd5f.js";import{D as c}from"./DropdownMenu-8b5ff91a.js";import{F as d}from"./FormattedInput-2b386cd9.js";import{u as m}from"./react-vendor-21ec1e1c.js";import{C as u}from"./Calendar-a0d682f1.js";import{c as h}from"./index-b75527a0.js";const _=e=>Math.max(0,...e.map(e=>e.id))+1,p=()=>{const{t:o,i18n:n}=s();return e.jsx(i,{children:o("add_inc")})},g=({screenLocation:a="mortgage_step3",excludeNoIncome:i=!1})=>{const{t:d,i18n:m}=s(),{getContent:u}=n(a),{values:h,setFieldValue:_,errors:g,setFieldTouched:j,touched:x,setFieldError:f}=o(),y=e=>{if(!e)return!1;const o=e.toLowerCase();return"option_1"===o||"1"===o||o.includes("no_additional")||o.includes("no additional")||o.includes("none")||"no_additional_income"===o||e.includes("אין הכנסות נוספות")||e.includes("אין הכנסות")||e.includes("ללא הכנסות נוספות")||e.includes("ללא הכנסות")||o.includes("ein")||o.includes("לא")||"1"===o||o.startsWith("option_")&&o.endsWith("1")},b=null==a?void 0:a.includes("credit"),v=null==a?void 0:a.includes("refinance"),I=r(a,"additional_income","full"),F=(null==I?void 0:I.options)||[],k=i?F.filter(e=>!y(e.value)&&"no_additional_income"!==e.value):F,A=(()=>{if(!x.additionalIncome)return!1;if(!g.additionalIncome)return!1;return!(h.additionalIncome&&""!==h.additionalIncome&&null!==h.additionalIncome&&void 0!==h.additionalIncome)})();return e.jsxs(l,{children:[e.jsx(c,{title:(b||v)&&I?I.label:u("calculate_mortgage_has_additional",d("calculate_mortgage_has_additional")),placeholder:(b||v)&&I?I.placeholder:u("calculate_mortgage_has_additional_ph",d("calculate_mortgage_has_additional_ph")),data:k,value:h.additionalIncome,onChange:e=>{_("additionalIncome",e),j("additionalIncome",!0),(y(e)||"no_additional_income"===e)&&(_("additionalIncomeAmount",null),j("additionalIncomeAmount",!1),f("additionalIncomeAmount",void 0)),f("additionalIncome",void 0)},onBlur:()=>j("additionalIncome",!0),error:!!A&&g.additionalIncome,disabled:(b||v)&&(null==I?void 0:I.loading)}),(b||v)&&(null==I?void 0:I.error)&&e.jsx(t,{error:u("error_dropdown_load_failed","Failed to load additional income options. Please refresh the page.")}),e.jsx(p,{})]})},j=()=>{const{t:n,i18n:a}=s(),{values:r,setFieldValue:i,errors:c,setFieldTouched:m,touched:u}=o();return e.jsxs(l,{children:[e.jsx(d,{title:n("calculate_mortgage_monthly_income"),placeholder:n("calculate_mortgage_monthly_income_ph"),value:r.additionalIncomeAmount,handleChange:e=>i("additionalIncomeAmount",e),onBlur:()=>m("additionalIncomeAmount"),error:u.additionalIncomeAmount&&c.additionalIncomeAmount,size:"xs"}),u.additionalIncomeAmount&&c.additionalIncomeAmount&&e.jsx(t,{error:c.additionalIncomeAmount})]})},x=({screenLocation:a})=>{const i=m(),d=a||(i.pathname.includes("calculate-mortgage")?"mortgage_step3":i.pathname.includes("refinance-mortgage")?"refinance_step3":i.pathname.includes("other-borrowers")?"other_borrowers_step2":"credit_step3");s();const{getContent:u}=n(d),{values:h,setFieldValue:_,touched:p,errors:g,setFieldTouched:j,setFieldError:x}=o(),f=r(d,"obligations","full"),y="loading"in f,b=y?f.options:f,v=!!y&&f.loading,I=y?f.error:null,F=y?f.label:null,k=y?f.placeholder:null,A=p.obligation&&g.obligation;return e.jsxs(l,{children:[e.jsx(c,{title:F||u("calculate_credit_existing_debts","חובות קיימים"),data:b,placeholder:k||u("calculate_credit_existing_debts_ph","האם יש לך חובות או התחייבויות קיימים?"),value:h.obligation,onChange:e=>{_("obligation",e),j("obligation",!0),(e=>{if(!e)return!1;const o=e.toLowerCase();return"option_1"===o||"no_obligations"===o||o.includes("no_obligation")||o.includes("no obligation")||o.includes("none")||e.includes("אין התחייבות")||e.includes("אין חובות")||e.includes("ללא התחייבות")||e.includes("ללא חובות")||o.includes("ein")||o.includes("לא")||"1"===o||"5"===o||o.startsWith("option_")&&(o.endsWith("1")||o.endsWith("5"))})(e)&&(_("bank",""),_("monthlyPaymentForAnotherBank",null),_("endDate",""),j("bank",!1),j("monthlyPaymentForAnotherBank",!1),j("endDate",!1),x("bank",void 0),x("monthlyPaymentForAnotherBank",void 0),x("endDate",void 0))},onBlur:()=>j("obligation",!0),error:A,disabled:v}),I&&e.jsx(t,{error:u("error_dropdown_load_failed","טעינת אפשרויות החובות נכשלה. אנא רענן את הדף.")})]})},f=({screenLocation:t="calculate_credit_3"})=>{s();const{getContent:a}=n("common"),{values:r,setFieldValue:i,errors:d,touched:m,setFieldTouched:u}=o(),h="calculate_credit_3"===t&&r.obligation,_=h?a("obligation_bank_title","Bank Lender"):a("bank_title","Bank"),p=a(h?"obligation_bank_placeholder":"bank_placeholder","Select bank"),g=[{value:"1",label:a("bank_option_1","Bank Hapoalim")},{value:"2",label:a("bank_option_2","Bank Leumi")},{value:"3",label:a("bank_option_3","Bank Discount")},{value:"4",label:a("bank_option_4","Bank Mizrahi")},{value:"5",label:a("bank_option_5","Other Bank")}];return e.jsx(l,{children:e.jsx(c,{title:_,placeholder:p,data:g,value:r.bank,onChange:e=>i("bank",e),onBlur:()=>u("bank"),error:m.bank&&d.bank,disabled:!1})})},y=()=>{const{t:a,i18n:r}=s(),{getContent:i}=n("common"),{values:c,setFieldValue:d,errors:m}=o();return e.jsxs(l,{children:[e.jsx(u,{title:i("obligation_end_date_title","Obligation End Date"),value:c.endDate,onChange:e=>d("endDate",e),placeholder:i("date_placeholder",a("date_ph")),error:m.endDate,blockPastDates:!0}),m.endDate&&e.jsx(t,{error:m.endDate})]})},b=()=>{s();const{getContent:a}=n("common"),{values:r,setFieldValue:i,errors:c,setFieldTouched:m,touched:u}=o();return e.jsxs(l,{children:[e.jsx(d,{value:r.monthlyPaymentForAnotherBank,title:a("obligation_monthly_payment_title","Monthly Payment"),placeholder:a("obligation_monthly_payment_placeholder","Enter monthly payment amount"),name:"MonthlyPayment",handleChange:e=>i("monthlyPaymentForAnotherBank",e),onBlur:()=>m("monthlyPayment"),error:u.monthlyPaymentForAnotherBank&&c.monthlyPaymentForAnotherBank,size:"xs"}),u.monthlyPaymentForAnotherBank&&c.monthlyPaymentForAnotherBank&&e.jsx(t,{error:c.monthlyPaymentForAnotherBank})]})},v={bank_loan:[e.jsx(f,{},"Bank"),e.jsx(b,{},"MonthlyPayment"),e.jsx(y,{},"EndDate")],consumer_credit:[e.jsx(f,{},"Bank"),e.jsx(b,{},"MonthlyPayment"),e.jsx(y,{},"EndDate")],credit_card:[e.jsx(b,{},"MonthlyPayment")],other:[e.jsx(b,{},"MonthlyPayment")]},I=({screenLocation:a})=>{const i=m(),d=a||(i.pathname.includes("calculate-mortgage")?"mortgage_step3":i.pathname.includes("refinance-mortgage")?"refinance_step3":i.pathname.includes("other-borrowers")?"other_borrowers_step2":"credit_step3");s();const{getContent:u}=n(d),{values:h,setFieldValue:_,errors:p,touched:g,setFieldTouched:j}=o(),x=r(d,"main_source","full"),f=(()=>{if(!g.mainSourceOfIncome)return!1;if(!p.mainSourceOfIncome)return!1;return!(h.mainSourceOfIncome&&""!==h.mainSourceOfIncome&&null!==h.mainSourceOfIncome&&void 0!==h.mainSourceOfIncome)})();return e.jsxs(l,{children:[e.jsx(c,{data:x.options,title:x.label||u("calculate_credit_main_source","מקור הכנסה עיקרי"),placeholder:x.placeholder||u("calculate_credit_main_source_ph","בחר מקור הכנסה עיקרי"),value:h.mainSourceOfIncome||"",onChange:e=>{_("mainSourceOfIncome",e,!0),j("mainSourceOfIncome",!0,!1)},onBlur:()=>j("mainSourceOfIncome",!0,!0),error:!!f&&p.mainSourceOfIncome,disabled:x.loading}),x.error&&e.jsx(t,{error:u("error_dropdown_load_failed","טעינת אפשרויות מקור ההכנסה נכשלה. אנא רענן את הדף.")})]})},F=()=>{const{t:n,i18n:r}=s(),{values:i,setFieldValue:c,errors:d,setFieldTouched:m,touched:u}=o();return e.jsxs(l,{children:[e.jsx(a,{placeholder:n("calculate_mortgage_company"),value:i.companyName,title:n("calculate_mortgage_company"),name:"СompanyName",onChange:e=>c("companyName",e),onBlur:()=>m("companyName"),error:u.companyName&&d.companyName}),u.companyName&&d.companyName&&e.jsx(t,{error:d.companyName})]})},k=({screenLocation:a})=>{const i=m(),s=a||(i.pathname.includes("calculate-mortgage")?"mortgage_step3":i.pathname.includes("refinance-mortgage")?"refinance_step3":i.pathname.includes("other-borrowers")||i.pathname.includes("borrowers-personal-data")?"other_borrowers_step2":"credit_step3"),{getContent:d}=n(s),{values:u,setFieldValue:h,errors:_,setFieldTouched:p,touched:g}=o(),j="other_borrowers_step2"===(x=s)||"mortgage_step3"===x||"refinance_step3"===x?"field_of_activity":"professional_sphere";var x;const f=r(s,j,"full");return f.loading,f.error,e.jsxs(l,{children:[e.jsx(c,{data:f.options,title:f.label||d("calculate_credit_professional_sphere","תחום מקצועי"),placeholder:f.placeholder||d("calculate_credit_professional_sphere_ph","בחר תחום מקצועי"),searchable:!0,searchPlaceholder:d("search","Search..."),value:u.fieldOfActivity,onChange:e=>{h("fieldOfActivity",e,!0),p("fieldOfActivity",!0,!1)},onBlur:()=>p("fieldOfActivity",!0,!0),error:g.fieldOfActivity&&_.fieldOfActivity,disabled:f.loading}),f.error&&e.jsx(t,{error:d("error_dropdown_load_failed","טעינת אפשרויות התחום המקצועי נכשלה. אנא רענן את הדף.")})]})},A={hint:"_hint_1enfl_1"},B=h.bind(A),C=({text:o})=>e.jsx("div",{className:B("hint"),children:o}),D=()=>{const{t:n,i18n:a}=s(),{values:r,setFieldValue:i,errors:c,setFieldTouched:m,touched:u}=o();return e.jsxs(l,{children:[e.jsx(d,{title:n("calculate_mortgage_monthly_income"),placeholder:n("calculate_mortgage_monthly_income_ph"),value:r.monthlyIncome,handleChange:e=>i("monthlyIncome",e),onBlur:()=>m("monthlyIncome"),error:u.monthlyIncome&&c.monthlyIncome,size:"xs"}),e.jsx(C,{text:n("calculate_mortgage_monthly_income_hint")}),u.monthlyIncome&&c.monthlyIncome&&e.jsx(t,{error:c.monthlyIncome})]})},L=()=>{const{t:n,i18n:a}=s(),{values:r,setFieldValue:i,errors:c}=o();return e.jsxs(l,{children:[e.jsx(u,{title:n("no_income"),value:r.noIncome,onChange:e=>i("noIncome",e),placeholder:n("date_ph"),error:c.noIncome}),c.noIncome&&e.jsx(t,{error:c.noIncome})]})},P=()=>{const{t:n,i18n:r}=s(),{values:i,setFieldValue:c,errors:d,setFieldTouched:m,touched:u}=o();return e.jsxs(l,{children:[e.jsx(a,{placeholder:n("calculate_mortgage_profession_ph"),value:i.profession,title:n("calculate_mortgage_profession"),name:"Profession",onChange:e=>c("profession",e),onBlur:()=>m("profession"),error:u.profession&&d.profession}),u.profession&&d.profession&&e.jsx(t,{error:d.profession})]})};function O(){const{t:o,i18n:n}=s();return e.jsx(i,{children:o("calculate_mortgage_step3_ctx")})}const w=()=>{const{t:n,i18n:a}=s(),{values:r,setFieldValue:i,errors:c}=o();return e.jsxs(l,{children:[e.jsx(u,{title:n("calculate_mortgage_start_date"),value:r.startDate,onChange:e=>i("startDate",e),placeholder:n("date_ph"),error:c.startDate}),e.jsx(O,{}),c.startDate&&e.jsx(t,{error:c.startDate})]})},M=o=>({employee:[e.jsx(D,{screenLocation:o},"MonthlyIncome1"),e.jsx(w,{screenLocation:o},"StartDate1"),e.jsx(k,{screenLocation:o},"FieldOfActivity1"),e.jsx(F,{screenLocation:o},"CompanyName1"),e.jsx(P,{screenLocation:o},"Profession1")],selfemployed:[e.jsx(D,{screenLocation:o},"MonthlyIncome2"),e.jsx(w,{screenLocation:o},"StartDate2"),e.jsx(k,{screenLocation:o},"FieldOfActivity2"),e.jsx(F,{screenLocation:o},"CompanyName2"),e.jsx(P,{screenLocation:o},"Profession2")],pension:[e.jsx(D,{screenLocation:o},"MonthlyIncome4"),e.jsx(l,{},"column")],unemployed:[e.jsx(L,{screenLocation:o},"NoIncome5"),e.jsx(l,{},"column")],unpaid_leave:[e.jsx(L,{screenLocation:o},"NoIncome6"),e.jsx(l,{},"column")],student:[e.jsx(D,{screenLocation:o},"MonthlyIncome7"),e.jsx(l,{},"column")],other:[e.jsx(D,{screenLocation:o},"MonthlyIncome8"),e.jsx(l,{},"column")]}),S=M("auto-detect");export{g as A,I as M,x as O,j as a,_ as b,v as c,S as d,M as g};
