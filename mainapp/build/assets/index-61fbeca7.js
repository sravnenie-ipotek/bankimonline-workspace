import{j as e}from"./ui-vendor-99260b86.js";import{L as a,r as s}from"./react-vendor-21ec1e1c.js";import{b as t}from"./index-8ba31d2c.js";import{u as c}from"./i18n-vendor-18addd5f.js";import{M as r,C as n}from"./ClockIcon-43db79e1.js";import"./index-b75527a0.js";import"./state-vendor-069efcec.js";import"./utils-vendor-8f040048.js";import"./form-vendor-6d56d196.js";import"./components-vendor-62dc47c0.js";const i="_categoryFilter_1h90i_1",l="_filterRow_1h90i_60",o="_filterButton_1h90i_71",_="_active_1h90i_93",m=({onCategoryChange:a,activeCategory:s})=>{const{t:t}=c(),r=[{key:"all",label:t("vacancies_category_all","Все")},{key:"development",label:t("vacancies_category_development","Разработка")},{key:"design",label:t("vacancies_category_design","Дизайн")},{key:"management",label:t("vacancies_category_management","Менеджмент")},{key:"marketing",label:t("vacancies_category_marketing","Маркетинг")},{key:"finance",label:t("vacancies_category_finance","Финансы")},{key:"customer_service",label:t("vacancies_category_customer_service","Работа с клиентами")}];return e.jsx("div",{className:i,children:e.jsx("div",{className:l,children:r.map(t=>e.jsx("button",{className:`${o} ${s===t.key?_:""}`,onClick:()=>{return e=t.key,void a(e);var e},children:t.label},t.key))})})},d=a=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:21,fill:"none",...a,children:[e.jsx("path",{fill:"#fff",d:"M16.536 15.416V4.746a1.005 1.005 0 0 1 .512-.996.963.963 0 0 1 1.413.779V16.204c0 .8-.367 1.17-1.171 1.17h-5.72a5.259 5.259 0 0 1-5.234-4.262 4.543 4.543 0 0 1-.1-.916V7.233a.97.97 0 0 1 .654-.97.88.88 0 0 1 1.054.316c.133.225.205.48.208.742.021 1.554 0 3.108 0 4.662a3.333 3.333 0 0 0 2.392 3.304c.328.095.667.144 1.008.146h4.73c.075.004.137-.008.254-.017Z"}),e.jsx("path",{fill:"#fff",d:"M3.46 5.592v10.671a.967.967 0 1 1-1.92.22V4.802c0-.805.37-1.176 1.166-1.176h5.72a5.262 5.262 0 0 1 5.238 4.259c.064.301.098.608.1.916v4.963a.96.96 0 0 1-1.408.904.976.976 0 0 1-.517-.958V9.013a3.334 3.334 0 0 0-2.642-3.375 3.583 3.583 0 0 0-.787-.08H3.747c-.087.005-.17.022-.287.034Z"})]}),y="_vacancyCardLink_1stri_1",v="_vacancyCard_1stri_1",g="_categoryChip_1stri_32",h="_categoryDot_1stri_51",j="_categoryText_1stri_63",p="_jobTitle_1stri_67",x="_jobInfo_1stri_81",f="_infoItem_1stri_90",u="_icon_1stri_96",N="_infoText_1stri_109",C="_detailText_1stri_110",k="_description_1stri_122",b="_jobDetails_1stri_136",F="_detailItem_1stri_147",w=({id:s,category:t,title:i,location:l,description:o,employmentType:_,salary:m,categoryColor:w="#FBE54D"})=>(c(),e.jsx(a,{to:`/vacancies/${s}`,className:y,children:e.jsxs("div",{className:v,children:[e.jsxs("div",{className:g,style:{backgroundColor:w},children:[e.jsx("div",{className:h,style:{backgroundColor:"#FFD700"}}),e.jsx("span",{className:j,children:t})]}),e.jsx("h3",{className:p,children:i}),e.jsx("div",{className:x,children:e.jsxs("div",{className:f,children:[e.jsx(r,{className:u}),e.jsx("span",{className:N,children:l})]})}),e.jsx("p",{className:k,children:o}),e.jsxs("div",{className:b,children:[e.jsxs("div",{className:F,children:[e.jsx(n,{className:u}),e.jsx("span",{className:C,children:_})]}),e.jsxs("div",{className:F,children:[e.jsx(d,{className:u}),e.jsx("span",{className:C,children:m})]})]})]})})),$="_vacanciesPage_4fgn2_1",T="_content_4fgn2_13",B="_header_4fgn2_24",D="_title_4fgn2_34",E="_subtitle_4fgn2_53",V="_vacancyGrid_4fgn2_73",I="_loading_4fgn2_105",P="_spinner_4fgn2_118",S="_error_4fgn2_135",L="_retryButton_4fgn2_152",M="_noResults_4fgn2_171",R=e=>({development:"#FBE54D",design:"#4DABF7",management:"#69DB7C",marketing:"#FFB366",finance:"#A78BFA",customer_service:"#FF8CC8"}[e]||"#FBE54D"),A=()=>{const{t:a,i18n:r}=c(),[n,i]=s.useState("all"),[l,o]=s.useState([]),[_,d]=s.useState(!0),[y,v]=s.useState(null),g=async(e="all")=>{try{d(!0),v(null);const a=new URLSearchParams({category:e,lang:r.language||"en",active_only:"true"}),s=await fetch(`/api/vacancies?${a}`);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const t=await s.json();if("success"!==t.status)throw new Error(t.message||"Failed to fetch vacancies");o(t.data)}catch(a){v(a instanceof Error?a.message:"Failed to load vacancies"),o([])}finally{d(!1)}};s.useEffect(()=>{g(n)},[r.language]);const h=(e,s,t)=>{const c=e=>(new Intl.NumberFormat).format(e);return e&&s?`${c(e)} - ${c(s)} ${t}`:e?`${a("vacancy_salary_from")} ${c(e)} ${t}`:""},j=s.useMemo(()=>"all"===n?l:l.filter(e=>e.category===n),[l,n]);return e.jsx("div",{className:$,children:e.jsx(t,{children:e.jsxs("div",{className:T,children:[e.jsxs("div",{className:B,children:[e.jsx("h1",{className:D,children:a("vacancies_title")}),e.jsx("p",{className:E,children:a("vacancies_subtitle")})]}),e.jsx(m,{onCategoryChange:e=>{i(e),g(e)},activeCategory:n}),_&&e.jsxs("div",{className:I,children:[e.jsx("div",{className:P}),e.jsx("p",{children:a("loading","Loading...")})]}),y&&!_&&e.jsxs("div",{className:S,children:[e.jsx("p",{children:a("error_loading_vacancies","Failed to load vacancies. Please try again later.")}),e.jsx("button",{className:L,onClick:()=>g(n),children:a("retry","Retry")})]}),!_&&!y&&e.jsx("div",{className:V,children:j.length>0?j.map(s=>{return e.jsx(w,{id:s.id,category:a(`vacancies_category_${s.category}`,s.category),title:s.title,location:s.location,description:s.description,employmentType:(t=s.employment_type,{full_time:a("vacancy_employment_fulltime"),part_time:a("vacancy_employment_parttime","Part Time"),contract:a("vacancy_employment_contract","Contract"),temporary:a("vacancy_employment_temporary","Temporary")}[t]||t),salary:h(s.salary_min,s.salary_max,s.salary_currency),categoryColor:R(s.category)},s.id);var t}):e.jsx("div",{className:M,children:e.jsx("p",{children:a("vacancies_no_results")})})})]})})})};export{A as Vacancies};
