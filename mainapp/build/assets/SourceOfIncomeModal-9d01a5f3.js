import{a as B,u as T,j as c,k as R,d as ve,o as ze,c as w,m as Ze,J as Je,K as Qe,p as V,L as ea,M as aa,F as na,O as ta}from"./index-e2becdd2.js";import{P as oa,e as ia,B as W,I as ra,a as H,D as sa,E as la,M as ke}from"./index-535ae523.js";import{u as U}from"./i18n-vendor-aaeace9f.js";import{u as me,a as Se,c as A,f as xe,F as Pe,b as je}from"./form-vendor-2c7d84e7.js";import{r as I,b as M,u as ca,f as ma}from"./react-vendor-ede63a09.js";import{F as da}from"./FormattedInput-82d04377.js";import{w as le}from"./components-vendor-632ebedf.js";import{W as ua,f as pa}from"./AddButton-d7c1b728.js";import{u as fa,P as ha,t as va,f as ga,a as ba,M as _a}from"./MortgageParameters-83ff15e2.js";import{a as Na}from"./useDropdownData-ccb3ecdb.js";import{C as ne}from"./Column-f93760a0.js";import{D as ya}from"./DropdownMenu-401b5f33.js";import{R as Da}from"./Row-18fc696d.js";import{A as ka,a as Sa,b as Ie,c as ie,O as xa,M as Pa,g as ja}from"./componentsByIncomeSource-72e72038.js";const rt=()=>{const{i18n:e}=U(),n=B(),a=T(i=>i.modalSlice.isOpenLogin),t=()=>{n(R()),n(ve("login"))},r=()=>{n(R()),n(ve("codeSignUp")),n(ze())};return a?e.language==="he"?c.jsxDEV(oa,{onClose:t,onSuccess:r},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/MortgagePhoneVerificationModal.tsx",lineNumber:31,columnNumber:5},globalThis):c.jsxDEV(ia,{onClose:t,onSuccess:r},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/CalculateMortgage/pages/FirstStep/MortgagePhoneVerificationModal.tsx",lineNumber:36,columnNumber:5},globalThis):null},Ia="_buttons_17878_16",Ta="_wrapper_17878_28",Ma={"submit-btn":"_submit-btn_17878_1",buttons:Ia,wrapper:Ta},ue=w.bind(Ma),st=({showValidationHints:e=!1})=>{const{t:n}=U(),{isValid:a,handleSubmit:t,errors:r,values:i,setFieldTouched:d}=me(),[o,l]=I.useState(!1),m=()=>{console.log("=== BUTTON CLICKED ==="),console.log("isValid:",a),console.log("values:",i),console.log("errors:",r),console.log("========================"),Object.keys(i).forEach(p=>{d(p,!0,!1)}),a?(console.log("Form is valid, submitting..."),t()):(console.log("Form is invalid, showing errors..."),l(!0))};return c.jsxDEV("div",{className:ue("submit-btn"),children:c.jsxDEV("div",{className:ue("wrapper"),children:c.jsxDEV("div",{className:ue("buttons"),children:c.jsxDEV(W,{onClick:m,size:"smallLong",type:"button",style:{opacity:a?1:.7,cursor:a?"pointer":"not-allowed",pointerEvents:"auto",zIndex:9999},children:n("button_next")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/SingleButton/SingleButton.tsx",lineNumber:49,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/SingleButton/SingleButton.tsx",lineNumber:48,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/SingleButton/SingleButton.tsx",lineNumber:47,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/SingleButton/SingleButton.tsx",lineNumber:46,columnNumber:5},globalThis)};var Ee=Math.sqrt(50),we=Math.sqrt(10),Ue=Math.sqrt(2);function Oa(e,n,a){var t,r=-1,i,d,o;if(n=+n,e=+e,a=+a,e===n&&a>0)return[e];if((t=n<e)&&(i=e,e=n,n=i),(o=Ea(e,n,a))===0||!isFinite(o))return[];if(o>0){let l=Math.round(e/o),m=Math.round(n/o);for(l*o<e&&++l,m*o>n&&--m,d=new Array(i=m-l+1);++r<i;)d[r]=(l+r)*o}else{o=-o;let l=Math.round(e*o),m=Math.round(n*o);for(l/o<e&&++l,m/o>n&&--m,d=new Array(i=m-l+1);++r<i;)d[r]=(l+r)/o}return t&&d.reverse(),d}function Ea(e,n,a){var t=(n-e)/Math.max(0,a),r=Math.floor(Math.log(t)/Math.LN10),i=t/Math.pow(10,r);return r>=0?(i>=Ee?10:i>=we?5:i>=Ue?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(i>=Ee?10:i>=we?5:i>=Ue?2:1)}function Ve(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,t)}return a}function $(e){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Ve(Object(a),!0).forEach(function(t){wa(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ve(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Y(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Fe(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function G(e,n,a){return n&&Fe(e.prototype,n),a&&Fe(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function wa(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function te(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ge(e,n)}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},ce(e)}function ge(e,n){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},ge(e,n)}function Ua(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Va(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K(e)}function oe(e){var n=Ua();return function(){var t=ce(e),r;if(n){var i=ce(this).constructor;r=Reflect.construct(t,arguments,i)}else r=t.apply(this,arguments);return Va(this,r)}}function be(e,n){return Ca(e)||Aa(e,n)||Ke(e,n)||Ra()}function _e(e){return Fa(e)||$a(e)||Ke(e)||Ba()}function Fa(e){if(Array.isArray(e))return Ne(e)}function Ca(e){if(Array.isArray(e))return e}function $a(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aa(e,n){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var t=[],r=!0,i=!1,d,o;try{for(a=a.call(e);!(r=(d=a.next()).done)&&(t.push(d.value),!(n&&t.length===n));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return t}}function Ke(e,n){if(e){if(typeof e=="string")return Ne(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ne(e,n)}}function Ne(e,n){(n==null||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}function Ba(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ra(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ye="react-compound-slider:";function qe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return function(a,t){return a.val>t.val?e?-1:1:t.val>a.val?e?1:-1:0}}function ae(e,n,a){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=e.findIndex(function(l){return l.key===n});if(r!==-1){var i=e[r],d=i.key,o=i.val;return o===a?e:[].concat(_e(e.slice(0,r)),[{key:d,val:a}],_e(e.slice(r+1))).sort(qe(t))}return e}function Z(e,n){if(!e)return[0,0];var a=e.getBoundingClientRect(),t=n?a.top:a.left,r=n?a.bottom:a.right;return[t,r]}function Ce(e){var n=e.type,a=n===void 0?"":n,t=e.touches;return!t||t.length>1||a.toLowerCase()==="touchend"&&t.length>0}function pe(e,n){return e?n.touches[0].clientY:n.touches[0].pageX}function $e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0,r=0,i=e.map(function(d){var o=a.getValue(d);return d!==o&&(r+=1,le(!t,"".concat(ye," Invalid value encountered. Changing ").concat(d," to ").concat(o,"."))),o}).map(function(d,o){return{key:"$$-".concat(o),val:d}}).sort(qe(n));return{handles:i,changes:r}}function Ha(e,n){return n}function La(e,n){for(var a=0;a<e.length;a++)if(e[a].key!==n[a].key||n[a+1]&&n[a].val===n[a+1].val)return e;return n}function De(e,n,a,t,r){for(var i=-1,d=!0,o=0;o<e.length;o++){var l=e[o],m=n[o];if(!m||m.key!==l.key)return e;m.val!==l.val&&(i=o,d=m.val-l.val>0)}if(i===-1)return e;for(var p=d?a:-a,s=0;s<n.length;s++){var f=n[s],h=n[s+1];if(h&&f.val===h.val)if(s===i){var u=h.val+p;if(r(u)===u){var g=ae(n,h.key,h.val+p,t),b=De(n,g,a,t,r);return b===n?e:b}else return e}else{var N=f.val+p;if(r(N)===N){var k=ae(n,f.key,f.val+p,t),S=De(n,k,a,t,r);return S===n?e:S}else return e}}return n}function q(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return function(t){return n.forEach(function(r){return r&&r(t)})}}var za=function(){return{value:0,percent:0}},We=function(e){te(a,e);var n=oe(a);function a(){var t;Y(this,a);for(var r=arguments.length,i=new Array(r),d=0;d<r;d++)i[d]=arguments[d];return t=n.call.apply(n,[this].concat(i)),t.getRailProps=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=t.props,m=l.emitMouse,p=l.emitTouch;return $($({},o),{},{onMouseDown:q(o&&o.onMouseDown,m),onTouchStart:q(o&&o.onTouchStart,p)})},t}return G(a,[{key:"render",value:function(){var r=this.getRailProps,i=this.props,d=i.getEventData,o=i.activeHandleID,l=o===void 0?"":o,m=i.children,p=m({getEventData:d||za,activeHandleID:l,getRailProps:r});return p&&M.Children.only(p)}}]),a}(I.Component),Ye=function(e){te(a,e);var n=oe(a);function a(){var t;Y(this,a);for(var r=arguments.length,i=new Array(r),d=0;d<r;d++)i[d]=arguments[d];return t=n.call.apply(n,[this].concat(i)),t.autofocus=function(o){o.target instanceof HTMLElement&&o.target.focus()},t.getHandleProps=function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=t.props,p=m.emitKeyboard,s=m.emitMouse,f=m.emitTouch;return $($({},l),{},{onKeyDown:q(l&&l.onKeyDown,function(h){return p&&p(h,o)}),onMouseDown:q(l&&l.onMouseDown,t.autofocus,function(h){return s&&s(h,o)}),onTouchStart:q(l&&l.onTouchStart,function(h){return f&&f(h,o)})})},t}return G(a,[{key:"render",value:function(){var r=this.getHandleProps,i=this.props,d=i.activeHandleID,o=d===void 0?"":d,l=i.children,m=i.handles,p=m===void 0?[]:m,s=l({handles:p,activeHandleID:o,getHandleProps:r});return s&&M.Children.only(s)}}]),a}(I.Component),Te=function(){function e(){Y(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return G(e,[{key:"createInterpolator",value:function(a,t){var r=this,i=a[0],d=a[1],o=t[0],l=t[1];return d<i?function(m){return r.interpolateValue(l,o)(r.deinterpolateValue(d,i)(m))}:function(m){return r.interpolateValue(o,l)(r.deinterpolateValue(i,d)(m))}}},{key:"interpolateValue",value:function(a,t){return a=+a,t-=a,function(i){return a+t*i}}},{key:"deinterpolateValue",value:function(a,t){return(t-=a=+a)?function(r){return(r-a)/t}:function(){return t}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(a){var t=this.domain,r=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(t,r)))(+a)}},{key:"setDomain",value:function(a){return this.domain=[a[0],a[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(a){return this.range=[a[0],a[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(a){var t=this.domain;return Oa(t[0],t[t.length-1],a||10)}}]),e}(),Ka=function(){return{value:0,percent:0}},qa=function(e){te(a,e);var n=oe(a);function a(){return Y(this,a),n.apply(this,arguments)}return G(a,[{key:"render",value:function(){var r=this.props,i=r.children,d=r.values,o=r.scale,l=o===void 0?new Te:o,m=r.count,p=m===void 0?10:m,s=r.getEventData,f=s===void 0?Ka:s,h=r.activeHandleID,u=h===void 0?"":h,g=(d||l.getTicks(p)).map(function(N){return{id:"$$-".concat(N),value:N,percent:l.getValue(N)}}),b=i({getEventData:f,activeHandleID:u,ticks:g});return b&&M.Children.only(b)}}]),a}(I.Component),Wa=function(){return{value:0,percent:0}},Ge=function(e){te(a,e);var n=oe(a);function a(){var t;Y(this,a);for(var r=arguments.length,i=new Array(r),d=0;d<r;d++)i[d]=arguments[d];return t=n.call.apply(n,[this].concat(i)),t.getTrackProps=function(o){var l=t.props,m=l.emitMouse,p=l.emitTouch;return $($({},o||{}),{},{onMouseDown:q(o&&o.onMouseDown,m),onTouchStart:q(o&&o.onTouchStart,p)})},t}return G(a,[{key:"render",value:function(){for(var r=this.getTrackProps,i=this.props,d=i.children,o=i.left,l=o===void 0?!0:o,m=i.right,p=m===void 0?!0:m,s=i.scale,f=s===void 0?new Te:s,h=i.handles,u=h===void 0?[]:h,g=i.getEventData,b=g===void 0?Wa:g,N=i.activeHandleID,k=N===void 0?"":N,S=f.getDomain(),P=[],y=0;y<u.length+1;y++){var x=u[y-1],v=u[y];y===0&&l===!0?x={id:"$",value:S[0],percent:0}:y===u.length&&p===!0&&(v={id:"$",value:S[1],percent:100}),x&&v&&P.push({id:"".concat(x.id,"-").concat(v.id),source:x,target:v})}var D=d({getEventData:b,activeHandleID:k,tracks:P,getTrackProps:r});return D&&M.Children.only(D)}}]),a}(I.Component);function Ae(e,n,a){return Math.min(Math.max(e,n),a)}var Be=G(function e(){var n=this;Y(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(a){return n.domain=[a[0],a[1]],n},this.setRange=function(a){return n.range=[a[0],a[1]],n},this.setStep=function(a){return n.step=a,n},this.getValue=function(a){var t=be(n.domain,2),r=t[0],i=t[1],d=be(n.range,2),o=d[0],l=d[1],m=n.step,p=(Ae(a,r,i)-r)/(i-r),s=m*Math.round(p*(l-o)/m)+o;return Ae(s,o<l?o:l,l>o?l:o)}}),J=typeof window<"u"&&typeof document<"u",C=function(){},Ya=function(n){return function(a,t,r){return a&&n[r]===t}},Ga=function(n,a){return n===a||n.length===a.length&&n.reduce(Ya(a),!0)},Xa=function(n){if(!I.isValidElement(n))return!1;var a=n.type,t=a?a.name:"";return t===Ye.name||t===We.name||t===qa.name||t===Ge.name},Za=function(n,a,t,r){var i=r?n-a:n+a;return r?Math.max(t[0],i):Math.min(t[1],i)},Ja=function(n,a,t,r){var i=r?n+a:n-a;return r?Math.min(t[1],i):Math.max(t[0],i)},re=[0,100],Qa=function(e){te(a,e);var n=oe(a);function a(){var t;Y(this,a);for(var r=arguments.length,i=new Array(r),d=0;d<r;d++)i[d]=arguments[d];return t=n.call.apply(n,[this].concat(i)),t.state={step:.1,values:[],domain:re,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},t.slider=M.createRef(),t.onKeyDown=function(o,l){var m=["ArrowRight","ArrowUp"],p=["ArrowDown","ArrowLeft"],s=K(t),f=s.state.handles,h=s.props,u=h.step,g=u===void 0?.1:u,b=h.reversed,N=b===void 0?!1:b,k=h.vertical,S=k===void 0?!1:k,P=h.domain,y=P===void 0?[0,100]:P,x=o.key||"".concat(o.keyCode);if(m.concat(p).includes(x)){if(S){var v=[p,m];m=v[0],p=v[1]}o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault();var D=f.find(function(F){return F.key===l});if(D){var _=D.val,E=_;m.includes(x)?E=Za(_,g,y,N):p.includes(x)&&(E=Ja(_,g,y,N));var j=f.map(function(F){return F.key===l?{key:F.key,val:E}:F});t.submitUpdate(j,!0)}}},t.onMouseDown=function(o,l){t.onStart(o,l,!1)},t.onTouchStart=function(o,l){Ce(o)||t.onStart(o,l,!0)},t.getEventData=function(o,l){var m=K(t),p=m.state,s=p.pixelToStep,f=p.valueToPerc,h=m.props.vertical;s.setDomain(Z(t.slider.current,h));var u;return l&&o instanceof TouchEvent?u=s.getValue(pe(h,o)):o instanceof MouseEvent&&(u=s.getValue(h?o.clientY:o.pageX)),{value:u,percent:f.getValue(u)}},t.onMouseMove=function(o){var l=K(t),m=l.state,p=m.handles,s=m.pixelToStep,f=m.activeHandleID,h=f===void 0?"":f,u=l.props,g=u.vertical,b=u.reversed,N=b===void 0?!1:b;s.setDomain(Z(t.slider.current,g));var k=s.getValue(g?o.clientY:o.pageX),S=ae(p,h,k,N);t.submitUpdate(S)},t.onTouchMove=function(o){var l=K(t),m=l.state,p=m.handles,s=m.pixelToStep,f=m.activeHandleID,h=l.props,u=h.vertical,g=h.reversed;if(!(s===null||Ce(o))){s.setDomain(Z(t.slider.current,u));var b=s.getValue(pe(u,o)),N=ae(p,f,b,g);t.submitUpdate(N)}},t.onMouseUp=function(){var o=K(t),l=o.state,m=l.handles,p=m===void 0?[]:m,s=l.activeHandleID,f=o.props,h=f.onChange,u=h===void 0?C:h,g=f.onSlideEnd,b=g===void 0?C:g;u(p.map(function(N){return N.val})),b(p.map(function(N){return N.val}),{activeHandleID:s}),t.setState({activeHandleID:""}),J&&(document.removeEventListener("mousemove",t.onMouseMove),document.removeEventListener("mouseup",t.onMouseUp))},t.onTouchEnd=function(){var o=K(t),l=o.state,m=l.handles,p=l.activeHandleID,s=o.props,f=s.onChange,h=f===void 0?C:f,u=s.onSlideEnd,g=u===void 0?C:u;h(m.map(function(b){return b.val})),g(m.map(function(b){return b.val}),{activeHandleID:p}),t.setState({activeHandleID:""}),J&&(document.removeEventListener("touchmove",t.onTouchMove),document.removeEventListener("touchend",t.onTouchEnd))},t}return G(a,[{key:"componentDidMount",value:function(){var r=this.state.pixelToStep,i=this.props.vertical;r.setDomain(Z(this.slider.current,i))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){J&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(r,i,d){var o=this.state.handles,l=this.props.onSlideStart,m=l===void 0?C:l;d||r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation();var p=o.find(function(s){return s.key===i});p?(this.setState({activeHandleID:i}),m(o.map(function(s){return s.val}),{activeHandleID:i}),d?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(r,d))}},{key:"handleRailAndTrackClicks",value:function(r,i){var d=this,o=this.state,l=o.handles,m=o.pixelToStep,p=this.props,s=p.vertical,f=p.reversed,h=f===void 0?!1:f,u=this.slider;m.setDomain(Z(u.current,s));var g;i?g=m.getValue(pe(s,r)):g=m.getValue(s?r.clientY:r.pageX);for(var b="",N=1/0,k=0;k<l.length;k++){var S=l[k],P=S.key,y=S.val,x=Math.abs(y-g);x<N&&(b=P,N=x)}var v=ae(l,b,g,h);this.setState({activeHandleID:b},function(){d.submitUpdate(v,!0),i?d.addTouchEvents():d.addMouseEvents()})}},{key:"addMouseEvents",value:function(){J&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){J&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=this.props,o=d.mode,l=o===void 0?1:o,m=d.step,p=m===void 0?.1:m,s=d.onUpdate,f=s===void 0?C:s,h=d.onChange,u=h===void 0?C:h,g=d.reversed,b=g===void 0?!1:g,N=this.state.valueToStep.getValue;this.setState(function(k){var S=k.handles,P=[];if(typeof l=="function")P=l(S,r,p,b,N),le(Array.isArray(P),"Custom mode function did not return an array.");else switch(l){case 1:P=Ha(S,r);break;case 2:P=La(S,r);break;case 3:P=De(S,r,p,b,N);break;default:P=r,le(!1,"".concat(ye," Invalid mode value."))}return f(P.map(function(y){return y.val})),i&&u(P.map(function(y){return y.val})),{handles:P}})}},{key:"render",value:function(){var r=this,i=this.state,d=i.handles,o=i.valueToPerc,l=i.activeHandleID,m=this.props,p=m.className,s=m.rootStyle,f=s===void 0?{}:s,h=m.rootProps,u=h===void 0?{}:h,g=m.component,b=g===void 0?"div":g,N=m.disabled,k=N===void 0?!1:N,S=m.flatten,P=S===void 0?!1:S,y=d.map(function(v){var D=v.key,_=v.val;return{id:D,value:_,percent:o.getValue(_)}}),x=M.Children.map(this.props.children,function(v){return Xa(v)===!0?M.cloneElement(v,{scale:o,handles:y,activeHandleID:l,getEventData:r.getEventData,emitKeyboard:k?C:r.onKeyDown,emitMouse:k?C:r.onMouseDown,emitTouch:k?C:r.onTouchStart}):v});return P?M.createElement(M.Fragment,null,M.createElement(b,$($({},u),{},{style:f,className:p,ref:this.slider})),x):M.createElement(M.Fragment,null,M.createElement(b,$($({},u),{},{style:f,className:p,ref:this.slider}),x))}}],[{key:"getDerivedStateFromProps",value:function(r,i){var d=r.step,o=d===void 0?.1:d,l=r.values,m=r.domain,p=m===void 0?re:m,s=r.reversed,f=s===void 0?!1:s,h=r.onUpdate,u=h===void 0?C:h,g=r.onChange,b=g===void 0?C:g,N=r.warnOnChanges,k=N===void 0?!1:N,S=i.valueToPerc,P=i.valueToStep,y=i.pixelToStep,x={};if((!S||!P||!y)&&(S=new Te,P=new Be,y=new Be,x.valueToPerc=S,x.valueToStep=P,x.pixelToStep=y),i.domain===re||i.step===null||i.domain===null||i.reversed===null||o!==i.step||p[0]!==i.domain[0]||p[1]!==i.domain[1]||f!==i.reversed){var v=be(p,2),D=v[0],_=v[1];P.setStep(o).setRange([D,_]).setDomain([D,_]),f===!0?(S.setDomain([D,_]).setRange([100,0]),y.setStep(o).setRange([_,D])):(S.setDomain([D,_]).setRange([0,100]),y.setStep(o).setRange([D,_])),le(_>D,"".concat(ye," Max must be greater than min (even if reversed). Max is ").concat(_,". Min is ").concat(D,"."));var E=$e(l||i.values,f,P,k),j=E.handles,F=E.changes;(F||l===void 0||l===i.values)&&(u(j.map(function(L){return L.val})),b(j.map(function(L){return L.val}))),x.step=o,x.values=l,x.domain=p===re?_e(p):p,x.handles=j,x.reversed=f}else if(!Ga(l,i.values)){var Oe=$e(l,f,P,k),de=Oe.handles,Xe=Oe.changes;Xe&&(u(de.map(function(L){return L.val})),b(de.map(function(L){return L.val}))),x.values=l,x.handles=de}return Object.keys(x).length?x:null}}]),a}(I.PureComponent);const en="_slider_w5hmp_1",an="_rail_w5hmp_7",nn="_handle_w5hmp_15",tn="_track_w5hmp_36",Me={slider:en,rail:an,handle:nn,track:tn},on=w.bind(Me),rn=({source:e,target:n,getTrackProps:a})=>c.jsxDEV("div",{className:on("track","bg-accent-primary"),style:{width:`${n.percent-e.percent}%`},...a()},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Track.tsx",lineNumber:16,columnNumber:5},globalThis),sn=w.bind(Me),ln=({handle:{id:e,percent:n},getHandleProps:a})=>{const{i18n:t}=U();return c.jsxDEV("div",{className:sn("handle","bg-accent-primary"),style:{left:`${n}%`,marginLeft:t.language==="he"?"-12px":"0px"},...a(e)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Handle.tsx",lineNumber:26,columnNumber:5},globalThis)},Re=w.bind(Me),cn=({min:e,max:n,step:a,values:t,onUpdate:r,onChange:i,"data-testid":d})=>{const{i18n:o}=U();return c.jsxDEV(Qa,{mode:1,step:a,domain:[e,n],onUpdate:r,onChange:i,values:t,reversed:o.language==="he",className:Re("slider"),"data-testid":d,children:[c.jsxDEV(We,{children:({getRailProps:l})=>c.jsxDEV("div",{className:Re("rail","bg-base-secondaryDefaultButton"),...l()},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:47,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:45,columnNumber:7},globalThis),c.jsxDEV(Ye,{children:({handles:l,getHandleProps:m})=>c.jsxDEV("div",{className:"slider-handles",children:l.map(p=>c.jsxDEV(ln,{handle:p,domain:[e,n],getHandleProps:m},p.id,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:57,columnNumber:15},globalThis))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:55,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:53,columnNumber:7},globalThis),c.jsxDEV(Ge,{left:o.language!=="he",right:o.language==="he",children:({tracks:l,getTrackProps:m})=>c.jsxDEV("div",{className:"slider-tracks",children:l.map(({id:p,source:s,target:f})=>c.jsxDEV(rn,{source:s,target:f,getTrackProps:m},p,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:71,columnNumber:15},globalThis))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:69,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:67,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/Ranger/Ranger.tsx",lineNumber:34,columnNumber:5},globalThis)},mn={"slider-input":"_slider-input_2u5jo_1","range-ranges":"_range-ranges_2u5jo_12"},He=w.bind(mn),dn=({value:e,max:n,min:a,name:t,error:r,title:i,handleChange:d,disableRangeValues:o,tooltip:l,disableCurrency:m,unitsMax:p,unitsMin:s,"data-testid":f})=>{const[h,u]=I.useState(e),g=k=>{u(k[0])},b=k=>{d(k[0])},N=k=>{d(k)};return I.useLayoutEffect(()=>{u(e)},[e]),c.jsxDEV(c.Fragment,{children:c.jsxDEV("div",{className:He("slider-input"),children:[c.jsxDEV(da,{disableCurrency:m,title:i,tooltip:l,name:t,error:r,value:h,handleChange:N,"data-testid":f},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:63,columnNumber:9},globalThis),c.jsxDEV(cn,{min:0,max:n,step:1,values:[e],onUpdate:g,onChange:b,"data-testid":f?`${f}-slider`:void 0},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:74,columnNumber:9},globalThis),!o&&c.jsxDEV("div",{className:He("range-ranges"),children:[c.jsxDEV("div",{children:c.jsxDEV("span",{className:t+"Min",children:[a.toLocaleString("en-US")," ",s&&s]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:87,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:86,columnNumber:13},globalThis),c.jsxDEV("div",{children:c.jsxDEV("span",{className:t+"Max",children:[n.toLocaleString("en-US")," ",p&&p]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:92,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:91,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:85,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:62,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/SliderInput/SliderInput.tsx",lineNumber:61,columnNumber:5},globalThis)},lt=I.memo(dn),un="_filled_1kf35_18",pn={"alert-warning":"_alert-warning_1kf35_1","alert-warning__text":"_alert-warning__text_1kf35_10",filled:un},fe=w.bind(pn),ct=({children:e,filled:n,icon:a,text:t})=>c.jsxDEV("div",{className:fe("alert-warning",{filled:n}),children:[c.jsxDEV("div",{className:fe("alert-warning__icon"),children:a||c.jsxDEV(ua,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/AlertWarning/AlertWarning.tsx",lineNumber:24,columnNumber:24},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/AlertWarning/AlertWarning.tsx",lineNumber:23,columnNumber:7},globalThis),c.jsxDEV("span",{className:fe("alert-warning__text"),children:e||t},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/AlertWarning/AlertWarning.tsx",lineNumber:26,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/AlertWarning/AlertWarning.tsx",lineNumber:22,columnNumber:5},globalThis),fn="_info_1vgj8_1",hn={info:fn,"info-title":"_info-title_1vgj8_11","info-icon":"_info-icon_1vgj8_19"},he=w.bind(hn),vn=({title:e})=>c.jsxDEV("div",{className:he("info"),children:[c.jsxDEV(ra,{className:he("info-icon"),size:24},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/Info/Info.tsx",lineNumber:14,columnNumber:7},globalThis),c.jsxDEV("p",{className:he("info-title"),children:e},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/Info/Info.tsx",lineNumber:15,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/Info/Info.tsx",lineNumber:13,columnNumber:5},globalThis),gn="_card_wewux_1",bn={card:gn,"card-title":"_card-title_wewux_10","card-title__text":"_card-title__text_wewux_21","card-children":"_card-children_wewux_34","card-footer":"_card-footer_wewux_39","card-check":"_card-check_wewux_44","card-check__title":"_card-check__title_wewux_49","card-check__price":"_card-check__price_wewux_61","card-button":"_card-button_wewux_72"},O=w.bind(bn),_n=({title:e,infoTitle:n,children:a,mortgageAmount:t,totalAmount:r,mothlyPayment:i,bankOffer:d,onBankSelect:o})=>{U();const{getContent:l}=H("mortgage_step4"),m=B(),p=t.toLocaleString("en-US"),s=r.toLocaleString("en-US"),f=i.toLocaleString("en-US"),h=()=>{const u=d||{id:`bank_${Date.now()}`,bankName:e,program:n,rate:0,monthlyPayment:i,totalAmount:r,mortgageAmount:t};m(Ze({selectedBank:u,selectedBankId:u.id,selectedBankName:u.bankName})),o&&o(u),m(ve("signUp")),m(ze()),console.log(`[BANK SELECTION] Selected bank: ${u.bankName}`),console.log("[BANK SELECTION] Bank data:",u)};return c.jsxDEV("div",{className:O("card"),children:[c.jsxDEV("div",{className:O("card-title"),children:[c.jsxDEV("h3",{className:O("card-title__text"),children:e},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:91,columnNumber:9},globalThis),c.jsxDEV(vn,{title:n},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:92,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:90,columnNumber:7},globalThis),c.jsxDEV("div",{className:O("card-children"),children:a},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:94,columnNumber:7},globalThis),c.jsxDEV(sa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:95,columnNumber:7},globalThis),c.jsxDEV("div",{className:O("card-footer"),children:[c.jsxDEV("div",{className:O("card-check"),children:[c.jsxDEV("p",{className:O("card-check__title"),children:l("mortgage_total","mortgage_total")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:98,columnNumber:11},globalThis),c.jsxDEV("p",{className:O("card-check__price"),children:[p," ₪"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:99,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:97,columnNumber:9},globalThis),c.jsxDEV("div",{className:O("card-check"),children:[c.jsxDEV("p",{className:O("card-check__title"),children:l("mortgage_total_return","mortgage_total_return")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:102,columnNumber:11},globalThis),c.jsxDEV("p",{className:O("card-check__price"),children:[s," ₪"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:105,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:101,columnNumber:9},globalThis),c.jsxDEV("div",{className:O("card-check"),children:[c.jsxDEV("p",{className:O("card-check__title"),children:l("mortgage_monthly","mortgage_monthly")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:108,columnNumber:11},globalThis),c.jsxDEV("p",{className:O("card-check__price"),children:[f," ₪"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:109,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:107,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:96,columnNumber:7},globalThis),c.jsxDEV("button",{type:"button",className:O("card-button"),onClick:h,children:l("mortgage_select_bank","mortgage_select_bank")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:112,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/components/ui/BankCard/BankCard.tsx",lineNumber:89,columnNumber:5},globalThis)},Nn="_container_ceieu_1",yn="_column_ceieu_8",Dn={container:Nn,column:yn},Q=w.bind(Dn),mt=()=>{const{t:e,i18n:n}=U(),a=fa(),{getContent:t}=H("bank_offers"),[r,i]=I.useState([]),[d,o]=I.useState([]),[l,m]=I.useState(!0),[p,s]=I.useState(null),f=T(v=>v.mortgage),h=T(v=>v.credit),u=T(v=>v.refinanceMortgage),g=T(v=>v.refinanceCredit),b=()=>{switch(a){case"credit":return h;case"refinance-mortgage":return u;case"refinance-credit":return g;default:return f}},N=()=>{switch(a){case"credit":return h;case"refinance-mortgage":return u;case"refinance-credit":return g;default:return f.incomeData}},k=b(),S=N(),P=T(v=>v.filter.mortgageType),y=a==="credit";I.useEffect(()=>{(async()=>{try{m(!0),s(null);const D=()=>{switch(a){case"credit":return h;case"refinance-mortgage":return u;case"refinance-credit":return g;default:return f}},_=va(D(),k,S,a||void 0);console.log("🚀 [BANK-OFFERS] Service Type:",a),console.log("🚀 [BANK-OFFERS] Is Credit:",y),console.log("🚀 [BANK-OFFERS] Selected Parameters:",D()),console.log("🚀 [BANK-OFFERS] User Personal Data:",k),console.log("🚀 [BANK-OFFERS] User Income Data:",S),console.log("🚀 [BANK-OFFERS] Making API request with payload:",_);const E=await ga(_);console.log("🏦 [BANK-OFFERS] Received bank offers:",E.length),E.length===0&&(console.warn("⚠️ [BANK-OFFERS] NO BANK OFFERS FOUND!"),console.log("💡 [BANK-OFFERS] Check admin panel banking standards!")),i(E)}catch(D){console.error("💥 [BANK-OFFERS] Error fetching bank offers:",D),s(D.message||"Unknown error occurred")}finally{m(!1)}})()},[f,h,u,g,k,S,a,e]),I.useEffect(()=>{(async()=>{try{const D=await ba(),_=n.language||"en",E=D.map(j=>{let F=_==="he"?j.title:_==="ru"?j.title_ru:j.title_en;switch(j.id){case"prime":F=y?e("credit_prime_percent","Prime Rate Credit"):e("mortgage_prime_percent","Prime Rate Mortgage");break;case"fixed_inflation":F=y?e("credit_fix_percent","Fixed Rate Credit"):e("mortgage_fix_percent","Fixed Rate Mortgage");break;case"variable_inflation":F=y?e("credit_float_percent","Variable Rate Credit"):e("mortgage_float_percent","Variable Rate Mortgage");break;default:break}return{id:j.id,title:F,description:_==="he"?j.description:_==="ru"?j.description_ru:j.description_en,conditionFinance:_==="he"?j.conditionFinance:_==="ru"?j.conditionFinance_ru:j.conditionFinance_en,conditionPeriod:_==="he"?j.conditionPeriod:_==="ru"?j.conditionPeriod_ru:j.conditionPeriod_en,conditionBid:_==="he"?j.conditionBid:_==="ru"?j.conditionBid_ru:j.conditionBid_en,interestRate:j.interestRate,termYears:j.termYears}});o(E)}catch{console.warn("⚠️ [MORTGAGE-PROGRAMS] Failed to fetch programs, using fallback"),o(y?[{id:"prime",title:e("credit_prime_percent","Prime Rate Credit"),description:e("prime_description","Prime rate linked credit program"),conditionFinance:e("up_to_33_percent","Up to 33%"),conditionPeriod:e("4_to_30_years","4-30 years"),conditionBid:e("prime_rate_structure","Variable + Fixed components")},{id:"fixed_inflation",title:e("credit_fix_percent","Fixed rate linked to inflation"),description:e("fixed_inflation_description","Fixed rate with inflation adjustment"),conditionFinance:e("up_to_70_percent","Up to 70%"),conditionPeriod:e("5_to_30_years","5-30 years"),conditionBid:e("fixed_rate_structure","Fixed rate structure")},{id:"variable_inflation",title:e("credit_float_percent","Variable rate linked to inflation"),description:e("variable_inflation_description","Variable rate with inflation adjustment"),conditionFinance:e("up_to_75_percent","Up to 75%"),conditionPeriod:e("4_to_25_years","4-25 years"),conditionBid:e("variable_rate_structure","Variable rate structure")}]:[{id:"prime",title:e("mortgage_prime_percent","Prime Rate Mortgage"),description:e("prime_description","Prime rate linked mortgage program"),conditionFinance:e("up_to_33_percent","Up to 33%"),conditionPeriod:e("4_to_30_years","4-30 years"),conditionBid:e("prime_rate_structure","Variable + Fixed components")},{id:"fixed_inflation",title:e("mortgage_fix_percent","Fixed rate linked to inflation"),description:e("fixed_inflation_description","Fixed rate with inflation adjustment"),conditionFinance:e("up_to_70_percent","Up to 70%"),conditionPeriod:e("5_to_30_years","5-30 years"),conditionBid:e("fixed_rate_structure","Fixed rate structure")},{id:"variable_inflation",title:e("mortgage_float_percent","Variable rate linked to inflation"),description:e("variable_inflation_description","Variable rate with inflation adjustment"),conditionFinance:e("up_to_75_percent","Up to 75%"),conditionPeriod:e("4_to_25_years","4-25 years"),conditionBid:e("variable_rate_structure","Variable rate structure")}])}})()},[e,n.language,y]);const x=v=>P==="all"||y?v:v.filter(D=>{switch(P){case"prime":return D.id==="prime";case"fixed":return D.id==="fixed_inflation";case"variable":return D.id==="variable_inflation";default:return!0}});return l?c.jsxDEV("div",{className:Q("container"),children:t("loading_bank_offers",e("loading_bank_offers"))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:267,columnNumber:12},globalThis):p?c.jsxDEV("div",{className:Q("container"),children:[t("bank_offers_error",e("bank_offers_error")),p]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:271,columnNumber:12},globalThis):c.jsxDEV("div",{className:Q("container"),children:r.length===0?c.jsxDEV("div",{className:Q("no-offers"),children:[c.jsxDEV("h3",{children:t("no_bank_offers_available",e("no_bank_offers_available"))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:278,columnNumber:11},globalThis),c.jsxDEV("p",{children:t("no_offers_message",e("no_offers_message"))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:279,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:277,columnNumber:9},globalThis):r.map((v,D)=>c.jsxDEV(I.Fragment,{children:c.jsxDEV("div",{className:Q("column"),children:c.jsxDEV(_n,{title:v.bank_name||`${t("bank_name","Bank")} #${D+1}`,infoTitle:y?t("bank_offers_credit_register","Credit Registration"):t("mortgage_register","Mortgage Registration"),mortgageAmount:v.loan_amount,totalAmount:v.total_payment,mothlyPayment:v.monthly_payment,bankOffer:{id:v.bank_id,bankName:v.bank_name,program:y?"Credit Program":"Mortgage Program",rate:v.interest_rate,monthlyPayment:v.monthly_payment,totalAmount:v.total_payment,mortgageAmount:v.loan_amount},children:!y&&(x(d).length>0?x(d).map((_,E)=>c.jsxDEV(ha,{title:_.title,percent:v.interest_rate||_.interestRate||2.1,mortgageAmount:v.loan_amount,monthlyPayment:v.monthly_payment,period:v.term_years||_.termYears||20,description:_.description,conditionFinance:_.conditionFinance,conditionPeriod:_.conditionPeriod,conditionBid:_.conditionBid},E,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:305,columnNumber:23},globalThis)):c.jsxDEV("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:t("no_programs_match_filter",'No programs match your selected filter. Try selecting "All Programs" to see all available options.')},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:319,columnNumber:21},globalThis))},v.bank_id||D,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:285,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:284,columnNumber:13},globalThis)},v.bank_id||D,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:283,columnNumber:11},globalThis))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/BankOffers/BankOffers.tsx",lineNumber:275,columnNumber:5},globalThis)},kn="_dropdown_s6dzj_1",Sn={dropdown:kn},xn=w.bind(Sn),dt=({screenLocation:e}={})=>{U();const n=ca(),a=T(u=>u.filter),t=B(),i=(()=>e||(n.pathname.includes("refinance-credit"),"mortgage_step4"))(),{getContent:d}=H(i),o=Na(i,"filter","full");o.loading&&console.log("🔄 Loading filter dropdown options..."),o.error&&console.warn("❌ Filter dropdown error:",o.error);const l=()=>{switch(a.mortgageType){case"all":return"filter_1";case"prime":return"filter_2";case"fixed":return"filter_3";case"variable":return"filter_4";default:return"filter_1"}},m=n.pathname.includes("refinance-credit"),p=()=>m?[{value:"filter_1",label:d("calculate_mortgage_filter_1","כל הצעות האשראי")},{value:"filter_2",label:d("calculate_mortgage_filter_2","הצעות בריבית מועדפת")},{value:"filter_3",label:d("calculate_mortgage_filter_3","הצעות בריבית קבועה")},{value:"filter_4",label:d("calculate_mortgage_filter_4","הצעות בריבית משתנה")}]:[{value:"filter_1",label:d("calculate_mortgage_filter_1","כל תוכניות המשכנתא")},{value:"filter_2",label:d("calculate_mortgage_filter_2","משכנתאות בריבית פריים")},{value:"filter_3",label:d("calculate_mortgage_filter_3","משכנתאות בריבית קבועה")},{value:"filter_4",label:d("calculate_mortgage_filter_4","משכנתאות בריבית משתנה")}],s=o.options.length>0?o.options:p(),h=(()=>m?{title:d("calculate_mortgage_filter_title","סנן הצעות אשראי"),placeholder:d("calculate_mortgage_filter_title","סנן הצעות אשראי")}:{title:d("calculate_mortgage_filter_title","סנן לפי סוג משכנתא"),placeholder:d("calculate_mortgage_filter_title","סנן לפי סוג משכנתא")})();return c.jsxDEV(ne,{children:[c.jsxDEV(ya,{data:s,title:o.label||h.title,placeholder:o.placeholder||h.placeholder,value:l(),onChange:u=>t(Je(u)),className:xn("dropdown"),style:{background:"transparent !important"},disabled:o.loading},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/Filter/Filter.tsx",lineNumber:120,columnNumber:7},globalThis),o.error&&c.jsxDEV(la,{error:d("error_dropdown_load_failed","Failed to load filter options. Please refresh the page.")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/Filter/Filter.tsx",lineNumber:131,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/Filter/Filter.tsx",lineNumber:119,columnNumber:5},globalThis)},Pn=e=>c.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",...e,children:c.jsxDEV("path",{fill:"#FBE54D",d:"m21.31 6.88-4.188-4.19a1.5 1.5 0 0 0-2.122 0L3.44 14.25A1.487 1.487 0 0 0 3 15.312v4.19A1.5 1.5 0 0 0 4.5 21h4.19a1.487 1.487 0 0 0 1.06-.44l11.56-11.56a1.5 1.5 0 0 0 0-2.122ZM8.69 19.5H4.5v-4.189l8.25-8.25 4.19 4.19-8.25 8.25ZM18 10.19 13.81 6l2.25-2.25 4.19 4.19L18 10.19Z"},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/assets/icons/PencilSimple/PencilSimple.tsx",lineNumber:10,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/assets/icons/PencilSimple/PencilSimple.tsx",lineNumber:3,columnNumber:5},globalThis),jn="_profile_dtpha_1",In={profile:jn,"profile-title":"_profile-title_dtpha_16","profile-title__text":"_profile-title__text_dtpha_21","profile-title__icon":"_profile-title__icon_dtpha_27","profile-data":"_profile-data_dtpha_34","profile-data__name":"_profile-data__name_dtpha_39","profile-data__phone":"_profile-data__phone_dtpha_45"},z=w.bind(In),Tn=({name:e,phone:n})=>{const{t:a,i18n:t}=U(),{getContent:r}=H("mortgage_step4"),i=ma();return c.jsxDEV(ne,{children:c.jsxDEV("div",{className:z("profile"),children:[c.jsxDEV("div",{className:z("profile-title"),children:[c.jsxDEV("p",{className:z("profile-title__text"),children:r("calculate_mortgage_profile_title","calculate_mortgage_profile_title")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:26,columnNumber:11},globalThis),c.jsxDEV(Pn,{onClick:()=>i("/services/calculate-mortgage/2"),className:z("profile-title__icon")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:29,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:25,columnNumber:9},globalThis),c.jsxDEV("div",{className:z("profile-data"),children:[c.jsxDEV("div",{className:z("profile-data__name"),children:e},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:35,columnNumber:11},globalThis),c.jsxDEV("div",{className:z("profile-data__phone"),children:n&&pa(n,t.language)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:36,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:34,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:24,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/PersonalProfile/PersonalProfile.tsx",lineNumber:23,columnNumber:5},globalThis)},ut=({cost:e,initialPayment:n,period:a,credit:t,nameSurname:r,phoneNumber:i})=>c.jsxDEV(Da,{style:{columnGap:"3rem",justifyContent:"flex-start"},children:[c.jsxDEV(_a,{cost:e,initialPayment:n,period:a,credit:t},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/UserParams/UserParams.tsx",lineNumber:28,columnNumber:7},globalThis),c.jsxDEV(Tn,{name:r,phone:i},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/UserParams/UserParams.tsx",lineNumber:34,columnNumber:7},globalThis),c.jsxDEV(ne,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/UserParams/UserParams.tsx",lineNumber:35,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/components/UserParams/UserParams.tsx",lineNumber:27,columnNumber:5},globalThis),Mn="_modal_lzcpe_1",On="_buttons_lzcpe_49",En={modal:Mn,"modal-item":"_modal-item_lzcpe_18","modal-buttons":"_modal-buttons_lzcpe_31",buttons:On},se=w.bind(En),wn=()=>{const{t:e,i18n:n}=U(),{handleSubmit:a,isValid:t,values:r}=me(),i=B();return c.jsxDEV(c.Fragment,{children:c.jsxDEV("div",{className:se("modal"),children:[c.jsxDEV("div",{className:se("modal-item"),children:[c.jsxDEV(ka,{excludeNoIncome:!0},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:26,columnNumber:11},globalThis),r.additionalIncome&&r.additionalIncome!=="no_additional_income"&&c.jsxDEV(Sa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:27,columnNumber:93},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:25,columnNumber:9},globalThis),c.jsxDEV("div",{className:se("modal-buttons"),children:c.jsxDEV("div",{className:se("buttons"),children:[c.jsxDEV(W,{variant:"modalBase",type:"submit",onClick:()=>i(R()),children:e("button_back")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:31,columnNumber:13},globalThis),c.jsxDEV(W,{type:"submit",isDisabled:!t,onClick:a,size:"full",children:e("button_next_save")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:38,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:30,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:29,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:24,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeForm/AdditionalIncomeForm.tsx",lineNumber:23,columnNumber:5},globalThis)},pt=()=>{const{t:e,i18n:n}=U(),{getContent:a}=H("common");I.useEffect(()=>{Qe()},[n.language]);const t=B(),r=T(u=>u.modalSlice.isOpenAdditionalIncome),i=T(u=>u.modalSlice.currentId),d=T(u=>u.borrowers.additionalIncomeModal),o=d[i-1]!==void 0?d[i-1]:void 0,l=()=>{t(R())},m=T(u=>u.borrowers.additionalIncomeModal),s=!m.some(u=>u.id===i)?Ie(m):i,f={additionalIncome:(o==null?void 0:o.additionalIncome)||"",additionalIncomeAmount:(o==null?void 0:o.additionalIncomeAmount)||null},h=Se().shape({additionalIncome:A().required(V("error_select_one_of_the_options","Please select one of the options")).test("not-empty",V("error_select_one_of_the_options","Please select one of the options"),u=>u!=null&&u!==""),additionalIncomeAmount:xe().when("additionalIncome",{is:u=>u&&u!=="no_additional_income",then:u=>u.required(V("error_fill_field","Please fill this field")),otherwise:u=>u.notRequired()})});return c.jsxDEV(ke,{isVisible:r,onCancel:l,title:`${a("additional_source_of_income_modal_title","Additional Source of Income")} ${s+1}`,children:c.jsxDEV(Pe,{initialValues:f,validationSchema:h,validateOnMount:!0,onSubmit:u=>{t(ea({id:s,...u})),l()},children:c.jsxDEV(je,{children:c.jsxDEV(wn,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeModal.tsx",lineNumber:87,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeModal.tsx",lineNumber:86,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeModal.tsx",lineNumber:77,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/AdditionalIncomeModal/AdditionalIncomeModal.tsx",lineNumber:72,columnNumber:5},globalThis)},Un="_modal_r2hy9_1",Vn="_container_r2hy9_41",Fn="_component_r2hy9_47",Cn="_buttons_r2hy9_59",$n={modal:Un,"modal-item":"_modal-item_r2hy9_18","modal-buttons":"_modal-buttons_r2hy9_23",container:Vn,component:Fn,buttons:Cn},ee=w.bind($n),An=()=>{const{t:e,i18n:n}=U(),{getContent:a}=H("common"),{handleSubmit:t,isValid:r,values:i,errors:d}=me(),o=B(),{obligation:l}=i,p=(s=>!s||s==="5"||s==="no_obligations"?"":s&&!s.match(/^\d+$/)?s:{1:"bank_loan",2:"consumer_credit",3:"credit_card",4:"other"}[s]||"")(l);return console.log("🔍 Obligation Modal - Mapping:",{originalValue:l,mappedKey:p,hasComponents:!!ie[p],availableKeys:Object.keys(ie)}),console.log("🔍 Obligation Modal - Form State:",{isValid:r,values:i,errors:d,obligation:l}),c.jsxDEV(c.Fragment,{children:c.jsxDEV("div",{className:ee("modal"),children:[c.jsxDEV("div",{className:ee("container"),children:[c.jsxDEV(xa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:72,columnNumber:11},globalThis),ie[p]&&ie[p].map((s,f)=>c.jsxDEV("div",{className:ee("component"),children:s},f,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:75,columnNumber:15},globalThis)),c.jsxDEV(ne,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:79,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:71,columnNumber:9},globalThis),c.jsxDEV("div",{className:ee("modal-buttons"),children:c.jsxDEV("div",{className:ee("buttons"),children:[c.jsxDEV(W,{variant:"modalBase",type:"button",onClick:()=>o(R()),children:a("button_back")||(n.language==="he"?"חזור":n.language==="ru"?"Назад":"Back")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:83,columnNumber:13},globalThis),c.jsxDEV(W,{type:"submit",isDisabled:!r,onClick:t,size:"full",children:a("button_next_save")||(n.language==="he"?"שמור והמשך":n.language==="ru"?"Сохранить и продолжить":"Save and Continue")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:90,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:82,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:81,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:70,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationForm/ObligationForm.tsx",lineNumber:69,columnNumber:5},globalThis)};function Le(){return Se().shape({obligation:A().required(V("error_select_one_of_the_options","Please select one of the options")),bank:A().when("obligation",{is:e=>e&&e!=="no_obligations"&&e!=="other",then:e=>e.required(V("error_select_bank","Please select a bank")),otherwise:e=>e.notRequired()}),monthlyPaymentForAnotherBank:xe().when("obligation",{is:e=>e&&e!=="no_obligations"&&e!=="other",then:e=>e.required(V("error_fill_field","Please fill this field")),otherwise:e=>e.notRequired()}),endDate:A().when("obligation",{is:e=>e&&e!=="no_obligations"&&e!=="other",then:e=>e.required(V("error_date","Please enter a valid date")),otherwise:e=>e.notRequired()})})}const ft=()=>{const{t:e,i18n:n}=U(),{getContent:a}=H("common"),[t,r]=I.useState(()=>Le()),i=B();I.useEffect(()=>{(async()=>{console.log("🔄 ObligationModal: Preloading validation errors for language:",n.language),await na();const g=Le();r(g),console.log("✅ ObligationModal: Validation schema updated for language:",n.language)})()},[n.language]);const d=T(u=>u.modalSlice.isOpenObligation),o=T(u=>u.modalSlice.currentId),l=T(u=>u.borrowers.obligationModal),m=l[o-1]!==void 0?l[o-1]:void 0,p=()=>{i(R())},f=!l.some(u=>u.id===o)?Ie(l):o,h={obligation:(m==null?void 0:m.obligation)||"",bank:(m==null?void 0:m.bank)||"",monthlyPaymentForAnotherBank:(m==null?void 0:m.monthlyPaymentForAnotherBank)||null,endDate:(m==null?void 0:m.endDate)||new Date().toISOString().split("T")[0],noIncome:(m==null?void 0:m.noIncome)||new Date().toISOString().split("T")[0]};return c.jsxDEV(ke,{isVisible:d,onCancel:p,title:`${a("obligation_modal_title",e("obligation_modal_title"))} ${f+1}`,children:c.jsxDEV(Pe,{initialValues:h,validationSchema:t,validateOnMount:!0,onSubmit:u=>{i(aa({id:f,...u})),p()},children:c.jsxDEV(je,{children:c.jsxDEV(An,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationModal.tsx",lineNumber:109,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationModal.tsx",lineNumber:108,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationModal.tsx",lineNumber:99,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/ObligationModal/ObligationModal.tsx",lineNumber:94,columnNumber:5},globalThis)},Bn="_modal_1gdud_1",Rn="_container_1gdud_41",Hn="_component_1gdud_47",Ln="_buttons_1gdud_59",zn={modal:Bn,"modal-item":"_modal-item_1gdud_18","modal-buttons":"_modal-buttons_1gdud_23",container:Rn,component:Hn,buttons:Ln},X=w.bind(zn),Kn=()=>{const{t:e,i18n:n}=U(),{handleSubmit:a,isValid:t,values:r,errors:i,touched:d,validateForm:o}=me(),l=window.location.pathname,m=l.includes("calculate-credit")?"credit_step3":l.includes("calculate-mortgage")?"mortgage_step3":l.includes("refinance-mortgage")?"refinance_step3":l.includes("other-borrowers")?"other_borrowers_step2":"credit_step3",{mainSourceOfIncome:p}=r,f=(g=>g&&!g.match(/^\d+$/)?g:{1:"employee",2:"selfemployed",3:"selfemployed",4:"pension",5:"student",6:"unemployed",7:"other"}[g]||"")(p),h=ja(m);M.useEffect(()=>{console.log("🔎 SourceOfIncomeModal mapping:",{rawValue:p,incomeSourceKey:f,screenLocation:m,availableKeys:Object.keys(h),willRender:!!h[f]})},[p,f,m,h]);const u=B();return M.useEffect(()=>{console.log("🔍 Form Validation Debug:",{isValid:t,values:r,errors:i,touched:d,mainSourceOfIncome:r.mainSourceOfIncome})},[t,r,i,d]),M.useEffect(()=>{p&&o()},[p,o]),c.jsxDEV(c.Fragment,{children:c.jsxDEV("div",{className:X("modal"),children:[c.jsxDEV("div",{className:X("container"),children:[c.jsxDEV("div",{className:X("component"),children:c.jsxDEV(Pa,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:98,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:97,columnNumber:11},globalThis),h[f]&&h[f].map((g,b)=>c.jsxDEV("div",{className:X("component"),children:g},b,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:103,columnNumber:17},globalThis)),c.jsxDEV(ne,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:108,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:96,columnNumber:9},globalThis),c.jsxDEV("div",{className:X("modal-buttons"),children:c.jsxDEV("div",{className:X("buttons"),children:[c.jsxDEV(W,{variant:"modalBase",type:"button",onClick:()=>u(R()),children:e("button_back")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:112,columnNumber:13},globalThis),c.jsxDEV(W,{type:"button",isDisabled:!t,onClick:a,size:"full",children:e("button_next_save")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:119,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:111,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:110,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:95,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeForm/SourceOfIncomeForm.tsx",lineNumber:94,columnNumber:5},globalThis)},ht=()=>{U();const{getContent:e}=H("common"),n=B(),a=T(s=>s.modalSlice.isOpenSourceOfIncome),t=T(s=>s.modalSlice.currentId),r=T(s=>s.borrowers.sourceOfIncomeModal),i=r[t-1]!==void 0?r[t-1]:void 0,d=()=>{n(R())},l=!r.some(s=>s.id===t)?Ie(r):t,m={mainSourceOfIncome:(i==null?void 0:i.mainSourceOfIncome)||"",monthlyIncome:(i==null?void 0:i.monthlyIncome)||null,startDate:(i==null?void 0:i.startDate)||new Date().getTime(),fieldOfActivity:(i==null?void 0:i.fieldOfActivity)||"",profession:(i==null?void 0:i.profession)||"",companyName:(i==null?void 0:i.companyName)||"",amountIncomeCurrentYear:(i==null?void 0:i.amountIncomeCurrentYear)||null},p=Se().shape({mainSourceOfIncome:A().required(V("error_select_answer","Please select an answer")),monthlyIncome:xe().transform((s,f)=>{if(typeof f=="string"){const h=f.replace(/[^0-9]/g,"");return h?parseInt(h,10):null}return s}).when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(V("error_fill_field","Please fill this field")),otherwise:s=>s.notRequired()}),startDate:A().when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(V("error_date","Please select a date")),otherwise:s=>s.notRequired()}),fieldOfActivity:A().when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(V("error_select_field_of_activity","Please select field of activity")),otherwise:s=>s.notRequired()}),profession:A().when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(V("error_fill_field","Please fill this field")),otherwise:s=>s.notRequired()}),companyName:A().when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(V("error_fill_field","Please fill this field")),otherwise:s=>s.notRequired()})});return c.jsxDEV(ke,{isVisible:a,onCancel:d,title:`${e("source_of_income_modal_title","Source of Income")} ${l+1}`,children:c.jsxDEV(Pe,{initialValues:m,validationSchema:p,validateOnMount:!1,validateOnChange:!0,validateOnBlur:!0,onSubmit:s=>{n(ta({id:l,...s})),d()},children:c.jsxDEV(je,{children:c.jsxDEV(Kn,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeModal.tsx",lineNumber:110,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeModal.tsx",lineNumber:109,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeModal.tsx",lineNumber:98,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/mainapp/src/pages/Services/pages/Modals/SourceOfIncomeModal/SourceOfIncomeModal.tsx",lineNumber:93,columnNumber:5},globalThis)};export{ct as A,mt as B,dt as F,rt as M,ft as O,lt as S,ut as U,st as a,ht as b,pt as c};
