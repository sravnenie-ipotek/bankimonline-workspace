import{j as e}from"./ui-vendor-99260b86.js";import{u as o}from"./form-vendor-6d56d196.js";import{a as n,E as a,S as t}from"./index-73dd41d9.js";import{a as r}from"./useDropdownData-1fd3cd06.js";import{C as l}from"./Column-8e9274b3.js";import{M as i}from"./AddButton-c0dadcb9.js";import{u as s}from"./i18n-vendor-18addd5f.js";import{D as c}from"./DropdownMenu-9b978d84.js";import{F as d}from"./FormattedInput-8631259e.js";import{u as m}from"./react-vendor-21ec1e1c.js";import{C as u}from"./Calendar-372900a0.js";import{c as h}from"./index-be42ab03.js";const _=e=>Math.max(0,...e.map(e=>e.id))+1,p=()=>{const{t:o,i18n:n}=s();return e.jsx(i,{children:o("add_inc")})},g=({screenLocation:t="mortgage_step3",excludeNoIncome:i=!1})=>{const{t:d,i18n:m}=s(),{getContent:u}=n(t),{values:h,setFieldValue:_,errors:g,setFieldTouched:j,touched:x,setFieldError:f,validateField:y}=o(),v=null==t?void 0:t.includes("credit"),b=null==t?void 0:t.includes("refinance"),I=r(t,"additional_income","full"),F=(null==I?void 0:I.options)||[],k=i?F.filter(e=>!(e=>{if(!e)return!1;const o=e.toLowerCase();return"option_1"===o||"1"===o||o.includes("no_additional")||o.includes("no additional")||o.includes("none")})(e.value)&&"no_additional_income"!==e.value):F,B=(()=>{if(!x.additionalIncome)return!1;if(!g.additionalIncome)return!1;return!(h.additionalIncome&&""!==h.additionalIncome&&null!==h.additionalIncome&&void 0!==h.additionalIncome)})();return e.jsxs(l,{children:[e.jsx(c,{title:(v||b)&&I?I.label:u("calculate_mortgage_has_additional",d("calculate_mortgage_has_additional")),placeholder:(v||b)&&I?I.placeholder:u("calculate_mortgage_has_additional_ph",d("calculate_mortgage_has_additional_ph")),data:k,value:h.additionalIncome,onChange:e=>{_("additionalIncome",e,!1),e&&""!==e&&null!=e?(f("additionalIncome",void 0),j("additionalIncome",!0,!1),Promise.resolve().then(()=>{f("additionalIncome",void 0)})):j("additionalIncome",!0,!0)},onBlur:()=>j("additionalIncome",!0),error:!!B&&g.additionalIncome,disabled:(v||b)&&(null==I?void 0:I.loading)}),(v||b)&&(null==I?void 0:I.error)&&e.jsx(a,{error:u("error_dropdown_load_failed","Failed to load additional income options. Please refresh the page.")}),e.jsx(p,{})]})},j=()=>{const{t:n,i18n:t}=s(),{values:r,setFieldValue:i,errors:c,setFieldTouched:m,touched:u}=o();return e.jsxs(l,{children:[e.jsx(d,{title:n("calculate_mortgage_monthly_income"),placeholder:n("calculate_mortgage_monthly_income_ph"),value:r.additionalIncomeAmount,handleChange:e=>i("additionalIncomeAmount",e),onBlur:()=>m("additionalIncomeAmount"),error:u.additionalIncomeAmount&&c.additionalIncomeAmount,size:"xs"}),u.additionalIncomeAmount&&c.additionalIncomeAmount&&e.jsx(a,{error:c.additionalIncomeAmount})]})},x=({screenLocation:t})=>{const i=m(),d=t||(i.pathname.includes("calculate-mortgage")?"mortgage_step3":i.pathname.includes("refinance-mortgage")?"refinance_step3":i.pathname.includes("other-borrowers")?"other_borrowers_step2":"credit_step3");s();const{getContent:u}=n(d),{values:h,setFieldValue:_,touched:p,errors:g,setFieldTouched:j}=o(),x=r(d,"obligations","full"),f="loading"in x,y=f?x.options:x,v=!!f&&x.loading,b=f?x.error:null,I=f?x.label:null,F=f?x.placeholder:null,k=p.obligation&&g.obligation;return e.jsxs(l,{children:[e.jsx(c,{title:I||u("calculate_credit_existing_debts","חובות קיימים"),data:y,placeholder:F||u("calculate_credit_existing_debts_ph","האם יש לך חובות או התחייבויות קיימים?"),value:h.obligation,onChange:e=>{_("obligation",e),j("obligation",!0)},onBlur:()=>j("obligation",!0),error:k,disabled:v}),b&&e.jsx(a,{error:u("error_dropdown_load_failed","טעינת אפשרויות החובות נכשלה. אנא רענן את הדף.")})]})},f=({screenLocation:a="calculate_credit_3"})=>{s();const{getContent:t}=n("common"),{values:r,setFieldValue:i,errors:d,touched:m,setFieldTouched:u}=o(),h="calculate_credit_3"===a&&r.obligation,_=h?t("obligation_bank_title","Bank Lender"):t("bank_title","Bank"),p=t(h?"obligation_bank_placeholder":"bank_placeholder","Select bank"),g=[{value:"1",label:t("bank_option_1","Bank Hapoalim")},{value:"2",label:t("bank_option_2","Bank Leumi")},{value:"3",label:t("bank_option_3","Bank Discount")},{value:"4",label:t("bank_option_4","Bank Mizrahi")},{value:"5",label:t("bank_option_5","Other Bank")}];return e.jsx(l,{children:e.jsx(c,{title:_,placeholder:p,data:g,value:r.bank,onChange:e=>i("bank",e),onBlur:()=>u("bank"),error:m.bank&&d.bank,disabled:!1})})},y=()=>{const{t:t,i18n:r}=s(),{getContent:i}=n("common"),{values:c,setFieldValue:d,errors:m}=o();return e.jsxs(l,{children:[e.jsx(u,{title:i("obligation_end_date_title","Obligation End Date"),value:c.endDate,onChange:e=>d("endDate",e),placeholder:i("date_placeholder",t("date_ph")),error:m.endDate,blockPastDates:!0}),m.endDate&&e.jsx(a,{error:m.endDate})]})},v=()=>{s();const{getContent:t}=n("common"),{values:r,setFieldValue:i,errors:c,setFieldTouched:m,touched:u}=o();return e.jsxs(l,{children:[e.jsx(d,{value:r.monthlyPaymentForAnotherBank,title:t("obligation_monthly_payment_title","Monthly Payment"),placeholder:t("obligation_monthly_payment_placeholder","Enter monthly payment amount"),name:"MonthlyPayment",handleChange:e=>i("monthlyPaymentForAnotherBank",e),onBlur:()=>m("monthlyPayment"),error:u.monthlyPaymentForAnotherBank&&c.monthlyPaymentForAnotherBank,size:"xs"}),u.monthlyPaymentForAnotherBank&&c.monthlyPaymentForAnotherBank&&e.jsx(a,{error:c.monthlyPaymentForAnotherBank})]})},b={bank_loan:[e.jsx(f,{},"Bank"),e.jsx(v,{},"MonthlyPayment"),e.jsx(y,{},"EndDate")],consumer_credit:[e.jsx(f,{},"Bank"),e.jsx(v,{},"MonthlyPayment"),e.jsx(y,{},"EndDate")],credit_card:[e.jsx(v,{},"MonthlyPayment")],other:[e.jsx(v,{},"MonthlyPayment")]},I=({screenLocation:t})=>{const i=m(),d=t||(i.pathname.includes("calculate-mortgage")?"mortgage_step3":i.pathname.includes("refinance-mortgage")?"refinance_step3":i.pathname.includes("other-borrowers")?"other_borrowers_step2":"credit_step3");s();const{getContent:u}=n(d),{values:h,setFieldValue:_,errors:p,touched:g,setFieldTouched:j}=o(),x=r(d,"main_source","full"),f=(()=>{if(!g.mainSourceOfIncome)return!1;if(!p.mainSourceOfIncome)return!1;return!(h.mainSourceOfIncome&&""!==h.mainSourceOfIncome&&null!==h.mainSourceOfIncome&&void 0!==h.mainSourceOfIncome)})();return e.jsxs(l,{children:[e.jsx(c,{data:x.options,title:x.label||u("calculate_credit_main_source","מקור הכנסה עיקרי"),placeholder:x.placeholder||u("calculate_credit_main_source_ph","בחר מקור הכנסה עיקרי"),value:h.mainSourceOfIncome||"",onChange:e=>{_("mainSourceOfIncome",e,!0),j("mainSourceOfIncome",!0,!1)},onBlur:()=>j("mainSourceOfIncome",!0,!0),error:!!f&&p.mainSourceOfIncome,disabled:x.loading}),x.error&&e.jsx(a,{error:u("error_dropdown_load_failed","טעינת אפשרויות מקור ההכנסה נכשלה. אנא רענן את הדף.")})]})},F=()=>{const{t:n,i18n:r}=s(),{values:i,setFieldValue:c,errors:d,setFieldTouched:m,touched:u}=o();return e.jsxs(l,{children:[e.jsx(t,{placeholder:n("calculate_mortgage_company"),value:i.companyName,title:n("calculate_mortgage_company"),name:"СompanyName",onChange:e=>c("companyName",e),onBlur:()=>m("companyName"),error:u.companyName&&d.companyName}),u.companyName&&d.companyName&&e.jsx(a,{error:d.companyName})]})},k=({screenLocation:t})=>{const i=m(),s=t||(i.pathname.includes("calculate-mortgage")?"mortgage_step3":i.pathname.includes("refinance-mortgage")?"refinance_step3":i.pathname.includes("other-borrowers")?"other_borrowers_step2":"credit_step3"),{getContent:d}=n(s),{values:u,setFieldValue:h,errors:_,setFieldTouched:p,touched:g}=o(),j="other_borrowers_step2"===(x=s)||"mortgage_step3"===x||"refinance_step3"===x?"field_of_activity":"professional_sphere";var x;const f=r(s,j,"full");return f.loading,f.error,e.jsxs(l,{children:[e.jsx(c,{data:f.options,title:f.label||d("calculate_credit_professional_sphere","תחום מקצועי"),placeholder:f.placeholder||d("calculate_credit_professional_sphere_ph","בחר תחום מקצועי"),searchable:!0,searchPlaceholder:d("search","Search..."),value:u.fieldOfActivity,onChange:e=>{h("fieldOfActivity",e,!0),p("fieldOfActivity",!0,!1)},onBlur:()=>p("fieldOfActivity",!0,!0),error:g.fieldOfActivity&&_.fieldOfActivity,disabled:f.loading}),f.error&&e.jsx(a,{error:d("error_dropdown_load_failed","טעינת אפשרויות התחום המקצועי נכשלה. אנא רענן את הדף.")})]})},B={hint:"_hint_1enfl_1"},C=h.bind(B),A=({text:o})=>e.jsx("div",{className:C("hint"),children:o}),L=()=>{const{t:n,i18n:t}=s(),{values:r,setFieldValue:i,errors:c,setFieldTouched:m,touched:u}=o();return e.jsxs(l,{children:[e.jsx(d,{title:n("calculate_mortgage_monthly_income"),placeholder:n("calculate_mortgage_monthly_income_ph"),value:r.monthlyIncome,handleChange:e=>i("monthlyIncome",e),onBlur:()=>m("monthlyIncome"),error:u.monthlyIncome&&c.monthlyIncome,size:"xs"}),e.jsx(A,{text:n("calculate_mortgage_monthly_income_hint")}),u.monthlyIncome&&c.monthlyIncome&&e.jsx(a,{error:c.monthlyIncome})]})},O=()=>{const{t:n,i18n:t}=s(),{values:r,setFieldValue:i,errors:c}=o();return e.jsxs(l,{children:[e.jsx(u,{title:n("no_income"),value:r.noIncome,onChange:e=>i("noIncome",e),placeholder:n("date_ph"),error:c.noIncome}),c.noIncome&&e.jsx(a,{error:c.noIncome})]})},D=()=>{const{t:n,i18n:r}=s(),{values:i,setFieldValue:c,errors:d,setFieldTouched:m,touched:u}=o();return e.jsxs(l,{children:[e.jsx(t,{placeholder:n("calculate_mortgage_profession_ph"),value:i.profession,title:n("calculate_mortgage_profession"),name:"Profession",onChange:e=>c("profession",e),onBlur:()=>m("profession"),error:u.profession&&d.profession}),u.profession&&d.profession&&e.jsx(a,{error:d.profession})]})};function P(){const{t:o,i18n:n}=s();return e.jsx(i,{children:o("calculate_mortgage_step3_ctx")})}const M=()=>{const{t:n,i18n:t}=s(),{values:r,setFieldValue:i,errors:c}=o();return e.jsxs(l,{children:[e.jsx(u,{title:n("calculate_mortgage_start_date"),value:r.startDate,onChange:e=>i("startDate",e),placeholder:n("date_ph"),error:c.startDate}),e.jsx(P,{}),c.startDate&&e.jsx(a,{error:c.startDate})]})},S=o=>({employee:[e.jsx(L,{screenLocation:o},"MonthlyIncome1"),e.jsx(M,{screenLocation:o},"StartDate1"),e.jsx(k,{screenLocation:o},"FieldOfActivity1"),e.jsx(F,{screenLocation:o},"CompanyName1"),e.jsx(D,{screenLocation:o},"Profession1")],selfemployed:[e.jsx(L,{screenLocation:o},"MonthlyIncome2"),e.jsx(M,{screenLocation:o},"StartDate2"),e.jsx(k,{screenLocation:o},"FieldOfActivity2"),e.jsx(F,{screenLocation:o},"CompanyName2"),e.jsx(D,{screenLocation:o},"Profession2")],pension:[e.jsx(L,{screenLocation:o},"MonthlyIncome4"),e.jsx(l,{},"column")],unemployed:[e.jsx(O,{screenLocation:o},"NoIncome5"),e.jsx(l,{},"column")],unpaid_leave:[e.jsx(O,{screenLocation:o},"NoIncome6"),e.jsx(l,{},"column")],student:[e.jsx(L,{screenLocation:o},"MonthlyIncome7"),e.jsx(l,{},"column")],other:[e.jsx(L,{screenLocation:o},"MonthlyIncome8"),e.jsx(l,{},"column")]}),N=S("auto-detect");export{g as A,I as M,x as O,j as a,_ as b,b as c,N as d,S as g};
