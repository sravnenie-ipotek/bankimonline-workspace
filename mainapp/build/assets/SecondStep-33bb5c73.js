import{c as e,d as n,g as o,a as i,U as a,m as l,R as t,i as r}from"./index-09bacb8e.js";import{u as s,B as d,c,b as m,d as u,f as _,e as h,M as v,F as b,g as x,D as j,A as f,G as g,H as p,J as I,K as y,N as D,a as w}from"./index-df54a9f4.js";import{a as q,b as S,c as O,u as k,e as N,f as A,g as C}from"./borrowersPersonalDataSlice-9c68a163.js";import{C as F,F as B,a as P,R as $,c as M}from"./StringInput-a6a30de1.js";import{b as R,d as V,g as E,O as z,e as T,a as Y,c as U,U as G,A as H}from"./componentsByIncomeSource-e4854958.js";const J={modal:"_modal_lzcpe_1","modal-item":"_modal-item_lzcpe_18","modal-buttons":"_modal-buttons_lzcpe_31",buttons:"_buttons_lzcpe_49"},K=e.bind(J),L=()=>{const{t:e,i18n:l}=n();l.language=l.language.split("-")[0];const{handleSubmit:t,isValid:r,values:c}=s(),m=o();return i.jsx(i.Fragment,{children:i.jsxs("div",{className:K("modal"),children:[i.jsxs("div",{className:K("modal-item"),children:[i.jsx(R,{}),c.additionalIncome&&i.jsx(V,{})]}),i.jsx("div",{className:K("modal-buttons"),children:i.jsxs("div",{className:K("buttons"),children:[i.jsx(d,{variant:"modalBase",type:"submit",onClick:()=>m(a()),children:e("button_back")}),i.jsx(d,{type:"submit",isDisabled:!r,onClick:t,size:"full",children:e("button_next_save")})]})})]})})},Q=()=>{const{t:e,i18n:o}=n();o.language=o.language.split("-")[0];const t=c(),r=m(e=>e.modalSlice.isOpenAdditionalIncome),s=m(e=>e.modalSlice.currentId),d=m(e=>e.borrowersPersonalData.additionalIncomeModal),j=void 0!==d[s-1]?d[s-1]:void 0,f=()=>{t(a())},g=!d.some(e=>e.id===s)?E(d):s,p={additionalIncome:(null==j?void 0:j.additionalIncome)||"",additionalIncomeAmount:(null==j?void 0:j.additionalIncomeAmount)||null},I=u().shape({additionalIncome:_().required(e("error_select_one_of_the_options")),additionalIncomeAmount:h().when("additionalIncome",{is:e=>null!=e&&""!==e&&"no"===e,then:e=>e.required(l.t("error_fill_field")),otherwise:e=>e.notRequired()})});return i.jsx(v,{isVisible:r,onCancel:f,title:`${e("additional_source_of_income")} ${g+1}`,children:i.jsx(b,{initialValues:p,validationSchema:I,validateOnMount:!0,onSubmit:e=>{t(q({id:g,...e})),f()},children:i.jsx(x,{children:i.jsx(L,{})})})})},W={modal:"_modal_r2hy9_1","modal-item":"_modal-item_r2hy9_18","modal-buttons":"_modal-buttons_r2hy9_23",container:"_container_r2hy9_41",component:"_component_r2hy9_47",buttons:"_buttons_r2hy9_59"},X=e.bind(W),Z=()=>{const{t:e,i18n:l}=n();l.language=l.language.split("-")[0];const{handleSubmit:t,isValid:r,values:c}=s(),m=o(),{obligation:u}=c;return i.jsx(i.Fragment,{children:i.jsxs("div",{className:X("modal"),children:[i.jsxs("div",{className:X("container"),children:[i.jsx(z,{}),T[u]&&T[u].map((e,n)=>i.jsx("div",{className:X("component"),children:e},n)),i.jsx(F,{})]}),i.jsx("div",{className:X("modal-buttons"),children:i.jsxs("div",{className:X("buttons"),children:[i.jsx(d,{variant:"modalBase",type:"submit",onClick:()=>m(a()),children:e("button_back")}),i.jsx(d,{type:"submit",isDisabled:!r,onClick:t,size:"full",children:e("button_next_save")})]})})]})})},ee=()=>{const{t:e,i18n:o}=n();o.language=o.language.split("-")[0];const l=c(),t=m(e=>e.modalSlice.isOpenObligation),r=m(e=>e.modalSlice.currentId),s=m(e=>e.borrowersPersonalData.obligationModal),d=void 0!==s[r-1]?s[r-1]:void 0,j=()=>{l(a())},f=!s.some(e=>e.id===r)?E(s):r,g={obligation:(null==d?void 0:d.obligation)||"",bank:(null==d?void 0:d.bank)||"",monthlyPaymentForAnotherBank:(null==d?void 0:d.monthlyPaymentForAnotherBank)||null,endDate:(null==d?void 0:d.endDate)||(new Date).getTime(),noIncome:(null==d?void 0:d.noIncome)||(new Date).getTime()},p=u().shape({obligation:u().required(e("error_select_one_of_the_options")),bank:u().when("obligation",{is:e=>null!=e&&""!==e&&"no"===e,then:n=>n.required(e("error_select_bank")),otherwise:e=>e.notRequired()}),monthlyPaymentForAnotherBank:h().when("obligation",{is:e=>null!=e&&""!==e&&"no"===e,then:n=>n.required(e("error_fill_field")),otherwise:e=>e.notRequired()}),endDate:_().required(e("error_date"))});return i.jsx(v,{isVisible:t,onCancel:j,title:`${e("obligation")} ${f+1}`,children:i.jsx(b,{initialValues:g,validationSchema:p,validateOnMount:!0,onSubmit:e=>{l(S({id:f,...e})),j()},children:i.jsx(x,{children:i.jsx(Z,{})})})})},ne={modal:"_modal_1gdud_1","modal-item":"_modal-item_1gdud_18","modal-buttons":"_modal-buttons_1gdud_23",container:"_container_1gdud_41",component:"_component_1gdud_47",buttons:"_buttons_1gdud_59"},oe=e.bind(ne),ie=()=>{const{t:e,i18n:l}=n();l.language=l.language.split("-")[0];const{handleSubmit:t,isValid:r,values:c}=s(),{mainSourceOfIncome:m}=c,u=o();return i.jsx(i.Fragment,{children:i.jsxs("div",{className:oe("modal"),children:[i.jsxs("div",{className:oe("container"),children:[i.jsx("div",{className:oe("component"),children:i.jsx(Y,{})}),U[m]&&U[m].map((e,n)=>i.jsx("div",{className:oe("component"),children:e},n)),i.jsx(F,{})]}),i.jsx("div",{className:oe("modal-buttons"),children:i.jsxs("div",{className:oe("buttons"),children:[i.jsx(d,{variant:"modalBase",type:"submit",onClick:()=>u(a()),children:e("button_back")}),i.jsx(d,{type:"submit",isDisabled:!r,onClick:t,size:"full",children:e("button_next_save")})]})})]})})},ae=()=>{const{t:e,i18n:o}=n();o.language=o.language.split("-")[0];const l=c(),t=m(e=>e.modalSlice.isOpenSourceOfIncome),r=m(e=>e.modalSlice.currentId),s=m(e=>e.borrowersPersonalData.sourceOfIncomeModal),d=void 0!==s[r-1]?s[r-1]:void 0,j=()=>{l(a())},f=!s.some(e=>e.id===r)?E(s):r,g={mainSourceOfIncome:(null==d?void 0:d.mainSourceOfIncome)||"",monthlyIncome:(null==d?void 0:d.monthlyIncome)||null,startDate:(null==d?void 0:d.startDate)||(new Date).getTime(),fieldOfActivity:(null==d?void 0:d.fieldOfActivity)||"",profession:(null==d?void 0:d.profession)||"",companyName:(null==d?void 0:d.companyName)||"",amountIncomeCurrentYear:(null==d?void 0:d.amountIncomeCurrentYear)||null},p=u().shape({mainSourceOfIncome:_().required(e("error_select_answer")),monthlyIncome:h().required(e("error_fill_field")),startDate:_().required(e("error_date")),fieldOfActivity:_().when("mainSourceOfIncome",{is:e=>null!=e&&""!==e,then:n=>n.required(e("error_select_field_of_activity")),otherwise:e=>e.notRequired()}),profession:_().required(e("error_fill_field")),companyName:_().required(e("error_fill_field"))});return i.jsx(v,{isVisible:t,onCancel:j,title:`${e("source_of_income")} ${f+1}`,children:i.jsx(b,{initialValues:g,validationSchema:p,validateOnMount:!0,onSubmit:e=>{l(O({id:f,...e})),j()},children:i.jsx(x,{children:i.jsx(ie,{})})})})},le=()=>{const{t:e,i18n:o}=n();o.language=o.language.split("-")[0];const{values:a}=s(),{mainSourceOfIncome:l,additionalIncome:r,obligation:d}=a,u=c(),_=m(e=>e.borrowersPersonalData.sourceOfIncomeModal),h=m(e=>e.borrowersPersonalData.additionalIncomeModal),v=m(e=>e.borrowersPersonalData.obligationModal);return i.jsxs(B,{children:[i.jsx(P,{title:e("borrowers_personal_data_title")}),i.jsxs($,{children:[i.jsx(Y,{}),U[l]&&U[l].map((e,n)=>i.jsx(t.Fragment,{children:e},n)),i.jsx(F,{})]}),i.jsx($,{children:l&&i.jsxs(F,{children:[_.map(n=>i.jsx(G,{onEdit:()=>{return e=n.id,void u(I(e));var e},onDelete:()=>{return e=n.id,void u(N({id:e}));var e},enableEdit:!0,name:`${e("source_of_income")}${n.id+1}`},n.id)),i.jsx(H,{onClick:()=>{u(k(a)),u(f())},color:"#FBE54D",value:e("add_place_to_work"),variant:"none"})]})}),i.jsx(j,{}),i.jsxs($,{children:[i.jsx(R,{}),r&&"option_1"!==r&&i.jsx(V,{}),i.jsx(F,{})]}),r&&"option_1"!==r&&i.jsx($,{children:i.jsxs(F,{children:[h.map(n=>i.jsx(G,{onEdit:()=>{return e=n.id,void u(y(e));var e},onDelete:()=>{return e=n.id,void u(A({id:e}));var e},enableEdit:!0,name:`${e("additional_source_of_income")}${n.id+1}`},n.id)),i.jsx(H,{onClick:()=>{u(k(a)),u(g())},color:"#FBE54D",value:e("add_additional_source_of_income"),variant:"none"})]})}),i.jsx(j,{}),i.jsxs($,{children:[i.jsx(z,{}),T[d]&&T[d].map((e,n)=>i.jsx(t.Fragment,{children:e},n)),i.jsx(F,{})]}),d&&"option_1"!==d&&i.jsx($,{children:i.jsxs(F,{children:[v.map(n=>i.jsx(G,{onEdit:()=>{return e=n.id,void u(D(e));var e},onDelete:()=>{return e=n.id,void u(C({id:e}));var e},enableEdit:!0,name:`${e("obligation")}${n.id+1}`},n.id)),i.jsx(H,{onClick:()=>{u(k(a)),u(p())},color:"#FBE54D",value:e("add_obligation"),variant:"none"})]})})]})},te=u().shape({mainSourceOfIncome:_().required(l.t("error_select_answer")),monthlyIncome:h().required(l.t("error_fill_field")),startDate:_().required(l.t("error_date")),fieldOfActivity:u().when("mainSourceOfIncome",{is:e=>null!=e&&""!==e,then:e=>e.required(l.t("error_select_field_of_activity")),otherwise:e=>e.notRequired()}),profession:_().required(l.t("error_fill_field")),companyName:_().required(l.t("error_fill_field")),additionalIncome:_().required(l.t("error_select_one_of_the_options")),additionalIncomeAmount:h().when("additionalIncome",{is:e=>null!=e&&""!==e&&"no"===e,then:e=>e.required(l.t("error_fill_field")),otherwise:e=>e.notRequired()}),obligation:_().required(l.t("error_select_one_of_the_options")),bank:_().when("obligation",{is:e=>null!=e&&""!==e&&"no"===e,then:e=>e.required(l.t("error_select_bank")),otherwise:e=>e.notRequired()}),monthlyPaymentForAnotherBank:h().when("obligation",{is:e=>null!=e&&""!==e&&"no"===e,then:e=>e.required(l.t("error_fill_field")),otherwise:e=>e.notRequired()}),endDate:_().required(l.t("error_date"))}),re=()=>{const e=c(),n=r(),o=m(e=>e.borrowersPersonalData.borrowersPersonalData),a=void 0!==o?o:void 0,l={mainSourceOfIncome:(null==a?void 0:a.mainSourceOfIncome)||"",monthlyIncome:(null==a?void 0:a.monthlyIncome)||null,startDate:(null==a?void 0:a.startDate)||(new Date).getTime(),fieldOfActivity:(null==a?void 0:a.fieldOfActivity)||"",profession:(null==a?void 0:a.profession)||"",companyName:(null==a?void 0:a.companyName)||"",additionalIncome:(null==a?void 0:a.additionalIncome)||"",additionalIncomeAmount:(null==a?void 0:a.additionalIncomeAmount)||null,obligation:(null==a?void 0:a.obligation)||"",bank:(null==a?void 0:a.bank)||"",monthlyPaymentForAnotherBank:(null==a?void 0:a.monthlyPaymentForAnotherBank)||null,endDate:(null==a?void 0:a.endDate)||(new Date).getTime(),amountIncomeCurrentYear:(null==a?void 0:a.amountIncomeCurrentYear)||null};return i.jsxs(i.Fragment,{children:[i.jsx(b,{initialValues:l,validationSchema:te,validateOnMount:!0,onSubmit:o=>{e(k(o)),n("/services/calculate-mortgage/2")},children:i.jsxs(x,{children:[i.jsx(w,{children:i.jsx(le,{})}),i.jsx(M,{})]})}),i.jsx(ae,{}),i.jsx(Q,{}),i.jsx(ee,{})]})};export{re as default};
