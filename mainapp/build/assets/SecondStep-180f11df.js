import{j as e}from"./ui-vendor-19e4e52b.js";import{u as C,a as M,c as h,f as O,F,b as $}from"./form-vendor-67b0fc1d.js";import{r as B,b as J,f as v}from"./react-vendor-9ed0ad78.js";import{B as S,a as z,M as T,D as W,b as V}from"./index-3333763f.js";import{c as Y,a as x,j as q,J as oo,u,n as r,X as eo,Y as no,E as to,Z as io,W as E,q as so,r as ro,$ as ao,a0 as lo,y as co,z as mo}from"./index-6e45afc9.js";import{D as _o}from"./DoubleButtons-a5f374ca.js";import{A as H,a as K,b as U,O as L,c as N,M as Q,d as k}from"./componentsByIncomeSource-dc390bb7.js";import{u as j}from"./i18n-vendor-e8db3f4c.js";import{C as I}from"./Column-a8ef8409.js";import{F as ho}from"./FormContainer-e92386a0.js";import{R as P}from"./Row-389aebbb.js";import{U as X,A as Z}from"./AddButton-23292c66.js";import{F as po}from"./FormCaption-192297af.js";import"./components-vendor-66cd084e.js";import"./utils-vendor-f2764326.js";import"./state-vendor-8e443ca8.js";import"./useDropdownData-05964376.js";import"./DropdownMenu-dc5040a3.js";import"./FormattedInput-a9b4c8dd.js";import"./Control-ea4fbaf0.js";import"./Calendar-bb4f5a89.js";const uo="_modal_lzcpe_1",fo="_buttons_lzcpe_49",bo={modal:uo,"modal-item":"_modal-item_lzcpe_18","modal-buttons":"_modal-buttons_lzcpe_31",buttons:fo},A=Y.bind(bo),go=()=>{const{t:o,i18n:f}=j(),{handleSubmit:_,isValid:t,values:l}=C(),i=x();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:A("modal"),children:[e.jsxs("div",{className:A("modal-item"),children:[e.jsx(H,{excludeNoIncome:!0}),l.additionalIncome&&l.additionalIncome!=="no_additional_income"&&e.jsx(K,{})]}),e.jsx("div",{className:A("modal-buttons"),children:e.jsxs("div",{className:A("buttons"),children:[e.jsx(S,{variant:"modalBase",type:"submit",onClick:()=>i(q()),children:o("button_back")}),e.jsx(S,{type:"submit",isDisabled:!t,onClick:_,size:"full",children:o("button_next_save")})]})})]})})},xo=()=>{const{t:o,i18n:f}=j(),{getContent:_}=z("common");B.useEffect(()=>{oo()},[f.language]);const t=x(),l=u(a=>a.modalSlice.isOpenAdditionalIncome),i=u(a=>a.modalSlice.currentId),c=u(a=>a.borrowersPersonalData.additionalIncomeModal),m=c[i-1]!==void 0?c[i-1]:void 0,p=()=>{t(q())},g=!c.some(a=>a.id===i)?U(c):i,n={additionalIncome:(m==null?void 0:m.additionalIncome)||"",additionalIncomeAmount:(m==null?void 0:m.additionalIncomeAmount)||null},w=M().shape({additionalIncome:h().required(r("error_select_one_of_the_options","Please select one of the options")).test("not-empty",r("error_select_one_of_the_options","Please select one of the options"),a=>a!=null&&a!==""),additionalIncomeAmount:O().when("additionalIncome",{is:a=>a&&a!=="no_additional_income",then:a=>a.required(r("error_fill_field","Please fill this field")),otherwise:a=>a.notRequired()})});return e.jsx(T,{isVisible:l,onCancel:p,title:`${_("additional_source_of_income_modal_title","Additional Source of Income")} ${g+1}`,children:e.jsx(F,{initialValues:n,validationSchema:w,validateOnMount:!0,onSubmit:a=>{t(eo({id:g,...a})),p()},children:e.jsx($,{children:e.jsx(go,{})})})})},Io="_modal_r2hy9_1",jo="_container_r2hy9_41",wo="_component_r2hy9_47",yo="_buttons_r2hy9_59",Oo={modal:Io,"modal-item":"_modal-item_r2hy9_18","modal-buttons":"_modal-buttons_r2hy9_23",container:jo,component:wo,buttons:yo},D=Y.bind(Oo),So=()=>{const{t:o,i18n:f}=j(),{handleSubmit:_,isValid:t,values:l}=C(),i=x(),{obligation:c}=l;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:D("modal"),children:[e.jsxs("div",{className:D("container"),children:[e.jsx(L,{}),N[c]&&N[c].map((m,p)=>e.jsx("div",{className:D("component"),children:m},p)),e.jsx(I,{})]}),e.jsx("div",{className:D("modal-buttons"),children:e.jsxs("div",{className:D("buttons"),children:[e.jsx(S,{variant:"modalBase",type:"submit",onClick:()=>i(q()),children:o("button_back")}),e.jsx(S,{type:"submit",isDisabled:!t,onClick:_,size:"full",children:o("button_next_save")})]})})]})})};function G(){return M().shape({obligation:h().required(r("error_select_one_of_the_options","Please select one of the options")),bank:h().when("obligation",{is:o=>o&&o!=="no_obligations"&&o!=="other",then:o=>o.required(r("error_select_bank","Please select a bank")),otherwise:o=>o.notRequired()}),monthlyPaymentForAnotherBank:O().when("obligation",{is:o=>o&&o!=="no_obligations"&&o!=="other",then:o=>o.required(r("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),endDate:h().when("obligation",{is:o=>o&&o!=="no_obligations"&&o!=="other",then:o=>o.required(r("error_date","Please enter a valid date")),otherwise:o=>o.notRequired()})})}const qo=()=>{const{t:o,i18n:f}=j(),{getContent:_}=z("common"),[t,l]=B.useState(()=>G()),i=x();B.useEffect(()=>{(async()=>{await to();const s=G();l(s)})()},[f.language]);const c=u(b=>b.modalSlice.isOpenObligation),m=u(b=>b.modalSlice.currentId),p=u(b=>b.borrowersPersonalData.obligationModal),d=p[m-1]!==void 0?p[m-1]:void 0,g=()=>{i(q())},w=!p.some(b=>b.id===m)?U(p):m,a={obligation:(d==null?void 0:d.obligation)||"",bank:(d==null?void 0:d.bank)||"",monthlyPaymentForAnotherBank:(d==null?void 0:d.monthlyPaymentForAnotherBank)||null,endDate:(d==null?void 0:d.endDate)||new Date().toISOString().split("T")[0],noIncome:(d==null?void 0:d.noIncome)||new Date().toISOString().split("T")[0]};return e.jsx(T,{isVisible:c,onCancel:g,title:`${_("obligation_modal_title","Obligation")} ${w+1}`,children:e.jsx(F,{initialValues:a,validationSchema:t,validateOnMount:!0,onSubmit:b=>{i(no({id:w,...b})),g()},children:e.jsx($,{children:e.jsx(So,{})})})})},Po="_modal_1gdud_1",Do="_container_1gdud_41",Ao="_component_1gdud_47",No="_buttons_1gdud_59",ko={modal:Po,"modal-item":"_modal-item_1gdud_18","modal-buttons":"_modal-buttons_1gdud_23",container:Do,component:Ao,buttons:No},y=Y.bind(ko),Co=()=>{const{t:o,i18n:f}=j(),{handleSubmit:_,isValid:t,values:l,errors:i,touched:c}=C(),{mainSourceOfIncome:m}=l,p=x();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:y("modal"),children:[e.jsxs("div",{className:y("container"),children:[e.jsx("div",{className:y("component"),children:e.jsx(Q,{})}),k[m]&&k[m].map((d,g)=>e.jsx("div",{className:y("component"),children:d},g)),e.jsx(I,{})]}),e.jsx("div",{className:y("modal-buttons"),children:e.jsxs("div",{className:y("buttons"),children:[e.jsx(S,{variant:"modalBase",type:"submit",onClick:()=>p(q()),children:o("button_back")}),e.jsx(S,{type:"submit",isDisabled:!t,onClick:_,size:"full",children:o("button_next_save")})]})})]})})},Mo=()=>{j();const{getContent:o}=z("common"),f=x(),_=u(n=>n.modalSlice.isOpenSourceOfIncome),t=u(n=>n.modalSlice.currentId),l=u(n=>n.borrowersPersonalData.sourceOfIncomeModal),i=l[t-1]!==void 0?l[t-1]:void 0,c=()=>{f(q())},p=!l.some(n=>n.id===t)?U(l):t,d={mainSourceOfIncome:(i==null?void 0:i.mainSourceOfIncome)||"",monthlyIncome:(i==null?void 0:i.monthlyIncome)||null,startDate:(i==null?void 0:i.startDate)||new Date().getTime(),fieldOfActivity:(i==null?void 0:i.fieldOfActivity)||"",profession:(i==null?void 0:i.profession)||"",companyName:(i==null?void 0:i.companyName)||"",amountIncomeCurrentYear:(i==null?void 0:i.amountIncomeCurrentYear)||null},g=M().shape({mainSourceOfIncome:h().required(r("error_select_answer","Please select an answer")),monthlyIncome:O().when("mainSourceOfIncome",{is:n=>n!=null&&n!==""&&!["unpaid_leave","unemployed"].includes(n),then:n=>n.required(r("error_fill_field","Please fill this field")),otherwise:n=>n.notRequired()}),startDate:h().when("mainSourceOfIncome",{is:n=>n!=null&&n!==""&&!["unpaid_leave","unemployed"].includes(n),then:n=>n.required(r("error_date","Please select a date")),otherwise:n=>n.notRequired()}),fieldOfActivity:h().when("mainSourceOfIncome",{is:n=>n!=null&&n!==""&&!["unpaid_leave","unemployed"].includes(n),then:n=>n.required(r("error_select_field_of_activity","Please select field of activity")),otherwise:n=>n.notRequired()}),profession:h().when("mainSourceOfIncome",{is:n=>n!=null&&n!==""&&!["unpaid_leave","unemployed"].includes(n),then:n=>n.required(r("error_fill_field","Please fill this field")),otherwise:n=>n.notRequired()}),companyName:h().when("mainSourceOfIncome",{is:n=>n!=null&&n!==""&&!["unpaid_leave","unemployed"].includes(n),then:n=>n.required(r("error_fill_field","Please fill this field")),otherwise:n=>n.notRequired()})});return e.jsx(T,{isVisible:_,onCancel:c,title:`${o("source_of_income_modal_title","Source of Income")} ${p+1}`,children:e.jsx(F,{initialValues:d,validationSchema:g,validateOnMount:!0,onSubmit:n=>{f(io({id:p,...n})),c()},children:e.jsx($,{children:e.jsx(Co,{})})})})},Fo=()=>{const{t:o,i18n:f}=j(),{values:_}=C(),{mainSourceOfIncome:t,additionalIncome:l,obligation:i}=_,c=x();u(s=>s.borrowersPersonalData.sourceOfIncomeModal);const m=u(s=>s.borrowersPersonalData.additionalIncomeModal),p=u(s=>s.borrowersPersonalData.obligationModal),d=()=>{c(E(_)),c(so())},g=()=>{c(E(_)),c(ro())},n=s=>{c(ao({id:s}))},w=s=>{c(lo({id:s}))},a=s=>{c(co(s))},b=s=>{c(mo(s))};return e.jsxs(ho,{children:[e.jsx(po,{title:o("borrowers_personal_data_title")}),e.jsxs(P,{children:[e.jsx(Q,{}),k[t]&&k[t].map((s,R)=>e.jsx(J.Fragment,{children:s},R)),e.jsx(I,{})]}),e.jsx(W,{}),e.jsxs(P,{children:[e.jsx(H,{}),l&&l!=="option_1"&&e.jsx(K,{}),e.jsx(I,{})]}),l&&l!=="option_1"&&e.jsx(P,{children:e.jsxs(I,{children:[m.map(s=>e.jsx(X,{onEdit:()=>a(s.id),onDelete:()=>n(s.id),enableEdit:!0,name:`${o("additional_source_of_income")}${s.id+1}`},s.id)),e.jsx(Z,{onClick:d,color:"#FBE54D",value:o("add_additional_source_of_income"),variant:"none"})]})}),e.jsx(W,{}),e.jsxs(P,{children:[e.jsx(L,{}),N[i]&&N[i].map((s,R)=>e.jsx(J.Fragment,{children:s},R)),e.jsx(I,{})]}),i&&i!=="option_1"&&e.jsx(P,{children:e.jsxs(I,{children:[p.map(s=>e.jsx(X,{onEdit:()=>b(s.id),onDelete:()=>w(s.id),enableEdit:!0,name:`${o("obligation")}${s.id+1}`},s.id)),e.jsx(Z,{onClick:g,color:"#FBE54D",value:o("add_obligation"),variant:"none"})]})})]})},$o=M().shape({mainSourceOfIncome:h().required(r("error_select_answer","Please select an answer")).test("not-empty",r("error_select_answer","Please select an answer"),o=>o!=null&&o!==""),monthlyIncome:O().when("mainSourceOfIncome",{is:o=>!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(o),then:o=>o.required(r("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),startDate:h().when("mainSourceOfIncome",{is:o=>!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(o),then:o=>o.required(r("error_date","Please enter a valid date")),otherwise:o=>o.notRequired()}),fieldOfActivity:h().when("mainSourceOfIncome",{is:o=>o!=null&&o!==""&&!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(o),then:o=>o.required(r("error_select_field_of_activity","Please select field of activity")),otherwise:o=>o.notRequired()}),profession:h().when("mainSourceOfIncome",{is:o=>!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(o),then:o=>o.required(r("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),companyName:h().when("mainSourceOfIncome",{is:o=>!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(o),then:o=>o.required(r("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),additionalIncome:h().required(r("error_select_one_of_the_options","Please select one of the options")).test("not-empty",r("error_select_one_of_the_options","Please select one of the options"),o=>o!=null&&o!==""),additionalIncomeAmount:O().when("additionalIncome",{is:o=>o!=null&&o!==""&&o!=="option_1",then:o=>o.required(r("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),obligation:h().required(r("error_select_one_of_the_options","Please select one of the options")),bank:h().when("obligation",{is:o=>o!=null&&o!==""&&o!=="option_1",then:o=>o.required(r("error_select_bank","Please select a bank")),otherwise:o=>o.notRequired()}),monthlyPaymentForAnotherBank:O().when("obligation",{is:o=>o!=null&&o!==""&&o!=="option_1",then:o=>o.required(r("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),endDate:h().when("obligation",{is:o=>o!=null&&o!==""&&o!=="option_1",then:o=>o.required(r("error_date","Please enter a valid date")),otherwise:o=>o.notRequired()})}),te=()=>{const o=x(),f=v(),_=u(i=>i.borrowersPersonalData.borrowersPersonalData),t=_!==void 0?_:void 0,l={mainSourceOfIncome:(t==null?void 0:t.mainSourceOfIncome)||"",monthlyIncome:(t==null?void 0:t.monthlyIncome)||null,startDate:(t==null?void 0:t.startDate)||new Date().getTime(),fieldOfActivity:(t==null?void 0:t.fieldOfActivity)||"",profession:(t==null?void 0:t.profession)||"",companyName:(t==null?void 0:t.companyName)||"",additionalIncome:(t==null?void 0:t.additionalIncome)||"",additionalIncomeAmount:(t==null?void 0:t.additionalIncomeAmount)||null,obligation:(t==null?void 0:t.obligation)||"",bank:(t==null?void 0:t.bank)||"",monthlyPaymentForAnotherBank:(t==null?void 0:t.monthlyPaymentForAnotherBank)||null,endDate:(t==null?void 0:t.endDate)||new Date().getTime(),amountIncomeCurrentYear:(t==null?void 0:t.amountIncomeCurrentYear)||null};return e.jsxs(e.Fragment,{children:[e.jsx(F,{initialValues:l,validationSchema:$o,validateOnMount:!0,onSubmit:i=>{o(E(i)),f("/services/calculate-mortgage/2")},children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Fo,{})}),e.jsx(_o,{})]})}),e.jsx(Mo,{}),e.jsx(xo,{}),e.jsx(qo,{})]})};export{te as default};
