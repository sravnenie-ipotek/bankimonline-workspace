import{c as e,j as a,r,b as t,l as n,h as o,M as i,w as s,R as l,x as c,y as d,z as g,I as m,J as _,K as u,A as h,D as p,E as x,F as j,G as f,H as v}from"./index-d69ab70d.js";import{u as b,i as y,W as w,T as D,D as S,c as M,b as B,E as N,d as C,f as q,e as F,h as k,F as P,o as I,g as E,a as O,L as R}from"./index-c89ce6ee.js";import{P as $}from"./ProgressBar-397d0063.js";import{u as z,V as A}from"./VideoPoster-c6f5f480.js";import{A as T,f as L,S as V,a as U,L as Y,U as H,F as G,B as J,b as K,P as W,c as Q,d as X,e as Z,O as ee}from"./SourceOfIncomeModal-027da4f3.js";import{s as ae,d as re,D as te,R as ne,C as oe,F as ie,a as se,b as le,c as ce}from"./StringInput-0f4f0b36.js";import{C as de,A as ge,g as me,U as _e,a as ue,b as he,d as pe,O as xe}from"./componentsByIncomeSource-b5bab525.js";import{s as je,I as fe}from"./IncreasePayment-30b57788.js";import{c as ve,a as be}from"./calculatePeriod-00770cec.js";import{D as ye,E as we,c as De,a as Se}from"./componentsByObligation-1106fcac.js";import{R as Me,I as Be,N as Ne,B as Ce,E as qe,A as Fe,C as ke,T as Pe,a as Ie,b as Ee,H as Oe,M as Re,c as $e,P as ze}from"./Taxes-3755a9d7.js";import{F as Ae,o as Te,d as Le}from"./otherBorrowersSlice-ca4a7504.js";import"./borrowersPersonalDataSlice-ddbd1ecb.js";import"./ShieldCheckIcon-97c4fe2d.js";const Ve=e.bind(ae);const Ue=({name:e,value:r,handleChange:t,placeholder:n,disableCurrency:o,error:i,onBlur:s,size:l,rightSection:c,type:d="comma"})=>{const g=null!==r?r.toLocaleString("en-US"):"";return a.jsxs("div",{className:Ve("container",`${i&&"error"}`),children:[a.jsx("input",{className:Ve(e,"input",{[`${l}`]:l}),type:"text",placeholder:n,value:g,onChange:e=>{const a=e.target.value;switch(d){case"numeric":/^-?\d*\.?\d*$/.test(a)&&t(a);break;case"comma":t(function(e){const a=e.replace(/[^0-9]/g,"");return a?parseInt(a,10):""}(a));break;default:t(a)}},onBlur:s}),o||c?a.jsx("div",{className:Ve("currencyImage"),children:c}):a.jsx("div",{className:Ve("currencyImage"),children:a.jsx(re,{})})]})},Ye={"mortgage-data":"_mortgage-data_eif05_1","mortgage-data-title":"_mortgage-data-title_eif05_6","mortgage-data-title__text":"_mortgage-data-title__text_eif05_20","mortgage-data-title__button":"_mortgage-data-title__button_eif05_26","mortgage-data-form":"_mortgage-data-form_eif05_42","mortgage-data-form__items":"_mortgage-data-form__items_eif05_48","button-left__icon":"_button-left__icon_eif05_54",container:"_container_eif05_59",col:"_col_eif05_65","col-1":"_col-1_eif05_70","col-2":"_col-2_eif05_74","col-3":"_col-3_eif05_78","col-4":"_col-4_eif05_82","col-5":"_col-5_eif05_86","delete-icon":"_delete-icon_eif05_94",title:"_title_eif05_111",delete:"_delete_eif05_94"},He=e.bind(Ye),Ge=()=>{var e;const[n,o]=r.useState([]),[i,s]=r.useState(null),{values:l,setFieldValue:c,errors:d,touched:g,setFieldTouched:m}=b(),[_,{open:u,close:h}]=y(!1),{isDesktop:p,isTablet:x,isMobile:j}=z(),{t:f,i18n:v}=t();v.language=v.language.split("-")[0],r.useEffect(()=>{o(l.mortgageData)},[l.mortgageData]);const M=()=>{const e={id:me(n),program:"",balance:null,endDate:"",bid:null};c("mortgageData",[...n,e])},B=e=>{s(e),u()},N=[{value:"option_1",label:f("program_refinance_mortgage_option_1")},{value:"option_2",label:f("program_refinance_mortgage_option_2")},{value:"option_3",label:f("program_refinance_mortgage_option_3")},{value:"option_4",label:f("program_refinance_mortgage_option_4")},{value:"option_5",label:f("program_refinance_mortgage_option_5")}],C=n.reduce((e,a)=>e+a.balance,0);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:He("mortgage-data"),children:[a.jsxs("div",{className:He("mortgage-data-title"),children:[a.jsx("h4",{className:He("mortgage-data-title__text"),children:f("enter_mortgage_info")}),g.mortgageData&&d.mortgageData&&a.jsx(T,{filled:!0,icon:a.jsx(w,{size:24,color:"#E76143"}),children:a.jsx("p",{children:f("error_balance",{fullBalance:null==(e=null==l?void 0:l.mortgageBalance)?void 0:e.toLocaleString("en-US"),sumBalance:C.toLocaleString("en-US"),notEnoughBalance:(l.mortgageBalance-C).toLocaleString("en-US")})})})]}),p&&a.jsxs("div",{className:He("mortgage-data-form"),children:[a.jsxs("div",{className:He("container","title"),children:[a.jsx("p",{className:He("col","col-1"),children:f("programm")}),a.jsx("p",{className:He("col","col-2"),children:f("balance")}),a.jsx("p",{className:He("col","col-3"),children:f("end_date")}),a.jsx("p",{className:He("col","col-4"),children:f("bid")}),a.jsx("div",{className:He("col","col-5")})]}),a.jsxs("div",{className:He("mortgage-data-form__items"),children:[n.map(e=>a.jsxs("div",{className:He("container"),children:[a.jsx("div",{className:He("col","col-1"),children:a.jsx(te,{data:N,placeholder:f("calculate_mortgage_first_ph"),value:e.program,onChange:a=>c(`mortgageData.${e.id-1}.program`,a)})}),a.jsx("div",{className:He("col","col-2"),children:a.jsx(Ue,{placeholder:"10,000",value:e.balance,handleChange:a=>c(`mortgageData.${e.id-1}.balance`,a),onBlur:()=>m("mortgageData",!0),error:g.mortgageData&&d.mortgageData})}),a.jsx("div",{className:He("col","col-3"),children:a.jsx(de,{placeholder:f("date_ph"),value:e.endDate,onChange:a=>c(`mortgageData.${e.id-1}.endDate`,a)})}),a.jsx("div",{className:He("col","col-4"),children:a.jsx(Ue,{placeholder:"1",type:"numeric",value:e.bid,handleChange:a=>c(`mortgageData.${e.id-1}.bid`,a),rightSection:a.jsx(L,{color:"#FFF"})})}),a.jsx("div",{className:He("col","col-5"),children:1!==e.id&&a.jsx(ye,{onClick:()=>B(e.id),className:He("delete")})})]},e.id)),a.jsxs("div",{className:He("container"),children:[a.jsx("div",{className:He("col","col-1"),children:a.jsx(ge,{variant:"none",color:"#FBE54D",value:f("add_programm"),onClick:M})}),a.jsx("div",{className:He("col","col-2")}),a.jsx("div",{className:He("col","col-3")}),a.jsx("div",{className:He("col","col-4")}),a.jsx("div",{className:He("col","col-5")})]})]})]}),x&&a.jsx("div",{className:He("mortgage-data-form"),children:a.jsx("div",{className:He("mortgage-data-form__items"),children:a.jsxs(ne,{children:[n.map((e,t)=>a.jsxs(r.Fragment,{children:[a.jsxs(oe,{children:[a.jsx(D,{title:`${f("programm")} #${e.id}`}),a.jsx(te,{data:N,placeholder:f("calculate_mortgage_first_ph"),value:e.program,onChange:a=>c(`mortgageData.${e.id-1}.program`,a)})]}),a.jsxs(oe,{children:[a.jsx(D,{title:f("balance")}),a.jsx(Ue,{placeholder:"10,000",value:e.balance,handleChange:a=>c(`mortgageData.${e.id-1}.balance`,a)})]}),a.jsx(oe,{children:a.jsx(de,{title:f("end_date"),placeholder:f("date_ph"),value:e.endDate,onChange:a=>c(`mortgageData.${e.id-1}.endDate`,a)})}),a.jsxs(oe,{children:[a.jsx(D,{title:f("bid")}),a.jsx(Ue,{placeholder:"1",value:e.bid,handleChange:a=>c(`mortgageData.${e.id-1}.bid`,a),rightSection:a.jsx(L,{color:"#FFF"})})]}),1!==e.id&&a.jsx(oe,{children:a.jsxs("div",{className:He("delete-icon"),children:[a.jsx(ye,{onClick:()=>B(e.id)}),f("delete")]})}),t!==n.length-1&&a.jsx(S,{})]},e.id)),a.jsx(oe,{children:a.jsx(ge,{variant:"none",color:"#FBE54D",value:f("add_programm"),onClick:M})})]})})}),j&&a.jsx("div",{className:He("mortgage-data-form"),children:a.jsx("div",{className:He("mortgage-data-form__items"),children:a.jsxs(ne,{children:[n.map((e,t)=>a.jsxs(r.Fragment,{children:[a.jsxs(oe,{children:[a.jsx(D,{title:`${f("programm")} #${e.id}`}),a.jsx(te,{data:N,placeholder:f("calculate_mortgage_first_ph"),value:e.program,onChange:a=>c(`mortgageData.${e.id-1}.program`,a)})]}),a.jsxs(oe,{children:[a.jsx(D,{title:f("balance")}),a.jsx(Ue,{placeholder:"10,000",value:e.balance,handleChange:a=>c(`mortgageData.${e.id-1}.balance`,a)})]}),a.jsx(oe,{children:a.jsx(de,{title:f("end_date"),placeholder:f("date_ph"),value:e.endDate,onChange:a=>c(`mortgageData.${e.id-1}.endDate`,a)})}),a.jsxs(oe,{children:[a.jsx(D,{title:f("bid")}),a.jsx(Ue,{placeholder:"1",value:e.bid,handleChange:a=>c(`mortgageData.${e.id-1}.bid`,a),rightSection:a.jsx(L,{color:"#FFF"})})]}),1!==e.id&&a.jsx(oe,{children:a.jsxs("div",{className:He("delete-icon"),children:[a.jsx(ye,{onClick:()=>B(e.id)}),f("delete")]})}),t!==n.length-1&&a.jsx(S,{})]},e.id)),a.jsx(oe,{children:a.jsx(ge,{variant:"none",color:"#FBE54D",value:f("add_programm"),onClick:M})})]})})})]}),a.jsx(we,{text:f("remove_programm"),isVisible:_,onCancel:h,onSubmit:()=>{if(null!==i){const e=n.filter(e=>e.id!==i);c("mortgageData",e)}h()}})]})},Je=r.memo(()=>{const{t:e,i18n:n}=t();n.language=n.language.split("-")[0];const[o,i]=r.useState(51130),[s,l]=r.useState(2654),c=M(),d=B(e=>e.activeField),g=[{value:"option_1",label:e("calculate_mortgage_type_options_1")},{value:"option_2",label:e("calculate_mortgage_type_options_2")},{value:"option_3",label:e("calculate_mortgage_type_options_3")},{value:"option_4",label:e("calculate_mortgage_type_options_4")},{value:"option_5",label:e("calculate_mortgage_type_options_5")}],m=[{value:"option_1",label:e("mortgage_refinance_why_option_1")},{value:"option_2",label:e("mortgage_refinance_why_option_2")},{value:"option_3",label:e("mortgage_refinance_why_option_3")},{value:"option_4",label:e("mortgage_refinance_why_option_4")},{value:"option_5",label:e("mortgage_refinance_why_option_5")}],_=[{value:"option_1",label:e("mortgage_refinance_reg_option_1")},{value:"option_2",label:e("mortgage_refinance_reg_option_2")},{value:"option_3",label:e("mortgage_refinance_reg_option_3")},{value:"option_4",label:e("mortgage_refinance_reg_option_4")},{value:"option_5",label:e("mortgage_refinance_reg_option_5")}],{setFieldValue:u,values:h,errors:p,touched:x,setFieldTouched:j}=b();return r.useLayoutEffect(()=>{const e=ve(h.mortgageBalance,0,4),a=ve(h.mortgageBalance,0,30);Number.isNaN(e)||i(e),0===e&&i(1),Number.isNaN(e)||l(a)},[h.mortgageBalance]),r.useEffect(()=>{if("period"===d){const e=ve(h.mortgageBalance,0,h.period);Number.isNaN(e)||u("monthlyPayment",e)}else{const e=be(h.mortgageBalance,0,h.monthlyPayment);Number.isNaN(e)||u("period",e)}},[d,u,h.monthlyPayment,h.mortgageBalance,h.period]),console.log(p),a.jsx(a.Fragment,{children:a.jsxs(ie,{children:[a.jsx(se,{title:e("sidebar_sub_refinance_mortgage")}),a.jsxs(ne,{children:[a.jsx(oe,{children:a.jsx(te,{data:m,title:e("mortgage_refinance_why"),placeholder:e("calculate_mortgage_citizenship_ph"),value:h.whyRefinancingMortgage,onChange:e=>u("whyRefinancingMortgage",e),onBlur:()=>j("whyRefinancingMortgage"),error:x.whyRefinancingMortgage&&p.whyRefinancingMortgage})}),a.jsxs(oe,{children:[a.jsx(le,{name:"PriceOfEstate",title:e("mortgage_refinance_left"),value:h.mortgageBalance,placeholder:"1,000,000",handleChange:e=>{c(je("period")),u("mortgageBalance",e)},onBlur:()=>j("mortgageBalance"),error:x.mortgageBalance&&p.mortgageBalance}),x.mortgageBalance&&p.mortgageBalance&&a.jsx(N,{error:p.mortgageBalance})]}),a.jsxs(oe,{children:[a.jsx(le,{handleChange:e=>u("priceOfEstate",e),name:"PriceOfEstate",title:e("mortgage_refinance_price"),value:h.priceOfEstate,placeholder:"1,000,000",error:p.priceOfEstate}),p.priceOfEstate&&a.jsx(N,{error:p.priceOfEstate})]})]}),a.jsxs(ne,{children:[a.jsx(oe,{children:a.jsx(te,{data:g,title:e("mortgage_refinance_type"),placeholder:e("mortgage_refinance_type_ph"),value:h.typeSelect,onChange:e=>u("typeSelect",e),onBlur:()=>j("typeSelect"),error:x.typeSelect&&p.typeSelect})}),a.jsx(oe,{children:a.jsx(te,{data:[{value:"hapoalim",label:"Bank Hapoalim"},{value:"leumi",label:"Leumi Bank"},{value:"discount",label:"Discount Bank"},{value:"massad",label:"Massad Bank"},{value:"israel",label:"Bank of Israel"}],title:e("mortgage_refinance_bank"),placeholder:e("calculate_mortgage_citizenship_ph"),value:h.bank,onChange:e=>u("bank",e),onBlur:()=>j("bank"),error:x.bank&&p.bank})}),a.jsx(oe,{children:a.jsx(te,{data:_,title:e("mortgage_refinance_registered"),placeholder:e("calculate_mortgage_citizenship_ph"),value:h.propertyRegistered,onChange:e=>u("propertyRegistered",e),onBlur:()=>j("propertyRegistered"),error:x.propertyRegistered&&p.propertyRegistered})})]}),a.jsxs(ne,{children:[a.jsx(oe,{children:a.jsx(de,{title:e("start_date_mortgage_title"),placeholder:e("date_ph"),value:h.startDate,onChange:e=>u("startDate",e)})}),"option_2"===h.whyRefinancingMortgage&&a.jsxs(oe,{children:[a.jsx(le,{handleChange:e=>u("decreaseMortgage",e),name:"PriceOfEstate",title:e("mortgage_refinance_decrease"),value:h.decreaseMortgage,placeholder:"1,000,000",onBlur:()=>j("decreaseMortgage"),error:x.decreaseMortgage&&p.decreaseMortgage}),x.decreaseMortgage&&p.decreaseMortgage&&a.jsx(N,{error:p.decreaseMortgage})]}),"option_3"===h.whyRefinancingMortgage&&a.jsxs(oe,{children:[a.jsx(le,{handleChange:e=>u("increaseMortgage",e),name:"PriceOfEstate",title:e("mortgage_refinance_increase"),value:h.increaseMortgage,placeholder:"1,000,000",onBlur:()=>j("increaseMortgage"),error:x.increaseMortgage&&p.increaseMortgage}),x.increaseMortgage&&p.increaseMortgage&&a.jsx(N,{error:p.increaseMortgage})]}),a.jsx(oe,{})]}),a.jsx(S,{}),a.jsx(ne,{children:a.jsx(Ge,{})}),a.jsx(S,{}),a.jsxs(ne,{children:[a.jsxs(oe,{children:[a.jsx(V,{disableCurrency:!0,unitsMax:e("calculate_mortgage_period_units_max"),unitsMin:e("calculate_mortgage_period_units_min"),value:h.period,name:"Period",min:4,max:30,error:p.period,title:e("calculate_mortgage_period"),handleChange:e=>{c(je("period")),u("period",e)}}),p.period&&a.jsx(N,{error:p.period})]}),a.jsxs(oe,{children:[a.jsx(V,{unitsMax:"₪",unitsMin:"₪",value:h.monthlyPayment,name:"monthlyPayment",min:s,max:o,error:p.monthlyPayment,title:e("calculate_mortgage_initial_payment"),handleChange:e=>{c(je("monthlyPayment")),u("monthlyPayment",e)}}),a.jsx(fe,{}),p.monthlyPayment&&a.jsx(N,{error:p.monthlyPayment})]}),a.jsx(oe,{})]})]})})}),Ke=C().shape({whyRefinancingMortgage:q().required(n.t("error_select_answer")),mortgageBalance:F().test("is-less","Остаток по ипотеке не может быть больше чем стоимость недвижимости",function(e){const{priceOfEstate:a}=this.parent;return void 0===e||("number"!=typeof a||e<=a)}).required(n.t("error_required_to_fill_out")),priceOfEstate:F().test("is-greater","Полная стоимость недвижимости не может быть меньше чем остаток ипотеки",function(e){const{mortgageBalance:a}=this.parent;return void 0===e||("number"!=typeof a||e>=a)}).required(n.t("error_required_to_fill_out")),typeSelect:q().required(n.t("error_select_answer")),bank:q().required(n.t("error_select_answer")),propertyRegistered:q().required(n.t("error_select_answer")),period:F().min(4,n.t("error_min_period")).max(30,n.t("error_max_period")).required(n.t("error_required_to_fill_out")),decreaseMortgage:q().when("whyRefinancingMortgage",{is:n.t("calculate_mortgage_type_options_2"),then:e=>e.required(n.t("error_select_answer")),otherwise:e=>e.notRequired()}),increaseMortgage:q().when("whyRefinancingMortgage",{is:n.t("calculate_mortgage_type_options_3"),then:e=>e.required(n.t("error_select_answer")),otherwise:e=>e.notRequired()}),mortgageData:k().test("is-balance-sum-equal","Сумма балансов ипотек не соответствует заданному значению",function(){return this.parent.mortgageData.reduce((e,a)=>e+(a.balance||0),0)===this.parent.mortgageBalance})}),We=()=>{const{t:e,i18n:r}=t();r.language=r.language.split("-")[0];const n=M(),s=o(),l=B(e=>e.refinanceMortgage),c=B(e=>e.login.isLogin),d={whyRefinancingMortgage:l.whyRefinancingMortgage||"",mortgageBalance:l.mortgageBalance||2e5,priceOfEstate:l.priceOfEstate||1e6,typeSelect:l.typeSelect||"",bank:l.bank||"",startDate:l.startDate||"",propertyRegistered:l.propertyRegistered||"",period:l.period||4,monthlyPayment:l.monthlyPayment||4605,decreaseMortgage:l.decreaseMortgage||null,increaseMortgage:l.increaseMortgage||null,mortgageData:l.mortgageData||[{id:1,program:"",balance:null,endDate:"",bid:null}]};return a.jsxs(a.Fragment,{children:[a.jsx(P,{initialValues:d,validationSchema:Ke,validateOnMount:!0,onSubmit:e=>{n(i(e)),c?s("/services/refinance-mortgage/2"):n(I())},children:a.jsxs(E,{children:[a.jsxs(O,{children:[a.jsx(A,{title:e("sidebar_sub_refinance_mortgage"),text:e("refinance_mortgage_promo_text"),size:"small"}),a.jsx(Je,{})]}),a.jsx(U,{})]})}),a.jsx(Y,{})]})},Qe=()=>{const{t:e,i18n:r}=t();r.language=r.language.split("-")[0];const n=B(e=>e.login.loginData),o=B(e=>e.refinanceMortgage);return a.jsxs(ie,{children:[a.jsx(se,{title:e("calculate_mortgage_final")}),a.jsx(H,{cost:null==o?void 0:o.priceOfEstate,initialPayment:null==o?void 0:o.mortgageBalance,period:null==o?void 0:o.period,nameSurname:null==n?void 0:n.nameSurname,phoneNumber:null==n?void 0:n.phoneNumber}),a.jsx(T,{text:e("calculate_mortgage_warning")}),a.jsx(ne,{children:a.jsx(G,{})}),a.jsx(J,{})]})},Xe={},Ze=C().shape({}),ea=()=>a.jsx(P,{initialValues:Xe,validationSchema:Ze,validateOnMount:!0,onSubmit:()=>{console.log("нажата кнопка")},children:a.jsxs(E,{children:[a.jsx(O,{children:a.jsx(Qe,{})}),a.jsx(ce,{})]})}),aa=()=>{const{t:e,i18n:r}=t();r.language=r.language.split("-")[0];const{values:n}=b();return a.jsxs(ie,{children:[a.jsx(se,{title:e("calculate_mortgage_step2_title")}),a.jsxs(Me,{children:[a.jsx(Be,{}),a.jsx(_e,{name:"Александр пушкин",phone:"+935 234 3344"})]}),a.jsxs(ne,{children:[a.jsx(Ne,{}),a.jsx(Ce,{}),a.jsx(qe,{})]}),a.jsxs(ne,{children:[a.jsxs(oe,{style:{gap:"2rem"},children:[a.jsx(Fe,{}),"yes"===n.additionalCitizenships&&a.jsx(ke,{})]}),a.jsxs(oe,{style:{gap:"2rem"},children:[a.jsx(Pe,{}),"yes"===n.taxes&&a.jsx(Ie,{})]}),a.jsxs(oe,{style:{gap:"2rem"},children:[a.jsx(Ee,{}),"yes"===n.childrens&&a.jsx(Oe,{})]})]}),a.jsx(S,{}),a.jsxs(ne,{children:[a.jsx(Re,{}),a.jsx($e,{}),a.jsx(ze,{})]}),a.jsx(S,{}),a.jsxs(ne,{children:[a.jsx(K,{}),a.jsx(oe,{}),a.jsx(oe,{})]}),a.jsx(S,{}),a.jsxs(ne,{children:[a.jsx(Ae,{}),a.jsx(oe,{children:"option_2"===n.familyStatus&&a.jsx(W,{})}),a.jsx(oe,{children:"yes"===n.partnerPayMortgage&&"option_2"===n.familyStatus&&a.jsx(Q,{})})]})]})},ra=C().shape({nameSurname:q().required(n.t("error_name_surname")),birthday:q().required(n.t("error_date")),education:q().required(n.t("error_select_answer")),additionalCitizenships:q().required(n.t("error_select_answer")),citizenshipsDropdown:k().when("additionalCitizenships",{is:"yes",then:e=>e.min(1,n.t("error_select_answer")),otherwise:e=>e.min(0)}),taxes:q().required(n.t("error_select_answer")),countriesPayTaxes:k().when("taxes",{is:"yes",then:e=>e.min(1,n.t("error_select_answer")),otherwise:e=>e.min(0)}),childrens:q().required(n.t("error_select_answer")),howMuchChildrens:F().required(n.t("error_fill_field")),medicalInsurance:q().required(n.t("error_select_answer")),isForeigner:q().required(n.t("error_select_answer")),publicPerson:q().required(n.t("error_select_answer")),borrowers:F().min(1,n.t("error_quantity_borrowers")).required(n.t("error_quantity_borrowers")),familyStatus:q().required(n.t("error_select_answer")),partnerPayMortgage:q().when("familyStatus",{is:n.t("calculate_mortgage_family_status_option_2"),then:e=>e.required(n.t("error_select_answer")),otherwise:e=>e.notRequired()})}),ta=()=>{const e=M(),r=o(),t=B(e=>e.mortgage),n={nameSurname:B(e=>e.login.loginData).nameSurname||t.nameSurname||"",birthday:t.birthday||new Date((new Date).setFullYear((new Date).getFullYear()-18)).getTime(),education:t.education||"",additionalCitizenships:t.additionalCitizenships||null,citizenshipsDropdown:t.citizenshipsDropdown||[],taxes:t.taxes||null,countriesPayTaxes:t.countriesPayTaxes||[],childrens:t.childrens||null,howMuchChildrens:t.howMuchChildrens||1,medicalInsurance:t.medicalInsurance||null,isForeigner:t.isForeigner||null,publicPerson:t.publicPerson||null,borrowers:t.borrowers||null,familyStatus:t.familyStatus||"",partnerPayMortgage:t.partnerPayMortgage||null,addPartner:t.addPartner||""};return a.jsx(P,{initialValues:n,validationSchema:ra,validateOnMount:!0,onSubmit:a=>{e(s(a)),r("/services/calculate-mortgage/3")},children:a.jsxs(E,{children:[a.jsx(O,{children:a.jsx(aa,{})}),a.jsx(ce,{})]})})},na=()=>{const{t:e,i18n:r}=t();r.language=r.language.split("-")[0];const n=o(),{values:i}=b(),{mainSourceOfIncome:f,additionalIncome:v,obligation:y}=i,w=M(),N=B(e=>e.borrowers.sourceOfIncomeModal),C=B(e=>e.borrowers.additionalIncomeModal),q=B(e=>e.borrowers.obligationModal),F=B(e=>e.otherBorrowers.otherBorrowers),k=B(e=>e.login.loginData);return a.jsxs(ie,{children:[a.jsx(se,{title:e("calculate_mortgage_step3_title")}),a.jsx(_e,{name:null==k?void 0:k.nameSurname,phone:null==k?void 0:k.phoneNumber}),a.jsxs(ne,{children:[a.jsx(ue,{}),De[f]&&De[f].map((e,r)=>a.jsx(l.Fragment,{children:e},r))]}),a.jsx(ne,{children:a.jsx(oe,{children:f&&a.jsxs(a.Fragment,{children:[N.map(r=>a.jsx(_e,{onEdit:()=>{return e=r.id,void w(h(e));var e},onDelete:()=>{return e=r.id,void w(m({id:e}));var e},enableEdit:!0,name:`${e("source_of_income")}${r.id+1}`},r.id)),a.jsx(ge,{onClick:()=>{w(s(i)),w(c())},color:"#FBE54D",value:e("add_place_to_work"),variant:"none"})]})})}),a.jsx(S,{}),a.jsxs(ne,{children:[a.jsx(he,{}),v&&"option_1"!==v&&a.jsx(pe,{}),a.jsx(oe,{})]}),v&&"option_1"!==v&&a.jsx(ne,{children:a.jsxs(oe,{children:[C.map(r=>a.jsx(_e,{onEdit:()=>{return e=r.id,void w(p(e));var e},onDelete:()=>{return e=r.id,void w(_({id:e}));var e},enableEdit:!0,name:`${e("additional_source_of_income")}${r.id+1}`},r.id)),a.jsx(ge,{onClick:()=>{w(s(i)),w(d())},color:"#FBE54D",value:e("add_additional_source_of_income"),variant:"none"})]})}),a.jsx(S,{}),a.jsxs(ne,{children:[a.jsx(xe,{}),Se[y]&&Se[y].map((e,r)=>a.jsx(l.Fragment,{children:e},r)),a.jsx(oe,{})]}),y&&"option_1"!==y&&a.jsx(ne,{children:a.jsxs(oe,{children:[q.map(r=>a.jsx(_e,{onEdit:()=>{return e=r.id,void w(x(e));var e},onDelete:()=>{return e=r.id,void w(u({id:e}));var e},enableEdit:!0,name:`${e("obligation")}${r.id+1}`},r.id)),a.jsx(ge,{onClick:()=>{w(s(i)),w(g())},color:"#FBE54D",value:e("add_obligation"),variant:"none"})]})}),a.jsx(S,{}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[F&&a.jsx(D,{title:e("borrower")}),a.jsxs(ne,{style:{columnGap:"2rem"},children:[F.map(e=>a.jsx(oe,{children:a.jsx(_e,{onEdit:()=>(e=>{w(Te(e));const a=F.some(a=>a.id===e)?e:me(F);n({pathname:"/services/other-borrowers/1/",search:j({pageId:String(a)}).toString()})})(e.id),onDelete:()=>{return a=e.id,void w(Le(a));var a},enableEdit:!0,name:e.nameSurname},e.id)},e.id)),!F&&a.jsx(D,{title:e("borrower")}),a.jsx(oe,{children:a.jsx(ge,{value:e("add_borrower"),onClick:()=>{w(Te(me(F))),n({pathname:"/services/other-borrowers/1/",search:j({pageId:me(F).toString()}).toString()})},style:{height:"3.5rem",borderRadius:"0.25rem",padding:"0",width:"13.125rem"}})}),a.jsx(oe,{})]})]})]})},oa=C().shape({mainSourceOfIncome:q().required(n.t("error_select_answer")),monthlyIncome:F().required(n.t("error_fill_field")),startDate:q().required(n.t("error_date")),fieldOfActivity:q().when("mainSourceOfIncome",{is:e=>null!=e&&""!==e,then:e=>e.required(n.t("error_select_field_of_activity")),otherwise:e=>e.notRequired()}),profession:q().required(n.t("error_fill_field")),companyName:q().required(n.t("error_fill_field")),additionalIncome:q().required(n.t("error_select_one_of_the_options")),additionalIncomeAmount:F().when("additionalIncome",{is:e=>null!=e&&""!==e&&"no"===e,then:e=>e.required(n.t("error_fill_field")),otherwise:e=>e.notRequired()}),obligation:q().required(n.t("error_select_one_of_the_options")),bank:q().when("obligation",{is:e=>null!=e&&""!==e&&"no"===e,then:e=>e.required(n.t("error_select_bank")),otherwise:e=>e.notRequired()}),monthlyPaymentForAnotherBank:F().when("obligation",{is:e=>null!=e&&""!==e&&"no"===e,then:e=>e.required(n.t("error_fill_field")),otherwise:e=>e.notRequired()}),endDate:q().required(n.t("error_date"))}),ia=()=>{const e=M(),r=o(),t=B(e=>e.mortgage),n={mainSourceOfIncome:t.mainSourceOfIncome||"",monthlyIncome:t.monthlyIncome||null,startDate:t.startDate||(new Date).getTime(),fieldOfActivity:t.fieldOfActivity||"",profession:t.profession||"",companyName:t.companyName||"",additionalIncome:t.additionalIncome||"",additionalIncomeAmount:t.additionalIncomeAmount||null,obligation:t.obligation||"",bank:t.bank||"",monthlyPaymentForAnotherBank:t.monthlyPaymentForAnotherBank||null,endDate:t.endDate||(new Date).getTime(),amountIncomeCurrentYear:(null==t?void 0:t.amountIncomeCurrentYear)||null,noIncome:t.noIncome||(new Date).getTime()};return a.jsxs(a.Fragment,{children:[a.jsx(P,{initialValues:n,validationSchema:oa,validateOnMount:!0,onSubmit:a=>{e(s(a)),r("/services/calculate-mortgage/4")},children:a.jsxs(E,{children:[a.jsx(O,{children:a.jsx(na,{})}),a.jsx(ce,{})]})}),a.jsx(X,{}),a.jsx(Z,{}),a.jsx(ee,{})]})},sa=()=>{const{stepNumber:e}=f(),{t:n,i18n:i}=t();i.language=i.language.split("-")[0];const s=o();if(!B(e=>e.login.isLogin)&&"1"!==e)return void s("/services/refinance-mortgage/1");const l=[n("mortgage_refinance_step_1"),n("mortgage_refinance_step_2"),n("mortgage_refinance_step_3"),n("mortgage_refinance_step_4")];let c;switch(e){case"1":c=a.jsx(We,{});break;case"2":c=a.jsx(ta,{});break;case"3":c=a.jsx(ia,{});break;case"4":c=a.jsx(ea,{});break;default:c=a.jsx(v,{type:"NOT_FOUND"})}return a.jsxs(a.Fragment,{children:["4"!==e&&a.jsx($,{progress:e,data:l}),a.jsx(r.Suspense,{fallback:a.jsx(R,{}),children:c})]})};export{sa as RefinanceMortgage};
