import{b as I,j as e,X as N,l as h,g as v,h as U,F as H,c as G,f as J,T as A,R as Q,G as _o,H as po,r as go}from"./index-eb3aa3d7.js";import{u as q,k as xo,E as wo,D as z,d as F,f as m,h as Z,e as O,c as M,b as g,F as k,g as $,a as V,z as K,B as W,M as X,A as fo,G as jo,H as bo,J as Io,K as yo,N as So,L as Oo}from"./index-a5a970b9.js";import{P as Bo}from"./ProgressBar-7c664ab9.js";import{F as Fo,u as oo,a as Ao,b as qo,c as Mo,e as Do,f as Co,g as No}from"./otherBorrowersSlice-40a60261.js";import{g as P,b as eo,d as no,O as to,e as E,a as ro,c as T,U as R,A as L}from"./componentsByIncomeSource-e43343be.js";import{C as j,F as io,a as so,R as b,c as ao}from"./StringInput-15bd80b7.js";import{R as ko,I as $o,N as Po,B as Yo,E as zo,A as Eo,T as To,b as Ro,C as Lo,a as Ho,H as Uo,M as Go,c as Jo,P as Ko}from"./Taxes-33bde268.js";import"./ShieldCheckIcon-185d94af.js";const Wo=()=>{const{t:n,i18n:a}=I();a.language=a.language.split("-")[0];const{values:l,setFieldValue:d,errors:i,touched:o,setFieldTouched:_}=q();return e.jsxs(j,{children:[e.jsx(xo,{title:n("who_are_you_for_borrowers"),placeholder:n("who_are_you_for_borrowers_ph"),name:"whoAreYouForBorrowers",onChange:c=>d("whoAreYouForBorrowers",c),onBlur:()=>_("whoAreYouForBorrowers"),error:o.whoAreYouForBorrowers&&i.whoAreYouForBorrowers,value:l.whoAreYouForBorrowers}),o.whoAreYouForBorrowers&&i.whoAreYouForBorrowers&&e.jsx(wo,{error:i.whoAreYouForBorrowers})]})},Xo=()=>{const{t:n,i18n:a}=I();a.language=a.language.split("-")[0];const[l]=N(),d=l.get("pageId"),{values:i}=q();return console.log(d),e.jsxs(io,{children:[e.jsx(so,{title:n("personal_data_borrowers_title")+d}),e.jsx(ko,{children:e.jsx($o,{})}),e.jsxs(b,{children:[e.jsx(Po,{}),e.jsx(Yo,{}),e.jsx(zo,{})]}),e.jsxs(b,{children:[e.jsx(Eo,{}),e.jsx(To,{}),e.jsx(Ro,{}),i.additionalCitizenships==="yes"&&e.jsx(Lo,{}),i.taxes==="yes"&&e.jsx(Ho,{}),i.childrens==="yes"&&e.jsx(Uo,{})]}),e.jsx(z,{}),e.jsxs(b,{children:[e.jsx(Go,{}),e.jsx(Jo,{}),e.jsx(Ko,{})]}),e.jsx(z,{}),e.jsxs(b,{children:[e.jsx(Wo,{}),e.jsx(Fo,{}),e.jsx(j,{})]})]})},Qo=F().shape({nameSurname:m().required(h.t("error_name_surname")),birthday:m().required(h.t("error_date")),education:m().required(h.t("error_select_answer")),additionalCitizenships:m().required(h.t("error_select_answer")),citizenshipsDropdown:Z().when("additionalCitizenships",{is:"yes",then:n=>n.min(1,h.t("error_select_answer")),otherwise:n=>n.min(0)}),taxes:m().required(h.t("error_select_answer")),countriesPayTaxes:Z().when("taxes",{is:"yes",then:n=>n.min(1,h.t("error_select_answer")),otherwise:n=>n.min(0)}),childrens:m().required(h.t("error_select_answer")),howMuchChildrens:O().required(h.t("error_fill_field")),medicalInsurance:m().required(h.t("error_select_answer")),isForeigner:m().required(h.t("error_select_answer")),publicPerson:m().required(h.t("error_select_answer")),whoAreYouForBorrowers:m().required(h.t("error_fill_field")),familyStatus:m().required(h.t("error_select_answer"))}),Zo=()=>{const n=M(),a=v(),l=U(),d=g(t=>t.otherBorrowers.otherBorrowersPageId),i=g(t=>t.otherBorrowers.otherBorrowers),o=i.find(t=>t.id===d),c=!i.some(t=>t.id===d)?P(i):d;a.search.includes(`?pageId=${c}`)||l({pathname:"/services/other-borrowers/1/",search:H({pageId:String(c)}).toString()});const u={nameSurname:(o==null?void 0:o.nameSurname)||"",birthday:(o==null?void 0:o.birthday)||new Date(new Date().setFullYear(new Date().getFullYear()-18)).getTime(),education:(o==null?void 0:o.education)||"",additionalCitizenships:(o==null?void 0:o.additionalCitizenships)||null,citizenshipsDropdown:(o==null?void 0:o.citizenshipsDropdown)||[],taxes:(o==null?void 0:o.taxes)||null,countriesPayTaxes:(o==null?void 0:o.countriesPayTaxes)||[],childrens:(o==null?void 0:o.childrens)||null,howMuchChildrens:(o==null?void 0:o.howMuchChildrens)||1,medicalInsurance:(o==null?void 0:o.medicalInsurance)||null,isForeigner:(o==null?void 0:o.isForeigner)||null,publicPerson:(o==null?void 0:o.publicPerson)||null,whoAreYouForBorrowers:(o==null?void 0:o.whoAreYouForBorrowers)||"",familyStatus:(o==null?void 0:o.familyStatus)||"",sourceOfIncomeModal:(o==null?void 0:o.sourceOfIncomeModal)||[],additionalIncomeModal:(o==null?void 0:o.additionalIncomeModal)||[],obligationModal:(o==null?void 0:o.obligationModal)||[]};return e.jsx(k,{initialValues:u,validationSchema:Qo,validateOnMount:!0,onSubmit:t=>{n(oo({id:c,newFields:t})),l({pathname:"/services/other-borrowers/2/",search:H({pageId:String(c)}).toString()})},children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(Xo,{})}),e.jsx(ao,{})]})})},vo="_modal_lzcpe_1",Vo="_buttons_lzcpe_49",oe={modal:vo,"modal-item":"_modal-item_lzcpe_18","modal-buttons":"_modal-buttons_lzcpe_31",buttons:Vo},Y=G.bind(oe),ee=()=>{const{t:n,i18n:a}=I();a.language=a.language.split("-")[0];const{handleSubmit:l,isValid:d,values:i}=q(),o=J();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:Y("modal"),children:[e.jsxs("div",{className:Y("modal-item"),children:[e.jsx(eo,{}),i.additionalIncome&&e.jsx(no,{})]}),e.jsx("div",{className:Y("modal-buttons"),children:e.jsxs("div",{className:Y("buttons"),children:[e.jsx(K,{title:n("button_back"),handleClick:()=>o(A())}),e.jsx(W,{type:"submit",isDisabled:!d,onClick:l,size:"full",children:n("button_next_save")})]})})]})})},ne=()=>{const{t:n,i18n:a}=I();a.language=a.language.split("-")[0];const l=M(),[d]=N(),i=d.get("pageId"),o=parseInt(i),_=g(r=>r.modalSlice.isOpenAdditionalIncome),c=g(r=>r.modalSlice.currentId),u=g(r=>{var f;return((f=r.otherBorrowers.otherBorrowers[o-1])==null?void 0:f.additionalIncomeModal)||[]}),t=u.find(r=>r.id===c),x=()=>{l(A())},w=!u.some(r=>r.id===c)?P(u):c,y={additionalIncome:(t==null?void 0:t.additionalIncome)||"",additionalIncomeAmount:(t==null?void 0:t.additionalIncomeAmount)||null},S=F().shape({additionalIncome:m().required(n("error_select_one_of_the_options")),additionalIncomeAmount:O().when("additionalIncome",{is:r=>r!=null&&r!==""&&r==="no",then:r=>r.required(h.t("error_fill_field")),otherwise:r=>r.notRequired()})});return e.jsx(X,{isVisible:_,onCancel:x,title:`${n("additional_source_of_income")} ${w+1}`,children:e.jsx(k,{initialValues:y,validationSchema:S,validateOnMount:!0,onSubmit:r=>{l(Ao({id:w,pageId:o,...r})),x()},children:e.jsx($,{children:e.jsx(ee,{})})})})},te="_modal_r2hy9_1",re="_container_r2hy9_41",ie="_component_r2hy9_47",se="_buttons_r2hy9_59",ae={modal:te,"modal-item":"_modal-item_r2hy9_18","modal-buttons":"_modal-buttons_r2hy9_23",container:re,component:ie,buttons:se},C=G.bind(ae),ce=()=>{const{t:n,i18n:a}=I();a.language=a.language.split("-")[0];const{handleSubmit:l,isValid:d,values:i}=q(),o=J(),{obligation:_}=i;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:C("modal"),children:[e.jsxs("div",{className:C("container"),children:[e.jsx(to,{}),E[_]&&E[_].map((c,u)=>e.jsx("div",{className:C("component"),children:c},u)),e.jsx(j,{})]}),e.jsx("div",{className:C("modal-buttons"),children:e.jsxs("div",{className:C("buttons"),children:[e.jsx(K,{title:n("button_back"),handleClick:()=>o(A())}),e.jsx(W,{type:"submit",isDisabled:!d,onClick:l,size:"full",children:n("button_next_save")})]})})]})})},le=()=>{const{t:n,i18n:a}=I();a.language=a.language.split("-")[0];const l=M(),[d]=N(),i=d.get("pageId"),o=parseInt(i),_=g(r=>r.modalSlice.isOpenObligation),c=g(r=>r.modalSlice.currentId),u=g(r=>{var f;return((f=r.otherBorrowers.otherBorrowers[o-1])==null?void 0:f.obligationModal)||[]}),t=u.find(r=>r.id===c),x=()=>{l(A())},w=!u.some(r=>r.id===c)?P(u):c,y={obligation:(t==null?void 0:t.obligation)||"",bank:(t==null?void 0:t.bank)||"",monthlyPaymentForAnotherBank:(t==null?void 0:t.monthlyPaymentForAnotherBank)||null,endDate:(t==null?void 0:t.endDate)||new Date().getTime(),noIncome:(t==null?void 0:t.noIncome)||new Date().getTime()},S=F().shape({obligation:m().required(n("error_select_one_of_the_options")),bank:m().when("obligation",{is:r=>r!=null&&r!==""&&r==="no",then:r=>r.required(n("error_select_bank")),otherwise:r=>r.notRequired()}),monthlyPaymentForAnotherBank:O().when("obligation",{is:r=>r!=null&&r!==""&&r==="no",then:r=>r.required(n("error_fill_field")),otherwise:r=>r.notRequired()}),endDate:m().required(n("error_date"))});return e.jsx(X,{isVisible:_,onCancel:x,title:`${n("obligation")} ${w+1}`,children:e.jsx(k,{initialValues:y,validationSchema:S,validateOnMount:!0,onSubmit:r=>{l(qo({id:w,pageId:o,...r})),x()},children:e.jsx($,{children:e.jsx(ce,{})})})})},de="_modal_1gdud_1",me="_container_1gdud_41",he="_component_1gdud_47",ue="_buttons_1gdud_59",_e={modal:de,"modal-item":"_modal-item_1gdud_18","modal-buttons":"_modal-buttons_1gdud_23",container:me,component:he,buttons:ue},B=G.bind(_e),pe=()=>{const{t:n,i18n:a}=I();a.language=a.language.split("-")[0];const{handleSubmit:l,isValid:d,values:i}=q(),{mainSourceOfIncome:o}=i,_=J();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:B("modal"),children:[e.jsxs("div",{className:B("container"),children:[e.jsx("div",{className:B("component"),children:e.jsx(ro,{})}),T[o]&&T[o].map((c,u)=>e.jsx("div",{className:B("component"),children:c},u)),e.jsx(j,{})]}),e.jsx("div",{className:B("modal-buttons"),children:e.jsxs("div",{className:B("buttons"),children:[e.jsx(K,{title:n("button_back"),handleClick:()=>_(A())}),e.jsx(W,{type:"submit",isDisabled:!d,onClick:l,size:"full",children:n("button_next_save")})]})})]})})},ge=()=>{const{t:n,i18n:a}=I();a.language=a.language.split("-")[0];const l=M(),[d]=N(),i=d.get("pageId"),o=parseInt(i),_=g(r=>r.modalSlice.isOpenSourceOfIncome),c=g(r=>r.modalSlice.currentId),u=g(r=>{var f;return((f=r.otherBorrowers.otherBorrowers[o-1])==null?void 0:f.sourceOfIncomeModal)||[]}),t=u.find(r=>r.id===c),x=()=>{l(A())},w=!u.some(r=>r.id===c)?P(u):c,y={mainSourceOfIncome:(t==null?void 0:t.mainSourceOfIncome)||"",monthlyIncome:(t==null?void 0:t.monthlyIncome)||null,startDate:(t==null?void 0:t.startDate)||new Date().getTime(),fieldOfActivity:(t==null?void 0:t.fieldOfActivity)||"",profession:(t==null?void 0:t.profession)||"",companyName:(t==null?void 0:t.companyName)||"",amountIncomeCurrentYear:(t==null?void 0:t.amountIncomeCurrentYear)||null},S=F().shape({mainSourceOfIncome:m().required(n("error_select_answer")),monthlyIncome:O().required(n("error_fill_field")),startDate:m().required(n("error_date")),fieldOfActivity:F().when("mainSourceOfIncome",{is:r=>r!=null&&r!=="",then:r=>r.required(n("error_select_field_of_activity")),otherwise:r=>r.notRequired()}),profession:m().required(n("error_fill_field")),companyName:m().required(n("error_fill_field"))});return e.jsx(X,{isVisible:_,onCancel:x,title:`${n("source_of_income")} ${w+1}`,children:e.jsx(k,{initialValues:y,validationSchema:S,validateOnMount:!0,onSubmit:r=>{l(Mo({id:w,pageId:o,...r})),x()},children:e.jsx($,{children:e.jsx(pe,{})})})})},xe=()=>{const{t:n,i18n:a}=I();a.language=a.language.split("-")[0];const[l]=N(),d=l.get("pageId"),i=parseInt(d),{values:o}=q(),{mainSourceOfIncome:_,additionalIncome:c,obligation:u}=o,t=M(),x=g(s=>{var p;return((p=s.otherBorrowers.otherBorrowers[i-1])==null?void 0:p.sourceOfIncomeModal)||[]}),D=g(s=>{var p;return((p=s.otherBorrowers.otherBorrowers[i-1])==null?void 0:p.additionalIncomeModal)||[]}),w=g(s=>{var p;return((p=s.otherBorrowers.otherBorrowers[i-1])==null?void 0:p.obligationModal)||[]}),y=()=>{t(fo())},S=()=>{t(jo())},r=()=>{t(bo())},f=(s,p)=>{t(Do({id:s,pageId:p}))},co=(s,p)=>{t(Co({id:s,pageId:p}))},lo=(s,p)=>{t(No({id:s,pageId:p}))},mo=s=>{t(Io(s))},ho=s=>{t(yo(s))},uo=s=>{t(So(s))};return e.jsxs(io,{children:[e.jsx(so,{title:`${n("borrowers_income")}#${i}`}),e.jsxs(b,{children:[e.jsx(ro,{}),T[_]&&T[_].map((s,p)=>e.jsx(Q.Fragment,{children:s},p)),e.jsx(j,{})]}),e.jsx(b,{children:_&&e.jsxs(j,{children:[x&&x.map(s=>e.jsx(R,{onEdit:()=>mo(s.id),onDelete:()=>f(s.id,i),enableEdit:!0,name:`${n("source_of_income")}${s.id+1}`},s.id)),e.jsx(L,{onClick:y,color:"#FBE54D",value:n("add_place_to_work"),variant:"none"})]})}),e.jsx(z,{}),e.jsxs(b,{children:[e.jsx(eo,{}),c&&c!=="option_1"&&e.jsx(no,{}),e.jsx(j,{})]}),c&&c!=="option_1"&&e.jsx(b,{children:e.jsxs(j,{children:[D&&D.map(s=>e.jsx(R,{onEdit:()=>ho(s.id),onDelete:()=>co(s.id,i),enableEdit:!0,name:`${n("additional_source_of_income")}${s.id+1}`},s.id)),e.jsx(L,{onClick:S,color:"#FBE54D",value:n("add_additional_source_of_income"),variant:"none"})]})}),e.jsx(z,{}),e.jsxs(b,{children:[e.jsx(to,{}),E[u]&&E[u].map((s,p)=>e.jsx(Q.Fragment,{children:s},p)),e.jsx(j,{})]}),u&&u!=="option_1"&&e.jsx(b,{children:e.jsxs(j,{children:[w&&w.map(s=>e.jsx(R,{onEdit:()=>uo(s.id),onDelete:()=>lo(s.id,i),enableEdit:!0,name:`${n("obligation")}${s.id+1}`},s.id)),e.jsx(L,{onClick:r,color:"#FBE54D",value:n("add_obligation"),variant:"none"})]})})]})},we=F().shape({mainSourceOfIncome:m().required(h.t("error_select_answer")),monthlyIncome:O().required(h.t("error_fill_field")),startDate:m().required(h.t("error_date")),fieldOfActivity:m().when("mainSourceOfIncome",{is:n=>n!=null&&n!=="",then:n=>n.required(h.t("error_select_field_of_activity")),otherwise:n=>n.notRequired()}),profession:m().required(h.t("error_fill_field")),companyName:m().required(h.t("error_fill_field")),additionalIncome:m().required(h.t("error_select_one_of_the_options")),additionalIncomeAmount:O().when("additionalIncome",{is:n=>n!=null&&n!==""&&n==="no",then:n=>n.required(h.t("error_fill_field")),otherwise:n=>n.notRequired()}),obligation:m().required(h.t("error_select_one_of_the_options")),bank:m().when("obligation",{is:n=>n!=null&&n!==""&&n==="no",then:n=>n.required(h.t("error_select_bank")),otherwise:n=>n.notRequired()}),monthlyPaymentForAnotherBank:O().when("obligation",{is:n=>n!=null&&n!==""&&n==="no",then:n=>n.required(h.t("error_fill_field")),otherwise:n=>n.notRequired()}),endDate:m().required(h.t("error_date"))}),fe=()=>{const n=M(),a=U(),l=v(),d=g(t=>t.otherBorrowers.otherBorrowersPageId),i=g(t=>t.otherBorrowers.otherBorrowers),o=i.find(t=>t.id===d),c=!i.some(t=>t.id===d)?P(i):d;l.search.includes(`?pageId=${c}`)||a({pathname:"/services/other-borrowers/2/",search:H({pageId:String(c)}).toString()});const u={mainSourceOfIncome:(o==null?void 0:o.mainSourceOfIncome)||"",monthlyIncome:(o==null?void 0:o.monthlyIncome)||null,startDate:(o==null?void 0:o.startDate)||new Date().getTime(),fieldOfActivity:(o==null?void 0:o.fieldOfActivity)||"",profession:(o==null?void 0:o.profession)||"",companyName:(o==null?void 0:o.companyName)||"",additionalIncome:(o==null?void 0:o.additionalIncome)||"",additionalIncomeAmount:(o==null?void 0:o.additionalIncomeAmount)||null,obligation:(o==null?void 0:o.obligation)||"",bank:(o==null?void 0:o.bank)||"",monthlyPaymentForAnotherBank:(o==null?void 0:o.monthlyPaymentForAnotherBank)||null,endDate:(o==null?void 0:o.endDate)||new Date().getTime(),amountIncomeCurrentYear:(o==null?void 0:o.amountIncomeCurrentYear)||null,noIncome:(o==null?void 0:o.noIncome)||new Date().getTime(),sourceOfIncomeModal:(o==null?void 0:o.sourceOfIncomeModal)||[],additionalIncomeModal:(o==null?void 0:o.additionalIncomeModal)||[],obligationModal:(o==null?void 0:o.obligationModal)||[]};return e.jsxs(e.Fragment,{children:[e.jsx(k,{initialValues:u,validationSchema:we,validateOnMount:!0,onSubmit:t=>{n(oo({id:c,newFields:t})),a(-2)},children:e.jsxs($,{children:[e.jsx(V,{children:e.jsx(xe,{})}),e.jsx(ao,{})]})}),e.jsx(ge,{}),e.jsx(ne,{}),e.jsx(le,{})]})},je=()=>{const{stepNumber:n}=_o(),{t:a,i18n:l}=I();l.language=l.language.split("-")[0];const d=U();if(!g(c=>c.login.isLogin)){d("/");return}const o=[a("calculate_mortgage_anketa"),a("calculate_mortgage_income")];let _;switch(n){case"1":_=e.jsx(Zo,{});break;case"2":_=e.jsx(fe,{});break;default:_=e.jsx(po,{type:"NOT_FOUND"});break}return e.jsxs(e.Fragment,{children:[e.jsx(Bo,{progress:n,data:o}),e.jsx(go.Suspense,{fallback:e.jsx(Oo,{}),children:_})]})},qe=je;export{qe as OtherBorrowers};
