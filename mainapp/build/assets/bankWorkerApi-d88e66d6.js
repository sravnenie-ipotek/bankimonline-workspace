import{a9 as a}from"./utils-vendor-8f040048.js";const e={}.REACT_APP_API_URL||("localhost"===window.location.hostname?"http://localhost:8003":"/api"),t=a.create({baseURL:e,timeout:3e4,headers:{"Content-Type":"application/json"}});t.interceptors.request.use(a=>{var e;const t=localStorage.getItem("adminToken");return t&&(null==(e=a.url)?void 0:e.includes("/admin/"))&&(a.headers.Authorization=`Bearer ${t}`),a},a=>Promise.reject(a)),t.interceptors.response.use(a=>a,a=>{var e;return 401===(null==(e=a.response)?void 0:e.status)&&(localStorage.removeItem("adminToken"),window.location.pathname.includes("/admin/")&&(window.location.href="/admin")),Promise.reject(a)});const r=new class{async getRegistrationForm(a){var e,r;try{return(await t.get(`/api/bank-worker/register/${a}`)).data}catch(o){throw new Error((null==(r=null==(e=o.response)?void 0:e.data)?void 0:r.message)||"Failed to load registration form")}}async completeRegistration(a){var e,r;try{return(await t.post("/api/bank-worker/register",a)).data}catch(o){throw new Error((null==(r=null==(e=o.response)?void 0:e.data)?void 0:r.message)||"Registration failed")}}async getWorkerStatus(a){var e,r;try{return(await t.get(`/api/bank-worker/status/${a}`)).data}catch(o){throw new Error((null==(r=null==(e=o.response)?void 0:e.data)?void 0:r.message)||"Failed to get worker status")}}async sendInvitation(a){var e,r;try{return(await t.post("/api/bank-worker/invite",a)).data}catch(o){throw new Error((null==(r=null==(e=o.response)?void 0:e.data)?void 0:r.message)||"Failed to send invitation")}}async getInvitations(a){var e,r;try{return(await t.get("/api/admin/invitations",{params:a})).data}catch(o){throw new Error((null==(r=null==(e=o.response)?void 0:e.data)?void 0:r.message)||"Failed to get invitations")}}async getApprovalQueue(a){var e,r;try{return(await t.get("/api/admin/approval-queue",{params:a})).data}catch(o){throw new Error((null==(r=null==(e=o.response)?void 0:e.data)?void 0:r.message)||"Failed to get approval queue")}}async approveWorker(a,e){var r,o;try{return(await t.post(`/api/admin/approve/${a}`,{comments:e})).data}catch(n){throw new Error((null==(o=null==(r=n.response)?void 0:r.data)?void 0:o.message)||"Failed to approve worker")}}async rejectWorker(a,e,r){var o,n;try{return(await t.post(`/api/admin/reject/${a}`,{reason:e,comments:r})).data}catch(s){throw new Error((null==(n=null==(o=s.response)?void 0:o.data)?void 0:n.message)||"Failed to reject worker")}}async getBanks(){var a,e;try{return(await t.get("/api/admin/banks")).data}catch(r){throw new Error((null==(e=null==(a=r.response)?void 0:a.data)?void 0:e.message)||"Failed to get banks")}}};export{r as b};
