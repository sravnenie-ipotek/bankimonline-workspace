import{j as e}from"./ui-vendor-19e4e52b.js";import{L as k,r as m}from"./react-vendor-9ed0ad78.js";import{b as I}from"./index-0069b652.js";import{u}from"./i18n-vendor-e8db3f4c.js";import{M as w,C as F}from"./ClockIcon-c84b983b.js";import"./index-40267bc7.js";import"./state-vendor-8e443ca8.js";import"./utils-vendor-f2764326.js";import"./form-vendor-67b0fc1d.js";import"./components-vendor-66cd084e.js";const D="_categoryFilter_1h90i_1",B="_breadcrumb_1h90i_10",$="_breadcrumbItem_1h90i_25",E="_breadcrumbSeparator_1h90i_49",S="_filterRow_1h90i_60",V="_filterButton_1h90i_71",R="_active_1h90i_93",L="_drillDownIndicator_1h90i_99",f={categoryFilter:D,breadcrumb:B,breadcrumbItem:$,breadcrumbSeparator:E,filterRow:S,filterButton:V,active:R,drillDownIndicator:L},M=({onCategoryChange:a,activeCategory:i})=>{const{t:n}=u(),y=[{key:"all",label:n("vacancies_category_all","Все")},{key:"development",label:n("vacancies_category_development","Разработка")},{key:"design",label:n("vacancies_category_design","Дизайн")},{key:"management",label:n("vacancies_category_management","Менеджмент")},{key:"marketing",label:n("vacancies_category_marketing","Маркетинг")},{key:"finance",label:n("vacancies_category_finance","Финансы")},{key:"customer_service",label:n("vacancies_category_customer_service","Работа с клиентами")}],l=c=>{a(c)};return e.jsx("div",{className:f.categoryFilter,children:e.jsx("div",{className:f.filterRow,children:y.map(c=>e.jsx("button",{className:`${f.filterButton} ${i===c.key?f.active:""}`,onClick:()=>l(c.key),children:c.label},c.key))})})},P=a=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:21,fill:"none",...a,children:[e.jsx("path",{fill:"#fff",d:"M16.536 15.416V4.746a1.005 1.005 0 0 1 .512-.996.963.963 0 0 1 1.413.779V16.204c0 .8-.367 1.17-1.171 1.17h-5.72a5.259 5.259 0 0 1-5.234-4.262 4.543 4.543 0 0 1-.1-.916V7.233a.97.97 0 0 1 .654-.97.88.88 0 0 1 1.054.316c.133.225.205.48.208.742.021 1.554 0 3.108 0 4.662a3.333 3.333 0 0 0 2.392 3.304c.328.095.667.144 1.008.146h4.73c.075.004.137-.008.254-.017Z"}),e.jsx("path",{fill:"#fff",d:"M3.46 5.592v10.671a.967.967 0 1 1-1.92.22V4.802c0-.805.37-1.176 1.166-1.176h5.72a5.262 5.262 0 0 1 5.238 4.259c.064.301.098.608.1.916v4.963a.96.96 0 0 1-1.408.904.976.976 0 0 1-.517-.958V9.013a3.334 3.334 0 0 0-2.642-3.375 3.583 3.583 0 0 0-.787-.08H3.747c-.087.005-.17.022-.287.034Z"})]}),A="_vacancyCardLink_1stri_1",G="_vacancyCard_1stri_1",H="_categoryChip_1stri_32",Z="_categoryDot_1stri_51",U="_categoryText_1stri_63",q="_jobTitle_1stri_67",z="_jobInfo_1stri_81",J="_infoItem_1stri_90",K="_icon_1stri_96",O="_infoText_1stri_109",Q="_detailText_1stri_110",W="_description_1stri_122",X="_jobDetails_1stri_136",Y="_detailItem_1stri_147",s={vacancyCardLink:A,vacancyCard:G,categoryChip:H,categoryDot:Z,categoryText:U,jobTitle:q,jobInfo:z,infoItem:J,icon:K,infoText:O,detailText:Q,description:W,jobDetails:X,detailItem:Y},ee=({id:a,category:i,title:n,location:y,description:l,employmentType:c,salary:g,categoryColor:p="#FBE54D"})=>(u(),e.jsx(k,{to:`/vacancies/${a}`,className:s.vacancyCardLink,children:e.jsxs("div",{className:s.vacancyCard,children:[e.jsxs("div",{className:s.categoryChip,style:{backgroundColor:p},children:[e.jsx("div",{className:s.categoryDot,style:{backgroundColor:"#FFD700"}}),e.jsx("span",{className:s.categoryText,children:i})]}),e.jsx("h3",{className:s.jobTitle,children:n}),e.jsx("div",{className:s.jobInfo,children:e.jsxs("div",{className:s.infoItem,children:[e.jsx(w,{className:s.icon}),e.jsx("span",{className:s.infoText,children:y})]})}),e.jsx("p",{className:s.description,children:l}),e.jsxs("div",{className:s.jobDetails,children:[e.jsxs("div",{className:s.detailItem,children:[e.jsx(F,{className:s.icon}),e.jsx("span",{className:s.detailText,children:c})]}),e.jsxs("div",{className:s.detailItem,children:[e.jsx(P,{className:s.icon}),e.jsx("span",{className:s.detailText,children:g})]})]})]})})),te="_vacanciesPage_4fgn2_1",ae="_content_4fgn2_13",se="_header_4fgn2_24",ne="_title_4fgn2_34",ce="_subtitle_4fgn2_53",re="_vacancyGrid_4fgn2_73",oe="_emptyState_4fgn2_84",ie="_emptyText_4fgn2_94",le="_loading_4fgn2_105",_e="_spinner_4fgn2_118",de="_spin_4fgn2_118",me="_error_4fgn2_135",ye="_retryButton_4fgn2_152",ge="_noResults_4fgn2_171",r={vacanciesPage:te,content:ae,header:se,title:ne,subtitle:ce,vacancyGrid:re,emptyState:oe,emptyText:ie,loading:le,spinner:_e,spin:de,error:me,retryButton:ye,noResults:ge},pe=()=>{const{t:a,i18n:i}=u(),[n,y]=m.useState("all"),[l,c]=m.useState([]),[g,p]=m.useState(!0),[v,x]=m.useState(null),h=async(t="all")=>{try{p(!0),x(null);const o=new URLSearchParams({category:t,lang:i.language||"en",active_only:"true"}),d=await fetch(`/api/vacancies?${o}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const _=await d.json();if(_.status==="success")c(_.data);else throw new Error(_.message||"Failed to fetch vacancies")}catch(o){console.error("Error fetching vacancies:",o),x(o instanceof Error?o.message:"Failed to load vacancies"),c([])}finally{p(!1)}};m.useEffect(()=>{h(n)},[i.language]);const b=t=>{y(t),h(t)},C=(t,o,d)=>{const _=T=>new Intl.NumberFormat().format(T);return t&&o?`${_(t)} - ${_(o)} ${d}`:t?`${a("vacancy_salary_from")} ${_(t)} ${d}`:""},j=m.useMemo(()=>n==="all"?l:l.filter(t=>t.category===n),[l,n]),N=t=>({full_time:a("vacancy_employment_fulltime"),part_time:a("vacancy_employment_parttime","Part Time"),contract:a("vacancy_employment_contract","Contract"),temporary:a("vacancy_employment_temporary","Temporary")})[t]||t;return e.jsx("div",{className:r.vacanciesPage,children:e.jsx(I,{children:e.jsxs("div",{className:r.content,children:[e.jsxs("div",{className:r.header,children:[e.jsx("h1",{className:r.title,children:a("vacancies_title")}),e.jsx("p",{className:r.subtitle,children:a("vacancies_subtitle")})]}),e.jsx(M,{onCategoryChange:b,activeCategory:n}),g&&e.jsxs("div",{className:r.loading,children:[e.jsx("div",{className:r.spinner}),e.jsx("p",{children:a("loading","Loading...")})]}),v&&!g&&e.jsxs("div",{className:r.error,children:[e.jsx("p",{children:a("error_loading_vacancies","Failed to load vacancies. Please try again later.")}),e.jsx("button",{className:r.retryButton,onClick:()=>h(n),children:a("retry","Retry")})]}),!g&&!v&&e.jsx("div",{className:r.vacancyGrid,children:j.length>0?j.map(t=>e.jsx(ee,{id:t.id,category:a(`vacancies_category_${t.category}`,t.category),title:t.title,location:t.location,description:t.description,employmentType:N(t.employment_type),salary:C(t.salary_min,t.salary_max,t.salary_currency),categoryColor:fe(t.category)},t.id)):e.jsx("div",{className:r.noResults,children:e.jsx("p",{children:a("vacancies_no_results")})})})]})})})},fe=a=>({development:"#FBE54D",design:"#4DABF7",management:"#69DB7C",marketing:"#FFB366",finance:"#A78BFA",customer_service:"#FF8CC8"})[a]||"#FBE54D",Ie=pe;export{Ie as Vacancies};
