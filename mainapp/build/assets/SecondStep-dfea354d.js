import{c as R,b as j,f as z,j as n,T as D,l as u,R as U,h as nn}from"./index-eb3aa3d7.js";import{u as C,B as S,c as A,b as _,d as g,f as d,e as y,M as T,F,g as $,D as G,A as on,G as en,H as tn,J as an,K as sn,N as rn,a as cn}from"./index-a5a970b9.js";import{a as ln,b as dn,c as mn,u as N,e as un,f as _n,g as hn}from"./borrowersPersonalDataSlice-a434629b.js";import{C as f,F as bn,a as fn,R as I,c as pn}from"./StringInput-15bd80b7.js";import{b as H,d as J,g as Y,O as K,e as k,a as L,c as M,U as P,A as E}from"./componentsByIncomeSource-e43343be.js";const xn="_modal_lzcpe_1",gn="_buttons_lzcpe_49",jn={modal:xn,"modal-item":"_modal-item_lzcpe_18","modal-buttons":"_modal-buttons_lzcpe_31",buttons:gn},q=R.bind(jn),In=()=>{const{t:o,i18n:c}=j();c.language=c.language.split("-")[0];const{handleSubmit:l,isValid:i,values:r}=C(),s=z();return n.jsx(n.Fragment,{children:n.jsxs("div",{className:q("modal"),children:[n.jsxs("div",{className:q("modal-item"),children:[n.jsx(H,{}),r.additionalIncome&&n.jsx(J,{})]}),n.jsx("div",{className:q("modal-buttons"),children:n.jsxs("div",{className:q("buttons"),children:[n.jsx(S,{variant:"modalBase",type:"submit",onClick:()=>s(D()),children:o("button_back")}),n.jsx(S,{type:"submit",isDisabled:!i,onClick:l,size:"full",children:o("button_next_save")})]})})]})})},On=()=>{const{t:o,i18n:c}=j();c.language=c.language.split("-")[0];const l=A(),i=_(e=>e.modalSlice.isOpenAdditionalIncome),r=_(e=>e.modalSlice.currentId),s=_(e=>e.borrowersPersonalData.additionalIncomeModal),t=s[r-1]!==void 0?s[r-1]:void 0,m=()=>{l(D())},h=!s.some(e=>e.id===r)?Y(s):r,p={additionalIncome:(t==null?void 0:t.additionalIncome)||"",additionalIncomeAmount:(t==null?void 0:t.additionalIncomeAmount)||null},x=g().shape({additionalIncome:d().required(o("error_select_one_of_the_options")),additionalIncomeAmount:y().when("additionalIncome",{is:e=>e!=null&&e!==""&&e==="no",then:e=>e.required(u.t("error_fill_field")),otherwise:e=>e.notRequired()})});return n.jsx(T,{isVisible:i,onCancel:m,title:`${o("additional_source_of_income")} ${h+1}`,children:n.jsx(F,{initialValues:p,validationSchema:x,validateOnMount:!0,onSubmit:e=>{l(ln({id:h,...e})),m()},children:n.jsx($,{children:n.jsx(In,{})})})})},yn="_modal_r2hy9_1",Sn="_container_r2hy9_41",Dn="_component_r2hy9_47",wn="_buttons_r2hy9_59",An={modal:yn,"modal-item":"_modal-item_r2hy9_18","modal-buttons":"_modal-buttons_r2hy9_23",container:Sn,component:Dn,buttons:wn},w=R.bind(An),qn=()=>{const{t:o,i18n:c}=j();c.language=c.language.split("-")[0];const{handleSubmit:l,isValid:i,values:r}=C(),s=z(),{obligation:t}=r;return n.jsx(n.Fragment,{children:n.jsxs("div",{className:w("modal"),children:[n.jsxs("div",{className:w("container"),children:[n.jsx(K,{}),k[t]&&k[t].map((m,b)=>n.jsx("div",{className:w("component"),children:m},b)),n.jsx(f,{})]}),n.jsx("div",{className:w("modal-buttons"),children:n.jsxs("div",{className:w("buttons"),children:[n.jsx(S,{variant:"modalBase",type:"submit",onClick:()=>s(D()),children:o("button_back")}),n.jsx(S,{type:"submit",isDisabled:!i,onClick:l,size:"full",children:o("button_next_save")})]})})]})})},Nn=()=>{const{t:o,i18n:c}=j();c.language=c.language.split("-")[0];const l=A(),i=_(e=>e.modalSlice.isOpenObligation),r=_(e=>e.modalSlice.currentId),s=_(e=>e.borrowersPersonalData.obligationModal),t=s[r-1]!==void 0?s[r-1]:void 0,m=()=>{l(D())},h=!s.some(e=>e.id===r)?Y(s):r,p={obligation:(t==null?void 0:t.obligation)||"",bank:(t==null?void 0:t.bank)||"",monthlyPaymentForAnotherBank:(t==null?void 0:t.monthlyPaymentForAnotherBank)||null,endDate:(t==null?void 0:t.endDate)||new Date().getTime(),noIncome:(t==null?void 0:t.noIncome)||new Date().getTime()},x=g().shape({obligation:g().required(o("error_select_one_of_the_options")),bank:g().when("obligation",{is:e=>e!=null&&e!==""&&e==="no",then:e=>e.required(o("error_select_bank")),otherwise:e=>e.notRequired()}),monthlyPaymentForAnotherBank:y().when("obligation",{is:e=>e!=null&&e!==""&&e==="no",then:e=>e.required(o("error_fill_field")),otherwise:e=>e.notRequired()}),endDate:d().required(o("error_date"))});return n.jsx(T,{isVisible:i,onCancel:m,title:`${o("obligation")} ${h+1}`,children:n.jsx(F,{initialValues:p,validationSchema:x,validateOnMount:!0,onSubmit:e=>{l(dn({id:h,...e})),m()},children:n.jsx($,{children:n.jsx(qn,{})})})})},kn="_modal_1gdud_1",Mn="_container_1gdud_41",Cn="_component_1gdud_47",Fn="_buttons_1gdud_59",$n={modal:kn,"modal-item":"_modal-item_1gdud_18","modal-buttons":"_modal-buttons_1gdud_23",container:Mn,component:Cn,buttons:Fn},O=R.bind($n),Bn=()=>{const{t:o,i18n:c}=j();c.language=c.language.split("-")[0];const{handleSubmit:l,isValid:i,values:r}=C(),{mainSourceOfIncome:s}=r,t=z();return n.jsx(n.Fragment,{children:n.jsxs("div",{className:O("modal"),children:[n.jsxs("div",{className:O("container"),children:[n.jsx("div",{className:O("component"),children:n.jsx(L,{})}),M[s]&&M[s].map((m,b)=>n.jsx("div",{className:O("component"),children:m},b)),n.jsx(f,{})]}),n.jsx("div",{className:O("modal-buttons"),children:n.jsxs("div",{className:O("buttons"),children:[n.jsx(S,{variant:"modalBase",type:"submit",onClick:()=>t(D()),children:o("button_back")}),n.jsx(S,{type:"submit",isDisabled:!i,onClick:l,size:"full",children:o("button_next_save")})]})})]})})},Pn=()=>{const{t:o,i18n:c}=j();c.language=c.language.split("-")[0];const l=A(),i=_(e=>e.modalSlice.isOpenSourceOfIncome),r=_(e=>e.modalSlice.currentId),s=_(e=>e.borrowersPersonalData.sourceOfIncomeModal),t=s[r-1]!==void 0?s[r-1]:void 0,m=()=>{l(D())},h=!s.some(e=>e.id===r)?Y(s):r,p={mainSourceOfIncome:(t==null?void 0:t.mainSourceOfIncome)||"",monthlyIncome:(t==null?void 0:t.monthlyIncome)||null,startDate:(t==null?void 0:t.startDate)||new Date().getTime(),fieldOfActivity:(t==null?void 0:t.fieldOfActivity)||"",profession:(t==null?void 0:t.profession)||"",companyName:(t==null?void 0:t.companyName)||"",amountIncomeCurrentYear:(t==null?void 0:t.amountIncomeCurrentYear)||null},x=g().shape({mainSourceOfIncome:d().required(o("error_select_answer")),monthlyIncome:y().required(o("error_fill_field")),startDate:d().required(o("error_date")),fieldOfActivity:d().when("mainSourceOfIncome",{is:e=>e!=null&&e!=="",then:e=>e.required(o("error_select_field_of_activity")),otherwise:e=>e.notRequired()}),profession:d().required(o("error_fill_field")),companyName:d().required(o("error_fill_field"))});return n.jsx(T,{isVisible:i,onCancel:m,title:`${o("source_of_income")} ${h+1}`,children:n.jsx(F,{initialValues:p,validationSchema:x,validateOnMount:!0,onSubmit:e=>{l(mn({id:h,...e})),m()},children:n.jsx($,{children:n.jsx(Bn,{})})})})},En=()=>{const{t:o,i18n:c}=j();c.language=c.language.split("-")[0];const{values:l}=C(),{mainSourceOfIncome:i,additionalIncome:r,obligation:s}=l,t=A(),m=_(a=>a.borrowersPersonalData.sourceOfIncomeModal),b=_(a=>a.borrowersPersonalData.additionalIncomeModal),h=_(a=>a.borrowersPersonalData.obligationModal),p=()=>{t(N(l)),t(on())},x=()=>{t(N(l)),t(en())},e=()=>{t(N(l)),t(tn())},Q=a=>{t(un({id:a}))},W=a=>{t(_n({id:a}))},X=a=>{t(hn({id:a}))},Z=a=>{t(an(a))},v=a=>{t(sn(a))},V=a=>{t(rn(a))};return n.jsxs(bn,{children:[n.jsx(fn,{title:o("borrowers_personal_data_title")}),n.jsxs(I,{children:[n.jsx(L,{}),M[i]&&M[i].map((a,B)=>n.jsx(U.Fragment,{children:a},B)),n.jsx(f,{})]}),n.jsx(I,{children:i&&n.jsxs(f,{children:[m.map(a=>n.jsx(P,{onEdit:()=>Z(a.id),onDelete:()=>Q(a.id),enableEdit:!0,name:`${o("source_of_income")}${a.id+1}`},a.id)),n.jsx(E,{onClick:p,color:"#FBE54D",value:o("add_place_to_work"),variant:"none"})]})}),n.jsx(G,{}),n.jsxs(I,{children:[n.jsx(H,{}),r&&r!=="option_1"&&n.jsx(J,{}),n.jsx(f,{})]}),r&&r!=="option_1"&&n.jsx(I,{children:n.jsxs(f,{children:[b.map(a=>n.jsx(P,{onEdit:()=>v(a.id),onDelete:()=>W(a.id),enableEdit:!0,name:`${o("additional_source_of_income")}${a.id+1}`},a.id)),n.jsx(E,{onClick:x,color:"#FBE54D",value:o("add_additional_source_of_income"),variant:"none"})]})}),n.jsx(G,{}),n.jsxs(I,{children:[n.jsx(K,{}),k[s]&&k[s].map((a,B)=>n.jsx(U.Fragment,{children:a},B)),n.jsx(f,{})]}),s&&s!=="option_1"&&n.jsx(I,{children:n.jsxs(f,{children:[h.map(a=>n.jsx(P,{onEdit:()=>V(a.id),onDelete:()=>X(a.id),enableEdit:!0,name:`${o("obligation")}${a.id+1}`},a.id)),n.jsx(E,{onClick:e,color:"#FBE54D",value:o("add_obligation"),variant:"none"})]})})]})},Rn=g().shape({mainSourceOfIncome:d().required(u.t("error_select_answer")),monthlyIncome:y().required(u.t("error_fill_field")),startDate:d().required(u.t("error_date")),fieldOfActivity:g().when("mainSourceOfIncome",{is:o=>o!=null&&o!=="",then:o=>o.required(u.t("error_select_field_of_activity")),otherwise:o=>o.notRequired()}),profession:d().required(u.t("error_fill_field")),companyName:d().required(u.t("error_fill_field")),additionalIncome:d().required(u.t("error_select_one_of_the_options")),additionalIncomeAmount:y().when("additionalIncome",{is:o=>o!=null&&o!==""&&o==="no",then:o=>o.required(u.t("error_fill_field")),otherwise:o=>o.notRequired()}),obligation:d().required(u.t("error_select_one_of_the_options")),bank:d().when("obligation",{is:o=>o!=null&&o!==""&&o==="no",then:o=>o.required(u.t("error_select_bank")),otherwise:o=>o.notRequired()}),monthlyPaymentForAnotherBank:y().when("obligation",{is:o=>o!=null&&o!==""&&o==="no",then:o=>o.required(u.t("error_fill_field")),otherwise:o=>o.notRequired()}),endDate:d().required(u.t("error_date"))}),Hn=()=>{const o=A(),c=nn(),l=_(s=>s.borrowersPersonalData.borrowersPersonalData),i=l!==void 0?l:void 0,r={mainSourceOfIncome:(i==null?void 0:i.mainSourceOfIncome)||"",monthlyIncome:(i==null?void 0:i.monthlyIncome)||null,startDate:(i==null?void 0:i.startDate)||new Date().getTime(),fieldOfActivity:(i==null?void 0:i.fieldOfActivity)||"",profession:(i==null?void 0:i.profession)||"",companyName:(i==null?void 0:i.companyName)||"",additionalIncome:(i==null?void 0:i.additionalIncome)||"",additionalIncomeAmount:(i==null?void 0:i.additionalIncomeAmount)||null,obligation:(i==null?void 0:i.obligation)||"",bank:(i==null?void 0:i.bank)||"",monthlyPaymentForAnotherBank:(i==null?void 0:i.monthlyPaymentForAnotherBank)||null,endDate:(i==null?void 0:i.endDate)||new Date().getTime(),amountIncomeCurrentYear:(i==null?void 0:i.amountIncomeCurrentYear)||null};return n.jsxs(n.Fragment,{children:[n.jsx(F,{initialValues:r,validationSchema:Rn,validateOnMount:!0,onSubmit:s=>{o(N(s)),c("/services/calculate-mortgage/2")},children:n.jsxs($,{children:[n.jsx(cn,{children:n.jsx(En,{})}),n.jsx(pn,{})]})}),n.jsx(Pn,{}),n.jsx(On,{}),n.jsx(Nn,{})]})};export{Hn as default};
