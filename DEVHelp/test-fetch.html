<!DOCTYPE html>
<html>
<head>
    <title>Test Fetch</title>
</head>
<body>
    <h1>Testing YouTrack Files Access</h1>
    <div id="results"></div>
    
    <script>
        async function testFetch() {
            const results = document.getElementById('results');
            
            // Test direct fetch
            try {
                console.log('Testing fetch for youtrackReports/youTrackReports.json');
                const response = await fetch('./youtrackReports/youTrackReports.json');
                console.log('Response status:', response.status);
                console.log('Response ok:', response.ok);
                
                if (response.ok) {
                    const data = await response.json();
                    results.innerHTML = '<h2 style="color: green">✅ SUCCESS! File loaded correctly</h2>';
                    results.innerHTML += `<p>Loaded ${Object.keys(data.reports || {}).length} reports</p>`;
                } else {
                    results.innerHTML = `<h2 style="color: red">❌ ERROR: HTTP ${response.status}</h2>`;
                }
            } catch (error) {
                console.error('Fetch error:', error);
                results.innerHTML = `<h2 style="color: red">❌ ERROR: ${error.message}</h2>`;
                results.innerHTML += '<p>Check browser console for details</p>';
            }
            
            // Test all files
            const files = [
                'youtrackReports/youTrackReports.json',
                'youtrackReports/youTrackReports_136-200.json',
                'youtrackReports/youTrackReports_200-300.json',
                'youtrackReports/youTrackReports_300-400.json',
                'youtrackReports/youTrackReports_400-500.json',
                'youtrackReports/youTrackReports_500-600.json',
                'youtrackReports/youTrackReports_600-628.json',
                'youtrackReports/youTrackReports_LK.json'
            ];
            
            results.innerHTML += '<h3>File Access Test:</h3>';
            for (const file of files) {
                try {
                    const resp = await fetch(`./${file}`);
                    const status = resp.ok ? '✅' : '❌';
                    results.innerHTML += `<p>${status} ${file}</p>`;
                } catch (e) {
                    results.innerHTML += `<p>❌ ${file} - ${e.message}</p>`;
                }
            }
        }
        
        testFetch();
    </script>
</body>
</html>