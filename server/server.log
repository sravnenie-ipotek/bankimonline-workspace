🔧 Database Config - Environment: development, Railway: not set
🛠️ Development environment detected - using Railway PostgreSQL
🔧 Database Config - Environment: development, Railway: not set
🛠️ Development environment detected - using Railway PostgreSQL
🔒 CORS Configuration:
📝 CORS_ALLOWED_ORIGINS env var: Not set
🌐 Resolved CORS origins: [
  'http://localhost:3001',
  'http://localhost:3000',
  'http://localhost:5173',
  'http://localhost:5174',
  'http://localhost:5175',
  'http://localhost:8003',
  'https://bankdev2standalone-production.up.railway.app',
  'https://bankim-nodejs-api-production.up.railway.app'
]
🚀 Database API Server Started
📡 http://localhost:8003
📧 Email login: POST /api/login
📧 Email 2FA: POST /api/email-code-login
📱 SMS login: POST /api/sms-login & /api/sms-code-login
👤 Registration: POST /api/register
🏙️ Cities: GET /api/get-cities?lang=xx
🏠 Refinance mortgage: POST /api/refinance-mortgage
💳 Refinance credit: POST /api/refinance-credit
🔐 Admin login: POST /api/admin/login
📊 Admin stats: GET /api/admin/stats
🏦 Admin banks: GET /api/admin/banks
🏪 Compare banks: POST /api/customer/compare-banks
📝 Submit application: POST /api/customer/submit-application
📋 Check status: GET /api/applications/:id/status
🔧 Admin applications: GET /api/admin/applications
📊 Admin app details: GET /api/admin/applications/:id
✏️ Update app status: PUT /api/admin/applications/:id/status

🏢 PHASE 2: Bank Worker Registration System
📨 Send invitation: POST /api/bank-worker/invite
📝 Get registration form: GET /api/bank-worker/register/:token
✅ Complete registration: POST /api/bank-worker/register
📊 Check status: GET /api/bank-worker/status/:id
📋 Admin invitations: GET /api/admin/invitations
⏳ Admin approval queue: GET /api/admin/approval-queue
✅ Approve worker: POST /api/admin/approve/:id
❌ Reject worker: POST /api/admin/reject/:id

✅ Main Database connected: 2025-08-07T08:46:56.646Z
✅ Content Database connected: 2025-08-07T08:46:56.764Z
✅ test-content table deleted successfully (if it existed)
[SMS] Verify 1234 for 972544123456
[0mPOST /api/auth-verify [32m200[0m 1391.500 ms - 354[0m
⚡ Cache MISS for content_validation_errors_he_all - querying database
⚡ Cache MISS for content_validation_errors_he_all - querying database
⚡ Cache MISS for content_validation_errors_he_all - querying database
⚡ Cache MISS for content_calculate_credit_1_he_all - querying database
[0mGET /api/content/validation_errors/he [32m200[0m 963.451 ms - 7203[0m
[0mGET /api/content/validation_errors/he [32m200[0m 964.608 ms - 7203[0m
[CITIES] Request for language: he
[0mGET /api/content/validation_errors/he [32m200[0m 994.769 ms - 7203[0m
⚡ Cache MISS for content_sms_code_verification_he_all - querying database
[0mGET /api/content/sms_code_verification/he [32m200[0m 153.249 ms - 852[0m
✅ Cache HIT for content_sms_code_verification_he_all
[0mGET /api/content/sms_code_verification/he [32m200[0m 0.831 ms - 851[0m
[CALC-PARAMS] banking_standards table not found, using default fallback values
[0mGET /api/content/calculate_credit_1/he [32m200[0m 987.692 ms - 126[0m
✅ Cache HIT for content_calculate_credit_1_he_all
[0mGET /api/content/calculate_credit_1/he [32m200[0m 0.644 ms - 125[0m
[CITIES] Request for language: he
Error fetching cities from database: error: relation "cities" does not exist
    at /Users/michaelmishayev/Projects/bankDev2_standalone/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/michaelmishayev/Projects/bankDev2_standalone/server/server-db.js:2558:24 {
  length: 105,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '47',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1449',
  routine: 'parserOpenTable'
}
🔄 Using i18n fallback cities data due to database connection issue
[0mGET /api/get-cities?lang=he [32m200[0m 1094.957 ms - 1091[0m
[CALC-PARAMS] banking_standards table not found, using default fallback values
[CALC-PARAMS] banking_standards table not found, using default fallback values
Error fetching cities from database: error: relation "cities" does not exist
    at /Users/michaelmishayev/Projects/bankDev2_standalone/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/michaelmishayev/Projects/bankDev2_standalone/server/server-db.js:2558:24 {
  length: 105,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '47',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1449',
  routine: 'parserOpenTable'
}
🔄 Using i18n fallback cities data due to database connection issue
[0mGET /api/get-cities?lang=he [32m200[0m 1279.283 ms - 1091[0m
✅ Cache HIT for content_sms_code_verification_he_all
[0mGET /api/content/sms_code_verification/he [32m200[0m 0.541 ms - 851[0m
✅ Cache HIT for content_sms_code_verification_he_all
[0mGET /api/content/sms_code_verification/he [32m200[0m 0.510 ms - 851[0m
⚡ Cache MISS for content_mortgage_step2_he_all - querying database
Property ownership options table not found, using fallback values
[0mGET /api/v1/calculation-parameters?business_path=credit [32m200[0m 2393.450 ms - 1302[0m
⚡ Cache MISS for content_mortgage_step2_he_all - querying database
[0mGET /api/content/mortgage_step2/he [32m200[0m 245.208 ms - 17450[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 1.367 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.689 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.456 ms - 17449[0m
⚡ Cache MISS for content_calculate_credit_2_he_all - querying database
[0mGET /api/content/mortgage_step2/he [32m200[0m 186.010 ms - 17450[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.391 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.420 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.332 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.309 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.322 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.386 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.285 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.293 ms - 17449[0m
⚡ Dropdown cache MISS for dropdowns_mortgage_step2_he - querying database
🔍 Executing query for screen: mortgage_step2, language: he
[0mGET /api/content/calculate_credit_2/he [32m200[0m 125.539 ms - 126[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.409 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.434 ms - 17449[0m
⚡ Dropdown cache MISS for dropdowns_mortgage_step2_he - querying database
🔍 Executing query for screen: mortgage_step2, language: he
📊 Query returned 73 rows
📊 Processing 73 rows for mortgage_step2/he
🔍 Processing: app.mortgage.step2.birth_date (label)
🔍 Processing: app.mortgage.step2.borrowers_count (label)
🔍 Processing: app.mortgage.step2.borrowers_placeholder (placeholder)
🔍 Processing: app.mortgage.step2.children_count (label)
🔍 Processing: app.mortgage.step2.children_under_18 (label)
🔍 Processing: app.mortgage.step2.citizenship (label)
🔍 Processing: app.mortgage.step2.citizenship_ph (placeholder)
🔍 Processing: app.mortgage.step2.education (label)
🔍 Processing: app.mortgage.step2.education_ph (placeholder)
🔍 Processing: app.mortgage.step2.family_status (label)
🔍 Processing: app.mortgage.step2.family_status_ph (placeholder)
🔍 Processing: app.mortgage.step2.foreign_resident (label)
🔍 Processing: app.mortgage.step2.medical_insurance (label)
🔍 Processing: app.mortgage.step2.name_surname (label)
🔍 Processing: app.mortgage.step2.name_surname_ph (placeholder)
🔍 Processing: app.mortgage.step2.partner_mortgage_participation (label)
🔍 Processing: app.mortgage.step2.public_person (label)
🔍 Processing: app.mortgage.step2.search (placeholder)
🔍 Processing: app.mortgage.step2.tax_obligations (label)
🔍 Processing: calculate_mortgage_citizenship_canada (option)
🔍 Processing: calculate_mortgage_citizenship_france (option)
🔍 Processing: calculate_mortgage_citizenship_germany (option)
🔍 Processing: calculate_mortgage_citizenship_israel (option)
🔍 Processing: calculate_mortgage_citizenship_other (option)
🔍 Processing: calculate_mortgage_citizenship_russia (option)
🔍 Processing: calculate_mortgage_citizenship_ukraine (option)
🔍 Processing: calculate_mortgage_citizenship_united_kingdom (option)
🔍 Processing: calculate_mortgage_citizenship_united_states (option)
🔍 Processing: mortgage_calculation.field.citizenship_ph (placeholder)
🔍 Processing: mortgage_calculation.field.education_ph (placeholder)
🔍 Processing: mortgage_calculation.field.family_status_ph (placeholder)
🔍 Processing: mortgage_calculation.field.name_surname_ph (placeholder)
🔍 Processing: mortgage_step2_education (label)
🔍 Processing: mortgage_step2_education_ph (placeholder)
🔍 Processing: mortgage_step2.field.birth_date (dropdown_container)
🔍 Processing: mortgage_step2.field.borrowers (dropdown_container)
🔍 Processing: mortgage_step2.field.children18 (dropdown_container)
🔍 Processing: mortgage_step2.field.citizenship (dropdown_container)
🔍 Processing: mortgage_step2.field.citizenship_canada (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_france (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_germany (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_israel (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_other (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_ph (placeholder)
🔍 Processing: mortgage_step2.field.citizenship_russia (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_ukraine (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_united_kingdom (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_united_states (dropdown_option)
🔍 Processing: mortgage_step2.field.education (dropdown_container)
🔍 Processing: mortgage_step2.field.education_bachelors (dropdown_option)
🔍 Processing: mortgage_step2.field.education_doctorate (dropdown_option)
🔍 Processing: mortgage_step2.field.education_full_high_school_diploma (dropdown_option)
🔍 Processing: mortgage_step2.field.education_masters (dropdown_option)
🔍 Processing: mortgage_step2.field.education_no_high_school_diploma (dropdown_option)
🔍 Processing: mortgage_step2.field.education_partial_high_school_diploma (dropdown_option)
🔍 Processing: mortgage_step2.field.education_ph (placeholder)
🔍 Processing: mortgage_step2.field.education_postsecondary_education (dropdown_option)
🔍 Processing: mortgage_step2.field.family_status (dropdown_container)
🔍 Processing: mortgage_step2.field.family_status_commonlaw_partner (dropdown_option)
🔍 Processing: mortgage_step2.field.family_status_divorced (dropdown_option)
🔍 Processing: mortgage_step2.field.family_status_married (dropdown_option)
🔍 Processing: mortgage_step2.field.family_status_other (dropdown_option)
🔍 Processing: mortgage_step2.field.family_status_ph (placeholder)
🔍 Processing: mortgage_step2.field.family_status_single (dropdown_option)
🔍 Processing: mortgage_step2.field.family_status_widowed (dropdown_option)
🔍 Processing: mortgage_step2.field.how_much_childrens (dropdown_container)
🔍 Processing: mortgage_step2.field.is_foreigner (dropdown_container)
🔍 Processing: mortgage_step2.field.is_medinsurance (dropdown_container)
🔍 Processing: mortgage_step2.field.is_public (dropdown_container)
🔍 Processing: mortgage_step2.field.name_surname (dropdown_container)
🔍 Processing: mortgage_step2.field.name_surname_ph (placeholder)
🔍 Processing: mortgage_step2.field.partner_pay_mortgage (dropdown_container)
🔍 Processing: mortgage_step2.field.tax (dropdown_container)
[0mGET /api/dropdowns/mortgage_step2/he [32m200[0m 184.316 ms - 8322[0m
✅ Cache HIT for content_calculate_credit_2_he_all
[0mGET /api/content/calculate_credit_2/he [32m200[0m 0.482 ms - 125[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.337 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.502 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.489 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.386 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.355 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.375 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.329 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.354 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.321 ms - 17449[0m
[CALC-PARAMS] banking_standards table not found, using default fallback values
📊 Query returned 73 rows
📊 Processing 73 rows for mortgage_step2/he
🔍 Processing: app.mortgage.step2.birth_date (label)
🔍 Processing: app.mortgage.step2.borrowers_count (label)
🔍 Processing: app.mortgage.step2.borrowers_placeholder (placeholder)
🔍 Processing: app.mortgage.step2.children_count (label)
🔍 Processing: app.mortgage.step2.children_under_18 (label)
🔍 Processing: app.mortgage.step2.citizenship (label)
🔍 Processing: app.mortgage.step2.citizenship_ph (placeholder)
🔍 Processing: app.mortgage.step2.education (label)
🔍 Processing: app.mortgage.step2.education_ph (placeholder)
🔍 Processing: app.mortgage.step2.family_status (label)
🔍 Processing: app.mortgage.step2.family_status_ph (placeholder)
🔍 Processing: app.mortgage.step2.foreign_resident (label)
🔍 Processing: app.mortgage.step2.medical_insurance (label)
🔍 Processing: app.mortgage.step2.name_surname (label)
🔍 Processing: app.mortgage.step2.name_surname_ph (placeholder)
🔍 Processing: app.mortgage.step2.partner_mortgage_participation (label)
🔍 Processing: app.mortgage.step2.public_person (label)
🔍 Processing: app.mortgage.step2.search (placeholder)
🔍 Processing: app.mortgage.step2.tax_obligations (label)
🔍 Processing: calculate_mortgage_citizenship_canada (option)
🔍 Processing: calculate_mortgage_citizenship_france (option)
🔍 Processing: calculate_mortgage_citizenship_germany (option)
🔍 Processing: calculate_mortgage_citizenship_israel (option)
🔍 Processing: calculate_mortgage_citizenship_other (option)
🔍 Processing: calculate_mortgage_citizenship_russia (option)
🔍 Processing: calculate_mortgage_citizenship_ukraine (option)
🔍 Processing: calculate_mortgage_citizenship_united_kingdom (option)
🔍 Processing: calculate_mortgage_citizenship_united_states (option)
🔍 Processing: mortgage_calculation.field.citizenship_ph (placeholder)
🔍 Processing: mortgage_calculation.field.education_ph (placeholder)
🔍 Processing: mortgage_calculation.field.family_status_ph (placeholder)
🔍 Processing: mortgage_calculation.field.name_surname_ph (placeholder)
🔍 Processing: mortgage_step2_education (label)
🔍 Processing: mortgage_step2_education_ph (placeholder)
🔍 Processing: mortgage_step2.field.birth_date (dropdown_container)
🔍 Processing: mortgage_step2.field.borrowers (dropdown_container)
🔍 Processing: mortgage_step2.field.children18 (dropdown_container)
🔍 Processing: mortgage_step2.field.citizenship (dropdown_container)
🔍 Processing: mortgage_step2.field.citizenship_canada (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_france (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_germany (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_israel (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_other (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_ph (placeholder)
🔍 Processing: mortgage_step2.field.citizenship_russia (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_ukraine (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_united_kingdom (dropdown_option)
🔍 Processing: mortgage_step2.field.citizenship_united_states (dropdown_option)
🔍 Processing: mortgage_step2.field.education (dropdown_container)
🔍 Processing: mortgage_step2.field.education_bachelors (dropdown_option)
🔍 Processing: mortgage_step2.field.education_doctorate (dropdown_option)
🔍 Processing: mortgage_step2.field.education_full_high_school_diploma (dropdown_option)
🔍 Processing: mortgage_step2.field.education_masters (dropdown_option)
🔍 Processing: mortgage_step2.field.education_no_high_school_diploma (dropdown_option)
🔍 Processing: mortgage_step2.field.education_partial_high_school_diploma (dropdown_option)
🔍 Processing: mortgage_step2.field.education_ph (placeholder)
🔍 Processing: mortgage_step2.field.education_postsecondary_education (dropdown_option)
🔍 Processing: mortgage_step2.field.family_status (dropdown_container)
🔍 Processing: mortgage_step2.field.family_status_commonlaw_partner (dropdown_option)
🔍 Processing: mortgage_step2.field.family_status_divorced (dropdown_option)
🔍 Processing: mortgage_step2.field.family_status_married (dropdown_option)
🔍 Processing: mortgage_step2.field.family_status_other (dropdown_option)
🔍 Processing: mortgage_step2.field.family_status_ph (placeholder)
🔍 Processing: mortgage_step2.field.family_status_single (dropdown_option)
🔍 Processing: mortgage_step2.field.family_status_widowed (dropdown_option)
🔍 Processing: mortgage_step2.field.how_much_childrens (dropdown_container)
🔍 Processing: mortgage_step2.field.is_foreigner (dropdown_container)
🔍 Processing: mortgage_step2.field.is_medinsurance (dropdown_container)
🔍 Processing: mortgage_step2.field.is_public (dropdown_container)
🔍 Processing: mortgage_step2.field.name_surname (dropdown_container)
🔍 Processing: mortgage_step2.field.name_surname_ph (placeholder)
🔍 Processing: mortgage_step2.field.partner_pay_mortgage (dropdown_container)
🔍 Processing: mortgage_step2.field.tax (dropdown_container)
[0mGET /api/dropdowns/mortgage_step2/he [32m200[0m 144.203 ms - 8322[0m
Property ownership options table not found, using fallback values
[0mGET /api/v1/calculation-parameters?business_path=mortgage [32m200[0m 2518.710 ms - 1304[0m
Property ownership options table not found, using fallback values
[0mGET /api/v1/calculation-parameters?business_path=credit [32m200[0m 2535.556 ms - 1302[0m
Property ownership options table not found, using fallback values
[0mGET /api/v1/calculation-parameters?business_path=mortgage [32m200[0m 2555.415 ms - 1304[0m
✅ Cache HIT for content_validation_errors_he_all
[0mGET /api/content/validation_errors/he [32m200[0m 0.405 ms - 7202[0m
✅ Cache HIT for content_validation_errors_he_all
[0mGET /api/content/validation_errors/he [32m200[0m 0.468 ms - 7202[0m
✅ Cache HIT for content_validation_errors_he_all
[0mGET /api/content/validation_errors/he [32m200[0m 0.277 ms - 7202[0m
✅ Cache HIT for content_sms_code_verification_he_all
[0mGET /api/content/sms_code_verification/he [32m200[0m 0.238 ms - 851[0m
✅ Cache HIT for content_sms_code_verification_he_all
[0mGET /api/content/sms_code_verification/he [32m200[0m 0.375 ms - 851[0m
✅ Cache HIT for content_calculate_credit_1_he_all
[0mGET /api/content/calculate_credit_1/he [32m200[0m 0.343 ms - 125[0m
[CITIES] Request for language: he
[CITIES] Request for language: he
✅ Cache HIT for content_calculate_credit_1_he_all
[0mGET /api/content/calculate_credit_1/he [32m200[0m 0.209 ms - 125[0m
[CALC-PARAMS] banking_standards table not found, using default fallback values
[CALC-PARAMS] banking_standards table not found, using default fallback values
Error fetching cities from database: error: relation "cities" does not exist
    at /Users/michaelmishayev/Projects/bankDev2_standalone/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/michaelmishayev/Projects/bankDev2_standalone/server/server-db.js:2558:24 {
  length: 105,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '47',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1449',
  routine: 'parserOpenTable'
}
🔄 Using i18n fallback cities data due to database connection issue
[0mGET /api/get-cities?lang=he [32m200[0m 1122.947 ms - 1091[0m
[CALC-PARAMS] banking_standards table not found, using default fallback values
✅ Cache HIT for content_sms_code_verification_he_all
[0mGET /api/content/sms_code_verification/he [32m200[0m 0.476 ms - 851[0m
✅ Cache HIT for content_sms_code_verification_he_all
[0mGET /api/content/sms_code_verification/he [32m200[0m 0.445 ms - 851[0m
[CALC-PARAMS] banking_standards table not found, using default fallback values
Error fetching cities from database: error: relation "cities" does not exist
    at /Users/michaelmishayev/Projects/bankDev2_standalone/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async /Users/michaelmishayev/Projects/bankDev2_standalone/server/server-db.js:2558:24 {
  length: 105,
  severity: 'ERROR',
  code: '42P01',
  detail: undefined,
  hint: undefined,
  position: '47',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'parse_relation.c',
  line: '1449',
  routine: 'parserOpenTable'
}
🔄 Using i18n fallback cities data due to database connection issue
[0mGET /api/get-cities?lang=he [32m200[0m 1219.816 ms - 1091[0m
Property ownership options table not found, using fallback values
[0mGET /api/v1/calculation-parameters?business_path=mortgage [32m200[0m 2244.816 ms - 1304[0m
Property ownership options table not found, using fallback values
[0mGET /api/v1/calculation-parameters?business_path=credit [32m200[0m 2342.533 ms - 1302[0m
Property ownership options table not found, using fallback values
[0mGET /api/v1/calculation-parameters?business_path=mortgage [32m200[0m 2342.603 ms - 1304[0m
Property ownership options table not found, using fallback values
[0mGET /api/v1/calculation-parameters?business_path=credit [32m200[0m 2358.504 ms - 1302[0m
⚡ Cache MISS for content_sms_verification_he_all - querying database
⚡ Cache MISS for content_sms_verification_he_all - querying database
[0mGET /api/content/sms_verification/he [32m200[0m 1131.576 ms - 1913[0m
[0mGET /api/content/sms_verification/he [32m200[0m 1134.267 ms - 1913[0m
✅ Cache HIT for content_sms_code_verification_he_all
[0mGET /api/content/sms_code_verification/he [32m200[0m 0.365 ms - 851[0m
✅ Cache HIT for content_sms_code_verification_he_all
[0mGET /api/content/sms_code_verification/he [32m200[0m 0.191 ms - 851[0m
✅ Cache HIT for content_sms_code_verification_he_all
[0mGET /api/content/sms_code_verification/he [32m200[0m 0.354 ms - 851[0m
✅ Cache HIT for content_sms_code_verification_he_all
[0mGET /api/content/sms_code_verification/he [32m200[0m 0.381 ms - 851[0m
[SMS] Verify 1111 for +972345565334
[SMS] Verify 1111 for +972345565334
[0mPOST /api/auth-verify [32m200[0m 1405.138 ms - 356[0m
[SMS] Race condition detected for +972345565334, fetching existing client
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 1.501 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 1.790 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 2.239 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 1.327 ms - 17449[0m
✅ Dropdown cache HIT for dropdowns_mortgage_step2_he
[0mGET /api/dropdowns/mortgage_step2/he [32m200[0m 0.780 ms - 8321[0m
✅ Dropdown cache HIT for dropdowns_mortgage_step2_he
[0mGET /api/dropdowns/mortgage_step2/he [32m200[0m 0.756 ms - 8321[0m
✅ Cache HIT for content_calculate_credit_2_he_all
[0mGET /api/content/calculate_credit_2/he [32m200[0m 0.435 ms - 125[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.403 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.286 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.307 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.513 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.368 ms - 17449[0m
✅ Dropdown cache HIT for dropdowns_mortgage_step2_he
[0mGET /api/dropdowns/mortgage_step2/he [32m200[0m 0.340 ms - 8321[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.263 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.267 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.388 ms - 17449[0m
✅ Dropdown cache HIT for dropdowns_mortgage_step2_he
[0mGET /api/dropdowns/mortgage_step2/he [32m200[0m 0.220 ms - 8321[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.297 ms - 17449[0m
✅ Cache HIT for content_calculate_credit_2_he_all
[0mGET /api/content/calculate_credit_2/he [32m200[0m 0.100 ms - 125[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.195 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.313 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.218 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.339 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.203 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.380 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.383 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.268 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.440 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.536 ms - 17449[0m
✅ Cache HIT for content_mortgage_step2_he_all
[0mGET /api/content/mortgage_step2/he [32m200[0m 0.196 ms - 17449[0m
[0mPOST /api/auth-verify [32m200[0m 1514.319 ms - 356[0m
