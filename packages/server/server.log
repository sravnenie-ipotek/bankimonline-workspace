🔧 Database Config - Environment: development, Railway: not set
🛠️ Development environment detected - using Railway PostgreSQL
🧩 DB target (main): postgresql://***:***@maglev.proxy.rlwy.net:43809/railway | SSL: on
🔧 Database Config - Environment: development, Railway: not set
🛠️ Development environment detected - using Railway PostgreSQL
🧩 DB target (content): postgresql://***:***@shortline.proxy.rlwy.net:33452/railway | SSL: on
🌐 CORS_ALLOWED_ORIGINS=* detected - allowing all origins
🔒 CORS Configuration:
📝 CORS_ALLOWED_ORIGINS env var: *
🌐 Resolved CORS origins: true
✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅
✅                                                 ✅
✅    🚀  MODERN MODE - PACKAGES SERVER  🚀      ✅
✅                                                 ✅
✅    Using: packages/server/src/server.js       ✅
✅    Status: ✅ PRODUCTION READY                ✅
✅                                                 ✅
✅    Architecture: Modular Workspace Package     ✅
✅                                                 ✅
✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅✅
🚀 Database API Server Started
📡 http://localhost:8003
📧 Email login: POST /api/login
📧 Email 2FA: POST /api/email-code-login
📱 SMS login: POST /api/sms-login & /api/sms-code-login
👤 Registration: POST /api/register
🏙️ Cities: GET /api/get-cities?lang=xx
🏠 Refinance mortgage: POST /api/refinance-mortgage
💳 Refinance credit: POST /api/refinance-credit
🔐 Admin login: POST /api/admin/login
📊 Admin stats: GET /api/admin/stats
🏦 Admin banks: GET /api/admin/banks
🏪 Compare banks: POST /api/customer/compare-banks
📝 Submit application: POST /api/customer/submit-application
📋 Check status: GET /api/applications/:id/status
🔧 Admin applications: GET /api/admin/applications
📊 Admin app details: GET /api/admin/applications/:id
✏️ Update app status: PUT /api/admin/applications/:id/status

🏢 PHASE 2: Bank Worker Registration System
📨 Send invitation: POST /api/bank-worker/invite
📝 Get registration form: GET /api/bank-worker/register/:token
✅ Complete registration: POST /api/bank-worker/register
📊 Check status: GET /api/bank-worker/status/:id
📋 Admin invitations: GET /api/admin/invitations
⏳ Admin approval queue: GET /api/admin/approval-queue
✅ Approve worker: POST /api/admin/approve/:id
❌ Reject worker: POST /api/admin/reject/:id

✅ Main Database connected: 2025-08-15T09:27:02.340Z
✅ Content Database connected: 2025-08-15T09:27:02.501Z
✅ test-content table deleted successfully (if it existed)
⚡ Dropdown cache MISS for dropdowns_other_borrowers_step2_he - querying database
🔍 Executing query for screen: other_borrowers_step2, language: he
📊 Query returned 63 rows
📊 Processing 63 rows for other_borrowers_step2/he
🔍 Processing: app.other_borrowers.step2.source_of_income_label (label)
🔍 Processing: other_borrowers_obligation_placeholder (placeholder)
🔍 Processing: other_borrowers_step2_additional_income_label (label)
🔍 Processing: other_borrowers_step2_additional_income_ph (placeholder)
🔍 Processing: other_borrowers_step2.field.additional_income_0_no_additional_income (dropdown_option)
🔍 Processing: other_borrowers_step2.field.additional_income_additional_salary (dropdown_option)
🔍 Processing: other_borrowers_step2.field.additional_income_additional_work (dropdown_option)
🔍 Processing: other_borrowers_step2.field.additional_income_investment (dropdown_option)
🔍 Processing: other_borrowers_step2.field.additional_income_other (dropdown_option)
🔍 Processing: other_borrowers_step2.field.additional_income_pension (dropdown_option)
🔍 Processing: other_borrowers_step2.field.additional_income_property_rental_income (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_agriculture (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_construction (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_consulting (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_education (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_entertainment (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_finance (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_government (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_healthcare (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_label (label)
🔍 Processing: other_borrowers_step2.field.field_of_activity_manufacturing (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_other (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_ph (placeholder)
🔍 Processing: other_borrowers_step2.field.field_of_activity_real_estate (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_retail (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_technology (dropdown_option)
🔍 Processing: other_borrowers_step2.field.field_of_activity_transport (dropdown_option)
🔍 Processing: other_borrowers_step2.field.main_source (dropdown_container)
🔍 Processing: other_borrowers_step2.field.main_source_employee (dropdown_option)
🔍 Processing: other_borrowers_step2.field.main_source_other (dropdown_option)
🔍 Processing: other_borrowers_step2.field.main_source_pension (dropdown_option)
🔍 Processing: other_borrowers_step2.field.main_source_placeholder (placeholder)
🔍 Processing: other_borrowers_step2.field.main_source_selfemployed (dropdown_option)
🔍 Processing: other_borrowers_step2.field.main_source_student (dropdown_option)
🔍 Processing: other_borrowers_step2.field.main_source_unemployed (dropdown_option)
🔍 Processing: other_borrowers_step2.field.main_source_unpaid_leave (dropdown_option)
🔍 Processing: other_borrowers_step2.field.obligations (dropdown_container)
🔍 Processing: other_borrowers_step2.field.obligations_bank_loan (dropdown_option)
🔍 Processing: other_borrowers_step2.field.obligations_consumer_credit (dropdown_option)
🔍 Processing: other_borrowers_step2.field.obligations_credit_card (dropdown_option)
🔍 Processing: other_borrowers_step2.field.obligations_no_obligations (dropdown_option)
🔍 Processing: other_borrowers_step2.field.obligations_placeholder (placeholder)
🔍 Processing: other_borrowers_step2.field.professional_sphere_agriculture (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_construction (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_consulting (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_education (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_entertainment (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_finance (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_government (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_healthcare (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_label (label)
🔍 Processing: other_borrowers_step2.field.professional_sphere_manufacturing (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_other (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_ph (placeholder)
🔍 Processing: other_borrowers_step2.field.professional_sphere_real_estate (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_retail (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_technology (dropdown_option)
🔍 Processing: other_borrowers_step2.field.professional_sphere_transport (dropdown_option)
🔍 Processing: other_borrowers_step2_obligations_option_1 (dropdown_option)
🔍 Processing: other_borrowers_step2_obligations_option_2 (dropdown_option)
🔍 Processing: other_borrowers_step2_obligations_option_3 (dropdown_option)
🔍 Processing: other_borrowers_step2_obligations_option_4 (dropdown_option)
🔍 Processing: other_borrowers_step2_obligations_option_5 (dropdown_option)
[0mGET /api/dropdowns/other_borrowers_step2/he [32m200[0m 104.341 ms - 4842[0m
