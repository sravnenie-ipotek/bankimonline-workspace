import{j as e}from"./ui-vendor-5a9cd79c.js";import{r as i}from"./react-vendor-19e41fc0.js";import{a as X,c as m,f as W,i as Y,F as Z,b as V,k as _}from"./form-vendor-429348f6.js";import{u as ee}from"./i18n-vendor-5cfd36a0.js";import"./utils-vendor-48989965.js";import"./state-vendor-2a767ce0.js";const se="_container_6vkhx_10",ne="_pageBackground_6vkhx_18",te="_signUpForm_6vkhx_29",ae="_titleSection_6vkhx_47",ie="_mainTitle_6vkhx_59",re="_subtitle_6vkhx_73",ce="_stepperNavigation_6vkhx_88",oe="_navigation_6vkhx_100",le="_navItemStepper_6vkhx_117",de="_shape_6vkhx_131",he="_stepNumber_6vkhx_147",_e="_stepText_6vkhx_160",xe="_inactive_6vkhx_173",me="_chevronRight_6vkhx_187",ke="_containerWithForms_6vkhx_196",pe="_firstRow_6vkhx_209",ue="_secondRow_6vkhx_209",ve="_thirdRow_6vkhx_209",be="_line_6vkhx_235",je="_inputField_6vkhx_244",we="_label_6vkhx_256",Ne="_input_6vkhx_244",ge="_content_6vkhx_288",fe="_inputText_6vkhx_302",Ce="_envelope_6vkhx_329",Te="_dropdown_6vkhx_338",Se="_selectedText_6vkhx_348",Ie="_chevronUp_6vkhx_364",Be="_dropdownMenu_6vkhx_373",Le="_dropdownMenuContainer_6vkhx_392",ye="_dropdownMenuContent_6vkhx_403",Fe="_searchSection_6vkhx_418",Me="_searchInputField_6vkhx_430",Re="_searchInput_6vkhx_430",$e="_searchContent_6vkhx_459",qe="_searchIcon_6vkhx_471",We="_searchInputText_6vkhx_479",Ee="_navLink_6vkhx_501",Ue="_title_6vkhx_47",De="_text_6vkhx_529",Ae="_check_6vkhx_542",He="_checkboxContainer_6vkhx_552",Oe="_checkboxRow_6vkhx_565",ze="_checkbox_6vkhx_552",Ge="_labelAndHelperText_6vkhx_588",Je="_checkboxLabel_6vkhx_600",Ke="_termsLink_6vkhx_616",Pe="_submitButton_6vkhx_621",Qe="_buttonText_6vkhx_645",Xe="_loginLink_6vkhx_659",Ye="_errorMessage_6vkhx_680",Ze="_demoNotice_6vkhx_697",Ve="_header_6vkhx_723",s={container:se,pageBackground:ne,signUpForm:te,titleSection:ae,mainTitle:ie,subtitle:re,stepperNavigation:ce,navigation:oe,navItemStepper:le,shape:de,stepNumber:he,stepText:_e,inactive:xe,chevronRight:me,containerWithForms:ke,firstRow:pe,secondRow:ue,thirdRow:ve,line:be,inputField:je,label:we,input:Ne,content:ge,inputText:fe,envelope:Ce,dropdown:Te,selectedText:Se,chevronUp:Ie,dropdownMenu:Be,dropdownMenuContainer:Le,dropdownMenuContent:ye,searchSection:Fe,searchInputField:Me,searchInput:Re,searchContent:$e,searchIcon:qe,searchInputText:We,navLink:Ee,title:Ue,text:De,check:Ae,checkboxContainer:He,checkboxRow:Oe,checkbox:ze,labelAndHelperText:Ge,checkboxLabel:Je,termsLink:Ke,submitButton:Pe,buttonText:Qe,loginLink:Xe,errorMessage:Ye,demoNotice:Ze,header:Ve},d=({name:n,errors:l,touched:x})=>e.jsx("div",{className:s.errorMessage,children:x[n]&&l[n]?l[n]:""}),ds=()=>{const{t:n,i18n:l}=ee();i.useState(1);const[x,k]=i.useState(!1),[es,E]=i.useState(!1),[g,f]=i.useState(""),[U,ss]=i.useState(""),[C,p]=i.useState([]),[T,u]=i.useState([]),[S,v]=i.useState([]),[b,I]=i.useState(!0),[ns,B]=i.useState(!1),[ts,L]=i.useState(!0),[h,D]=i.useState(null),[A,H]=i.useState(null),[y,O]=i.useState(null),[F,j]=i.useState(!1),[M,R]=i.useState(""),z=X({fullName:m().min(2,n("bank_worker_validation_name_min")).required(n("bank_worker_validation_name_required")),position:m().min(2,n("bank_worker_validation_position_min")).required(n("bank_worker_validation_position_required")),email:m().email(n("bank_worker_validation_email_invalid")).required(n("bank_worker_validation_email_required")),bankId:W().required(n("bank_worker_validation_bank_required")),branchId:W().required(n("bank_worker_validation_branch_required")),bankNumber:m().min(3,n("bank_worker_validation_bank_number_min")).required(n("bank_worker_validation_bank_number_required")),acceptTerms:Y().oneOf([!0],n("bank_worker_validation_terms_required")).required(n("bank_worker_validation_terms_required"))});i.useEffect(()=>{(async()=>{try{I(!0);const a=await(await fetch(`/api/banks/list?lang=${l.language}`)).json();a.status==="success"&&a.data?p(a.data):(console.error("Failed to fetch banks:",a.message||"Unknown error"),p([]))}catch(r){console.error("Error fetching banks:",r),p([])}finally{I(!1)}})()},[l.language]),i.useEffect(()=>{(async()=>{try{L(!0);const a=await(await fetch(`/api/get-cities?lang=${l.language}`)).json();a.status==="success"&&a.data?v(a.data):(console.error("Failed to fetch cities:",a.message||"Unknown error"),v([]))}catch(r){console.error("Error fetching cities:",r),v([])}finally{L(!1)}})()},[l.language]),i.useEffect(()=>{h&&(async r=>{try{B(!0);const o=await(await fetch(`/api/banks/${r}/branches`)).json();o.status==="success"&&o.data?u(o.data):(console.error("Failed to fetch branches:",o.message||"Unknown error"),u([]))}catch(a){console.error("Error fetching branches:",a),u([])}finally{B(!1)}})(h)},[h]);const w=t=>{const r=l.language;return t[`name_${r}`]||t.name_en||t.name||`Bank ${t.id}`},G=t=>{const r=l.language;return t[`name_${r}`]||t.name_en||t.name||`Branch ${t.id}`},N=t=>{const r=l.language;return t[`name_${r}`]||t.name_en||t.name||`City ${t.id}`},J=C.filter(t=>w(t).toLowerCase().includes(g.toLowerCase()));T.filter(t=>G(t).toLowerCase().includes(U.toLowerCase()));const K=S.filter(t=>N(t).toLowerCase().includes(M.toLowerCase())),P={fullName:"",position:"",email:"",bankId:"",branchId:"",bankNumber:"",acceptTerms:!1},Q=t=>{console.log("Demo form submitted:",t),alert(`${n("bank_worker_demo_description")}

In the real system, after successful registration, you would be redirected to:
/bank-worker/status/[registration-id]

This page would show your registration status and next steps.`)},$=C.find(t=>t.id===h);T.find(t=>t.id===A);const q=S.find(t=>t.id===y);return i.useEffect(()=>{const t=r=>{r.target.closest(`.${s.dropdown}`)||(k(!1),E(!1),j(!1))};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),e.jsx("div",{className:s.container,children:e.jsx("div",{className:s.pageBackground,children:e.jsxs("div",{className:s.signUpForm,children:[e.jsxs("div",{className:s.titleSection,children:[e.jsx("h1",{className:s.mainTitle,children:n("bank_worker_registration")}),e.jsx("p",{className:s.subtitle,children:n("bank_worker_register_subtitle")})]}),e.jsx("div",{className:s.stepperNavigation,children:e.jsxs("div",{className:s.navigation,children:[e.jsxs("div",{className:s.navItemStepper,children:[e.jsx("div",{className:s.shape,children:e.jsx("span",{className:s.stepNumber,children:"1"})}),e.jsx("span",{className:s.stepText,children:n("bank_worker_basic_info")})]}),e.jsx("div",{className:s.chevronRight,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M6 4L10 8L6 12",stroke:"currentColor",strokeWidth:"1.33"})})}),e.jsxs("div",{className:`${s.navItemStepper} ${s.inactive}`,children:[e.jsx("div",{className:s.shape,children:e.jsx("span",{className:s.stepNumber,children:"2"})}),e.jsx("span",{className:s.stepText,children:n("bank_worker_service_selection")})]})]})}),e.jsx("div",{className:s.containerWithForms,children:e.jsx(Z,{initialValues:P,validationSchema:z,onSubmit:Q,children:({values:t,setFieldValue:r,errors:a,touched:o})=>e.jsxs(V,{children:[e.jsxs("div",{className:s.firstRow,children:[e.jsxs("div",{className:s.inputField,children:[e.jsx("label",{className:s.label,children:n("bank_worker_full_name")}),e.jsx("div",{className:s.input,children:e.jsx("div",{className:s.content,children:e.jsx(_,{type:"text",name:"fullName",placeholder:n("bank_worker_full_name_placeholder"),className:s.inputText})})}),e.jsx(d,{name:"fullName",errors:a,touched:o})]}),e.jsxs("div",{className:s.inputField,children:[e.jsx("label",{className:s.label,children:n("bank_worker_position")}),e.jsx("div",{className:s.input,children:e.jsx("div",{className:s.content,children:e.jsx(_,{type:"text",name:"position",placeholder:n("bank_worker_position_placeholder"),className:s.inputText})})}),e.jsx(d,{name:"position",errors:a,touched:o})]})]}),e.jsx("div",{className:s.line}),e.jsxs("div",{className:s.secondRow,children:[e.jsxs("div",{className:s.inputField,children:[e.jsx("label",{className:s.label,children:n("bank_worker_bank_email")}),e.jsx("div",{className:s.input,children:e.jsxs("div",{className:s.content,children:[e.jsx("div",{className:s.envelope,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[e.jsx("path",{d:"M2.5 3.5h11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1z",stroke:"currentColor",strokeWidth:"1",fill:"none"}),e.jsx("path",{d:"m2.5 4.5 5.5 4 5.5-4",stroke:"currentColor",strokeWidth:"1"})]})}),e.jsx(_,{type:"email",name:"email",placeholder:n("bank_worker_bank_email_placeholder"),className:s.inputText})]})}),e.jsx(d,{name:"email",errors:a,touched:o})]}),e.jsxs("div",{className:s.inputField,children:[e.jsx("label",{className:s.label,children:n("bank_worker_bank")}),e.jsxs("div",{className:s.dropdown,children:[e.jsx("div",{className:s.input,onClick:()=>!b&&k(!x),children:e.jsxs("div",{className:s.content,children:[e.jsx("span",{className:s.selectedText,children:b?n("bank_worker_loading_banks"):$?w($):n("bank_worker_select_bank")}),e.jsx("div",{className:s.chevronUp,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M4 10L8 6L12 10",stroke:"currentColor",strokeWidth:"1.33"})})})]})}),x&&!b&&e.jsx("div",{className:s.dropdownMenu,children:e.jsx("div",{className:s.dropdownMenuContainer,children:e.jsxs("div",{className:s.dropdownMenuContent,children:[e.jsx("div",{className:s.searchSection,children:e.jsx("div",{className:s.searchInputField,children:e.jsx("div",{className:s.searchInput,children:e.jsxs("div",{className:s.searchContent,children:[e.jsx("div",{className:s.searchIcon,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[e.jsx("circle",{cx:"7.5",cy:"7.5",r:"5.5",stroke:"currentColor",strokeWidth:"1"}),e.jsx("path",{d:"m13 13-3-3",stroke:"currentColor",strokeWidth:"1"})]})}),e.jsx("input",{type:"text",placeholder:n("bank_worker_search_banks"),value:g,onChange:c=>f(c.target.value),className:s.searchInputText})]})})})}),J.map(c=>e.jsxs("div",{className:s.navLink,onClick:()=>{D(c.id),r("bankId",c.id),k(!1),f(""),H(null),r("branchId","")},children:[e.jsx("div",{className:s.title,children:e.jsx("span",{className:s.text,children:w(c)})}),h===c.id&&e.jsx("div",{className:s.check,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M3 8L6.5 11.5L13 5",stroke:"currentColor",strokeWidth:"2"})})})]},c.id))]})})})]}),e.jsx(d,{name:"bankId",errors:a,touched:o})]})]}),e.jsxs("div",{className:s.thirdRow,children:[e.jsxs("div",{className:s.inputField,children:[e.jsx("label",{className:s.label,children:n("bank_worker_city")}),e.jsxs("div",{className:s.dropdown,children:[e.jsx("div",{className:s.input,onClick:()=>j(!F),children:e.jsxs("div",{className:s.content,children:[e.jsx("span",{className:s.selectedText,children:q?N(q):n("bank_worker_select_city")}),e.jsx("div",{className:s.chevronUp,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M4 10L8 6L12 10",stroke:"currentColor",strokeWidth:"1.33"})})})]})}),F&&e.jsx("div",{className:s.dropdownMenu,children:e.jsx("div",{className:s.dropdownMenuContainer,children:e.jsxs("div",{className:s.dropdownMenuContent,children:[e.jsx("div",{className:s.searchSection,children:e.jsx("div",{className:s.searchInputField,children:e.jsx("div",{className:s.searchInput,children:e.jsxs("div",{className:s.searchContent,children:[e.jsx("div",{className:s.searchIcon,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[e.jsx("circle",{cx:"7.5",cy:"7.5",r:"5.5",stroke:"currentColor",strokeWidth:"1"}),e.jsx("path",{d:"m13 13-3-3",stroke:"currentColor",strokeWidth:"1"})]})}),e.jsx("input",{type:"text",placeholder:n("bank_worker_search_cities"),value:M,onChange:c=>R(c.target.value),className:s.searchInputText})]})})})}),K.map(c=>e.jsxs("div",{className:s.navLink,onClick:()=>{O(c.id),r("cityId",c.id),j(!1),R("")},children:[e.jsx("div",{className:s.title,children:e.jsx("span",{className:s.text,children:N(c)})}),y===c.id&&e.jsx("div",{className:s.check,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M3 8L6.5 11.5L13 5",stroke:"currentColor",strokeWidth:"2"})})})]},c.id))]})})})]}),e.jsx(d,{name:"cityId",errors:a,touched:o})]}),e.jsxs("div",{className:s.inputField,children:[e.jsx("label",{className:s.label,children:n("bank_worker_bank_number")}),e.jsx("div",{className:s.input,children:e.jsx("div",{className:s.content,children:e.jsx(_,{type:"text",name:"bankNumber",placeholder:n("bank_worker_bank_number_placeholder"),className:s.inputText})})}),e.jsx(d,{name:"bankNumber",errors:a,touched:o})]})]}),e.jsxs("div",{className:s.checkboxContainer,children:[e.jsxs("div",{className:s.checkboxRow,children:[e.jsx(_,{type:"checkbox",id:"acceptTerms",name:"acceptTerms",className:s.checkbox}),e.jsx("div",{className:s.labelAndHelperText,children:e.jsx("label",{htmlFor:"acceptTerms",className:s.checkboxLabel,children:l.language==="he"?e.jsxs(e.Fragment,{children:["אני מסכים ",e.jsx("span",{className:s.termsLink,children:"לכללי הפלטפורמה"})]}):n("bank_worker_accept_terms")})})]}),e.jsx(d,{name:"acceptTerms",errors:a,touched:o})]}),e.jsx("button",{type:"submit",className:s.submitButton,children:e.jsx("span",{className:s.buttonText,children:n("bank_worker_continue")})}),e.jsx("div",{className:s.line}),e.jsx("div",{className:s.loginLink,children:e.jsx("span",{children:n("bank_worker_already_account")})})]})})})]})})})};export{ds as BankEmployeeRegistration};
