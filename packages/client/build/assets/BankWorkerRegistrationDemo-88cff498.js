import{j as e}from"./ui-vendor-5a9cd79c.js";import{r as i}from"./react-vendor-19e41fc0.js";import{a as X,c as k,f as E,i as Y,F as Z,b as V,k as m}from"./form-vendor-429348f6.js";import{s}from"./BankWorkerRegistration.module-6b38b727.js";import{u as ee}from"./i18n-vendor-5cfd36a0.js";import"./utils-vendor-48989965.js";import"./state-vendor-2a767ce0.js";const d=({name:a,errors:o,touched:x})=>e.jsx("div",{className:s.errorMessage,children:x[a]&&o[a]?o[a]:""}),me=()=>{const{t:a,i18n:o}=ee();i.useState(1);const[x,u]=i.useState(!1),[se,D]=i.useState(!1),[f,g]=i.useState(""),[R,ae]=i.useState(""),[C,p]=i.useState([]),[B,j]=i.useState([]),[S,_]=i.useState([]),[v,y]=i.useState(!0),[ne,I]=i.useState(!1),[re,L]=i.useState(!0),[h,U]=i.useState(null),[O,z]=i.useState(null),[T,A]=i.useState(null),[F,N]=i.useState(!1),[$,q]=i.useState(""),H=X({fullName:k().min(2,a("bank_worker_validation_name_min")).required(a("bank_worker_validation_name_required")),position:k().min(2,a("bank_worker_validation_position_min")).required(a("bank_worker_validation_position_required")),email:k().email(a("bank_worker_validation_email_invalid")).required(a("bank_worker_validation_email_required")),bankId:E().required(a("bank_worker_validation_bank_required")),branchId:E().required(a("bank_worker_validation_branch_required")),bankNumber:k().min(3,a("bank_worker_validation_bank_number_min")).required(a("bank_worker_validation_bank_number_required")),acceptTerms:Y().oneOf([!0],a("bank_worker_validation_terms_required")).required(a("bank_worker_validation_terms_required"))});i.useEffect(()=>{(async()=>{try{y(!0);const r=await(await fetch("/api/banks/list")).json();r.status==="success"&&r.data?p(r.data):(console.error("Failed to fetch banks:",r.message||"Unknown error"),p([]))}catch(t){console.error("Error fetching banks:",t),p([])}finally{y(!1)}})()},[]),i.useEffect(()=>{(async()=>{try{L(!0);const r=await(await fetch(`/api/get-cities?lang=${o.language}`)).json();r.status==="success"&&r.data?_(r.data):(console.error("Failed to fetch cities:",r.message||"Unknown error"),_([]))}catch(t){console.error("Error fetching cities:",t),_([])}finally{L(!1)}})()},[]),i.useEffect(()=>{h&&(async t=>{try{I(!0);const l=await(await fetch(`/api/banks/${t}/branches`)).json();l.status==="success"&&l.data?j(l.data):(console.error("Failed to fetch branches:",l.message||"Unknown error"),j([]))}catch(r){console.error("Error fetching branches:",r),j([])}finally{I(!1)}})(h)},[h]);const b=n=>{const t=o.language;return n[`name_${t}`]||n.name_en||n.name||`Bank ${n.id}`},G=n=>{const t=o.language;return n[`name_${t}`]||n.name_en||n.name||`Branch ${n.id}`},w=n=>{const t=o.language;return n[`name_${t}`]||n.name_en||n.name||`City ${n.id}`},J=C.filter(n=>b(n).toLowerCase().includes(f.toLowerCase()));B.filter(n=>G(n).toLowerCase().includes(R.toLowerCase()));const K=S.filter(n=>w(n).toLowerCase().includes($.toLowerCase())),P={fullName:"",position:"",email:"",bankId:"",branchId:"",bankNumber:"",acceptTerms:!1},Q=n=>{console.log("Demo form submitted:",n),alert(`${a("bank_worker_demo_description")}

In the real system, after successful registration, you would be redirected to:
/bank-worker/status/[registration-id]

This page would show your registration status and next steps.`)},M=C.find(n=>n.id===h);B.find(n=>n.id===O);const W=S.find(n=>n.id===T);return i.useEffect(()=>{const n=t=>{t.target.closest(`.${s.dropdown}`)||(u(!1),D(!1),N(!1))};return document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[]),e.jsxs("div",{className:s.container,children:[e.jsx("div",{className:s.header,children:e.jsx("div",{className:s.logo,children:e.jsx("span",{children:"BankIM"})})}),e.jsx("div",{className:s.pageBackground,children:e.jsxs("div",{className:s.signUpForm,children:[e.jsxs("div",{className:s.titleSection,children:[e.jsx("h1",{className:s.mainTitle,children:a("bank_worker_registration")}),e.jsx("p",{className:s.subtitle,children:a("bank_worker_register_subtitle")})]}),e.jsx("div",{className:s.stepperNavigation,children:e.jsxs("div",{className:s.navigation,children:[e.jsxs("div",{className:s.navItemStepper,children:[e.jsx("div",{className:s.shape,children:e.jsx("span",{className:s.stepNumber,children:"1"})}),e.jsx("span",{className:s.stepText,children:a("bank_worker_basic_info")})]}),e.jsx("div",{className:s.chevronRight,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M6 4L10 8L6 12",stroke:"currentColor",strokeWidth:"1.33"})})}),e.jsxs("div",{className:`${s.navItemStepper} ${s.inactive}`,children:[e.jsx("div",{className:s.shape,children:e.jsx("span",{className:s.stepNumber,children:"2"})}),e.jsx("span",{className:s.stepText,children:a("bank_worker_service_selection")})]})]})}),e.jsx("div",{className:s.containerWithForms,children:e.jsx(Z,{initialValues:P,validationSchema:H,onSubmit:Q,children:({values:n,setFieldValue:t,errors:r,touched:l})=>e.jsxs(V,{children:[e.jsxs("div",{className:s.firstRow,children:[e.jsxs("div",{className:s.inputField,children:[e.jsx("label",{className:s.label,children:a("bank_worker_full_name")}),e.jsx("div",{className:s.input,children:e.jsx("div",{className:s.content,children:e.jsx(m,{type:"text",name:"fullName",placeholder:a("bank_worker_full_name_placeholder"),className:s.inputText})})}),e.jsx(d,{name:"fullName",errors:r,touched:l})]}),e.jsxs("div",{className:s.inputField,children:[e.jsx("label",{className:s.label,children:a("bank_worker_position")}),e.jsx("div",{className:s.input,children:e.jsx("div",{className:s.content,children:e.jsx(m,{type:"text",name:"position",placeholder:a("bank_worker_position_placeholder"),className:s.inputText})})}),e.jsx(d,{name:"position",errors:r,touched:l})]})]}),e.jsx("div",{className:s.line}),e.jsxs("div",{className:s.secondRow,children:[e.jsxs("div",{className:s.inputField,children:[e.jsx("label",{className:s.label,children:a("bank_worker_bank_email")}),e.jsx("div",{className:s.input,children:e.jsxs("div",{className:s.content,children:[e.jsx("div",{className:s.envelope,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[e.jsx("path",{d:"M2.5 3.5h11a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1z",stroke:"currentColor",strokeWidth:"1",fill:"none"}),e.jsx("path",{d:"m2.5 4.5 5.5 4 5.5-4",stroke:"currentColor",strokeWidth:"1"})]})}),e.jsx(m,{type:"email",name:"email",placeholder:a("bank_worker_bank_email_placeholder"),className:s.inputText})]})}),e.jsx(d,{name:"email",errors:r,touched:l})]}),e.jsxs("div",{className:s.inputField,children:[e.jsx("label",{className:s.label,children:a("bank_worker_bank")}),e.jsxs("div",{className:s.dropdown,children:[e.jsx("div",{className:s.input,onClick:()=>!v&&u(!x),children:e.jsxs("div",{className:s.content,children:[e.jsx("span",{className:s.selectedText,children:v?a("bank_worker_loading_banks"):M?b(M):a("bank_worker_select_bank")}),e.jsx("div",{className:s.chevronUp,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M4 10L8 6L12 10",stroke:"currentColor",strokeWidth:"1.33"})})})]})}),x&&!v&&e.jsx("div",{className:s.dropdownMenu,children:e.jsx("div",{className:s.dropdownMenuContainer,children:e.jsxs("div",{className:s.dropdownMenuContent,children:[e.jsx("div",{className:s.searchSection,children:e.jsx("div",{className:s.searchInputField,children:e.jsx("div",{className:s.searchInput,children:e.jsxs("div",{className:s.searchContent,children:[e.jsx("div",{className:s.searchIcon,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[e.jsx("circle",{cx:"7.5",cy:"7.5",r:"5.5",stroke:"currentColor",strokeWidth:"1"}),e.jsx("path",{d:"m13 13-3-3",stroke:"currentColor",strokeWidth:"1"})]})}),e.jsx("input",{type:"text",placeholder:a("bank_worker_search_banks"),value:f,onChange:c=>g(c.target.value),className:s.searchInputText})]})})})}),J.map(c=>e.jsxs("div",{className:s.navLink,onClick:()=>{U(c.id),t("bankId",c.id),u(!1),g(""),z(null),t("branchId","")},children:[e.jsx("div",{className:s.title,children:e.jsx("span",{className:s.text,children:b(c)})}),h===c.id&&e.jsx("div",{className:s.check,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M3 8L6.5 11.5L13 5",stroke:"currentColor",strokeWidth:"2"})})})]},c.id))]})})})]}),e.jsx(d,{name:"bankId",errors:r,touched:l})]})]}),e.jsxs("div",{className:s.thirdRow,children:[e.jsxs("div",{className:s.inputField,children:[e.jsx("label",{className:s.label,children:a("bank_worker_city")}),e.jsxs("div",{className:s.dropdown,children:[e.jsx("div",{className:s.input,onClick:()=>N(!F),children:e.jsxs("div",{className:s.content,children:[e.jsx("span",{className:s.selectedText,children:W?w(W):a("bank_worker_select_city")}),e.jsx("div",{className:s.chevronUp,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M4 10L8 6L12 10",stroke:"currentColor",strokeWidth:"1.33"})})})]})}),F&&e.jsx("div",{className:s.dropdownMenu,children:e.jsx("div",{className:s.dropdownMenuContainer,children:e.jsxs("div",{className:s.dropdownMenuContent,children:[e.jsx("div",{className:s.searchSection,children:e.jsx("div",{className:s.searchInputField,children:e.jsx("div",{className:s.searchInput,children:e.jsxs("div",{className:s.searchContent,children:[e.jsx("div",{className:s.searchIcon,children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[e.jsx("circle",{cx:"7.5",cy:"7.5",r:"5.5",stroke:"currentColor",strokeWidth:"1"}),e.jsx("path",{d:"m13 13-3-3",stroke:"currentColor",strokeWidth:"1"})]})}),e.jsx("input",{type:"text",placeholder:a("bank_worker_search_cities"),value:$,onChange:c=>q(c.target.value),className:s.searchInputText})]})})})}),K.map(c=>e.jsxs("div",{className:s.navLink,onClick:()=>{A(c.id),t("cityId",c.id),N(!1),q("")},children:[e.jsx("div",{className:s.title,children:e.jsx("span",{className:s.text,children:w(c)})}),T===c.id&&e.jsx("div",{className:s.check,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M3 8L6.5 11.5L13 5",stroke:"currentColor",strokeWidth:"2"})})})]},c.id))]})})})]}),e.jsx(d,{name:"cityId",errors:r,touched:l})]}),e.jsxs("div",{className:s.inputField,children:[e.jsx("label",{className:s.label,children:a("bank_worker_bank_number")}),e.jsx("div",{className:s.input,children:e.jsx("div",{className:s.content,children:e.jsx(m,{type:"text",name:"bankNumber",placeholder:a("bank_worker_bank_number_placeholder"),className:s.inputText})})}),e.jsx(d,{name:"bankNumber",errors:r,touched:l})]})]}),e.jsxs("div",{className:s.checkboxContainer,children:[e.jsxs("div",{className:s.checkboxRow,children:[e.jsx(m,{type:"checkbox",id:"acceptTerms",name:"acceptTerms",className:s.checkbox}),e.jsx("div",{className:s.labelAndHelperText,children:e.jsx("label",{htmlFor:"acceptTerms",className:s.checkboxLabel,children:o.language==="he"?e.jsxs(e.Fragment,{children:["אני מסכים ",e.jsx("span",{className:s.termsLink,children:"לכללי הפלטפורמה"})]}):a("bank_worker_accept_terms")})})]}),e.jsx(d,{name:"acceptTerms",errors:r,touched:l})]}),e.jsx("button",{type:"submit",className:s.submitButton,children:e.jsx("span",{className:s.buttonText,children:a("bank_worker_continue")})}),e.jsx("div",{className:s.line}),e.jsx("div",{className:s.loginLink,children:e.jsx("span",{children:a("bank_worker_already_account")})})]})})})]})}),e.jsxs("div",{className:s.demoNotice,children:[e.jsx("h3",{children:a("bank_worker_demo_notice")}),e.jsx("p",{children:a("bank_worker_demo_description")})]})]})};export{me as default};
