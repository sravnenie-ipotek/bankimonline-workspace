import{j as e}from"./ui-vendor-5a9cd79c.js";import{r as h,f as X,u as pe,b as Qe}from"./react-vendor-19e41fc0.js";import{c as D,n as q,u as fe}from"./index-c0d564f3.js";import{P as Ee}from"./PersonalCabinetLayout-b362d374.js";import{u as O}from"./i18n-vendor-5cfd36a0.js";import{M as je,S as ve,m as Fe,f as ze,C as Ce,B as Je,P as Xe,e as ea}from"./index-f0724ccb.js";import{a as J,c as x,F as Ge,b as Ze,V as Re,g as ye,e as we,u as aa,k as ta}from"./form-vendor-3025b96d.js";import{D as ue}from"./DropdownMenu-4b9ce17d.js";import{C as na}from"./Calendar-ef2e6f19.js";import{u as sa}from"./api-2fc47091.js";import{f as ia}from"./utils-vendor-48989965.js";import{B as la,M as oa,a as Ke,P as ra}from"./MortgageParameters-b52ce456.js";import{C as Pe}from"./Control-53acd8be.js";import"./ProgressBar-91a976e2.js";import{E as ca}from"./ExitModule-f29c2eb2.js";import"./state-vendor-2a767ce0.js";import"./components-vendor-e60b5450.js";import"./PercentIcon-69cb9491.js";import"./Column-a76f721c.js";const da={"personal-cabinet":"_personal-cabinet_p1dlj_1"},ma={"settings-page":"_settings-page_memtc_1","page-title":"_page-title_memtc_10","title-text":"_title-text_memtc_15","profile-card":"_profile-card_memtc_24","profile-header":"_profile-header_memtc_31","profile-title":"_profile-title_memtc_38","profile-menu-container":"_profile-menu-container_memtc_47","profile-menu-button":"_profile-menu-button_memtc_51","profile-dropdown":"_profile-dropdown_memtc_69","dropdown-item":"_dropdown-item_memtc_82","profile-content":"_profile-content_memtc_104","user-avatar":"_user-avatar_memtc_110","avatar-circle":"_avatar-circle_memtc_114","user-info":"_user-info_memtc_129","info-group":"_info-group_memtc_136","info-label":"_info-label_memtc_142","info-value":"_info-value_memtc_150","password-section":"_password-section_memtc_158","password-content":"_password-content_memtc_164","password-title":"_password-title_memtc_170","change-password-button":"_change-password-button_memtc_179","change-email-button":"_change-email-button_memtc_205","footer-links-section":"_footer-links-section_memtc_233","footer-links-grid":"_footer-links-grid_memtc_239","footer-link":"_footer-link_memtc_233"},Ie=({width:a=16,height:s=16,color:i="currentColor"})=>e.jsxs("svg",{width:a,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M22 6L12 13L2 6",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),T=D.bind(ma),_a=()=>e.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"currentColor",children:[e.jsx("circle",{cx:"16",cy:"8",r:"2"}),e.jsx("circle",{cx:"16",cy:"16",r:"2"}),e.jsx("circle",{cx:"16",cy:"24",r:"2"})]}),ua=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10 2a4 4 0 100 8 4 4 0 000-8zM4 14a6 6 0 1112 0v1H4v-1z"})}),De=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M10 2a4 4 0 100 8 4 4 0 000-8zM4 14a6 6 0 1112 0v1H4v-1z"})}),ha=()=>e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})}),pa=()=>e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v3H6a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2v-8a2 2 0 00-2-2h-1V7c0-2.757-2.243-5-5-5zM9 7c0-1.654 1.346-3 3-3s3 1.346 3 3v3H9V7z"})}),xa=({onOpenModal:a})=>{const{t:s}=O(),[i,n]=h.useState(!1),t={name:"Александр Пушкин",phone:"+ 935 55 324 3223",email:"Bankimonline@mail.com"},r=()=>{n(!i)},c=u=>{n(!1),u&&a(u)};return e.jsxs("div",{className:T("settings-page"),children:[e.jsx("div",{className:T("page-title"),children:e.jsx("h1",{className:T("title-text"),children:s("settings_title","Настройки")})}),e.jsxs("div",{className:T("profile-card"),children:[e.jsxs("div",{className:T("profile-header"),children:[e.jsx("h2",{className:T("profile-title"),children:s("profile_details","Детали профиля")}),e.jsxs("div",{className:T("profile-menu-container"),children:[e.jsx("button",{className:T("profile-menu-button"),onClick:r,children:e.jsx(_a,{})}),i&&e.jsxs("div",{className:T("profile-dropdown"),children:[e.jsxs("div",{className:T("dropdown-item"),onClick:()=>c("profilePhoto"),children:[e.jsx(ua,{}),e.jsx("span",{children:s("change_profile_photo","Изменить фото профиля")})]}),e.jsxs("div",{className:T("dropdown-item"),onClick:()=>c("changeName"),children:[e.jsx(De,{}),e.jsx("span",{children:s("change_name","Изменить Фамилию Имя")})]}),e.jsxs("div",{className:T("dropdown-item"),onClick:()=>c("changePhone"),children:[e.jsx(ha,{}),e.jsx("span",{children:s("change_phone","Изменить Номер телефона")})]}),e.jsxs("div",{className:T("dropdown-item"),onClick:()=>c("emailSettings"),children:[e.jsx(Ie,{}),e.jsx("span",{children:s("change_email","Изменить Email")})]})]})]})]}),e.jsxs("div",{className:T("profile-content"),children:[e.jsx("div",{className:T("user-avatar"),children:e.jsx("div",{className:T("avatar-circle"),children:e.jsx(De,{})})}),e.jsxs("div",{className:T("user-info"),children:[e.jsxs("div",{className:T("info-group"),children:[e.jsx("div",{className:T("info-label"),children:s("full_name","Имя Фамилия")}),e.jsx("div",{className:T("info-value"),children:t.name})]}),e.jsxs("div",{className:T("info-group"),children:[e.jsx("div",{className:T("info-label"),children:s("phone_number","Номер телефона")}),e.jsx("div",{className:T("info-value"),children:t.phone})]})]}),e.jsx("div",{className:T("user-info"),children:e.jsxs("div",{className:T("info-group"),children:[e.jsx("div",{className:T("info-label"),children:"Email"}),e.jsx("div",{className:T("info-value"),children:t.email}),e.jsxs("button",{className:T("change-email-button"),onClick:()=>a("changeEmail"),children:[e.jsx(Ie,{}),e.jsx("span",{children:s("change_email","Изменить Email")})]})]})})]})]}),e.jsx("div",{className:T("password-section"),children:e.jsxs("div",{className:T("password-content"),children:[e.jsx("h2",{className:T("password-title"),children:s("password","Пароль")}),e.jsxs("button",{className:T("change-password-button"),onClick:()=>a("changePassword"),children:[e.jsx(pa,{}),e.jsx("span",{children:s("change_password","Изменить пароль")})]})]})}),e.jsx("div",{className:T("footer-links-section"),children:e.jsxs("div",{className:T("footer-links-grid"),children:[e.jsx("a",{href:"/terms",className:T("footer-link"),target:"_blank",rel:"noopener noreferrer",children:s("user_agreement","Пользовательское соглашение")}),e.jsx("a",{href:"/privacy",className:T("footer-link"),target:"_blank",rel:"noopener noreferrer",children:s("privacy_policy","Политика конфиденциальности")}),e.jsx("a",{href:"/cookie",className:T("footer-link"),target:"_blank",rel:"noopener noreferrer",children:s("cookie_policy","Использование файлов cookie")}),e.jsx("a",{href:"/refund",className:T("footer-link"),target:"_blank",rel:"noopener noreferrer",children:s("refund_policy","Политика возврата оплаты услуг")})]})})]})},ba={"personal-cabinet":"_personal-cabinet_il36g_1","modal-container":"_modal-container_il36g_34","ant-modal-content":"_ant-modal-content_il36g_34","ant-modal-header":"_ant-modal-header_il36g_39","ant-modal-body":"_ant-modal-body_il36g_44","ant-modal-close":"_ant-modal-close_il36g_47","modal-content":"_modal-content_il36g_51","modal-header":"_modal-header_il36g_60","icon-container":"_icon-container_il36g_68","icon-circle":"_icon-circle_il36g_74","delete-icon":"_delete-icon_il36g_93","modal-title":"_modal-title_il36g_99","card-number":"_card-number_il36g_110","button-group":"_button-group_il36g_120","confirm-button":"_confirm-button_il36g_127","cancel-button":"_cancel-button_il36g_128"},re=D.bind(ba),ga=({isOpen:a,onClose:s,onConfirm:i,cardNumber:n})=>{const{t}=O(),r=()=>{i(),s()},c=()=>{s()};return e.jsx(je,{isVisible:a,onCancel:c,className:re("modal-container"),children:e.jsxs("div",{className:re("modal-content"),children:[e.jsxs("div",{className:re("modal-header"),children:[e.jsx("div",{className:re("icon-container"),children:e.jsx("div",{className:re("icon-circle"),children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",className:re("delete-icon"),children:e.jsx("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14zM10 11v6M14 11v6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),e.jsx("h2",{className:re("modal-title"),children:t("delete_card_confirmation","Вы уверены, что хотите удалить карту?")}),n&&e.jsx("p",{className:re("card-number"),children:n})]}),e.jsxs("div",{className:re("button-group"),children:[e.jsx("button",{type:"button",className:re("confirm-button"),onClick:r,children:t("confirm_delete","Подтвердить")}),e.jsx("button",{type:"button",className:re("cancel-button"),onClick:c,children:t("cancel","Отменить")})]})]})})},fa={"personal-cabinet":"_personal-cabinet_mas5e_1","modal-container":"_modal-container_mas5e_34","ant-modal-content":"_ant-modal-content_mas5e_34","ant-modal-header":"_ant-modal-header_mas5e_41","ant-modal-body":"_ant-modal-body_mas5e_46","ant-modal-close":"_ant-modal-close_mas5e_49","modal-content":"_modal-content_mas5e_53","modal-header":"_modal-header_mas5e_61","modal-title":"_modal-title_mas5e_69","card-form":"_card-form_mas5e_78","form-field":"_form-field_mas5e_84","form-row":"_form-row_mas5e_90","form-field--half":"_form-field--half_mas5e_94","button-group":"_button-group_mas5e_98","submit-button":"_submit-button_mas5e_106","cancel-button":"_cancel-button_mas5e_107"},se=D.bind(fa),ja=({isOpen:a,onClose:s,onSubmit:i})=>{const{t:n}=O(),[t,r]=h.useState({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),[c,u]=h.useState({}),[P,b]=h.useState({}),v=l=>{const C=l.replace(/\s+/g,"").replace(/[^0-9]/gi,""),w=C.match(/\d{4,16}/g),A=w&&w[0]||"",V=[];for(let Z=0,he=A.length;Z<he;Z+=4)V.push(A.substring(Z,Z+4));return V.length?V.join(" "):C},M=l=>{const C=l.replace(/\s/g,"");if(!C)return n("card_number_required","Номер карты обязателен");if(C.length<13||C.length>19)return n("card_number_invalid","Номер карты должен содержать 13-19 цифр");let w=0,A=!1;for(let V=C.length-1;V>=0;V--){let Z=parseInt(C.charAt(V),10);A&&(Z*=2,Z>9&&(Z=Z%10+1)),w+=Z,A=!A}return w%10!==0?n("card_number_invalid_checksum","Неверный номер карты"):""},S=l=>{const C=l.replace(/\D/g,"");return C.length>=2?C.substring(0,2)+"/"+C.substring(2,4):C},m=l=>{if(!l)return n("expiry_date_required","Срок действия обязателен");if(!/^(0[1-9]|1[0-2])\/\d{2}$/.test(l))return n("expiry_date_invalid_format","Формат: ММ/ГГ");const[w,A]=l.split("/"),V=new Date,Z=V.getFullYear()%100,he=V.getMonth()+1,k=parseInt(A,10),z=parseInt(w,10);return k<Z||k===Z&&z<he?n("expiry_date_expired","Карта просрочена"):""},g=l=>l?/^\d{3,4}$/.test(l)?"":n("cvv_invalid","CVV должен содержать 3-4 цифры"):n("cvv_required","CVV обязателен"),p=l=>l.trim()?l.trim().length<2?n("cardholder_name_too_short","Имя должно содержать минимум 2 символа"):/^[a-zA-Z\s]+$/.test(l)?"":n("cardholder_name_invalid","Имя может содержать только буквы и пробелы"):n("cardholder_name_required","Имя владельца карты обязательно"),_=()=>{const l={};return l.cardNumber=M(t.cardNumber),l.expiryDate=m(t.expiryDate),l.cvv=g(t.cvv),l.cardholderName=p(t.cardholderName),Object.keys(l).forEach(C=>{l[C]||delete l[C]}),u(l),Object.keys(l).length===0},o=(l,C)=>{let w=C;l==="cardNumber"?w=v(C):l==="expiryDate"?w=S(C):l==="cvv"?w=C.replace(/\D/g,"").substring(0,4):l==="cardholderName"&&(w=C.toUpperCase()),r(A=>({...A,[l]:w})),c[l]&&u(A=>({...A,[l]:""}))},B=l=>{b(w=>({...w,[l]:!0}));let C="";l==="cardNumber"?C=M(t.cardNumber):l==="expiryDate"?C=m(t.expiryDate):l==="cvv"?C=g(t.cvv):l==="cardholderName"&&(C=p(t.cardholderName)),C&&u(w=>({...w,[l]:C}))},f=l=>{l.preventDefault(),b({cardNumber:!0,expiryDate:!0,cvv:!0,cardholderName:!0}),_()&&(i(t),d())},d=()=>{r({cardNumber:"",expiryDate:"",cvv:"",cardholderName:""}),u({}),b({}),s()};return e.jsx(je,{isVisible:a,onCancel:d,className:se("modal-container"),children:e.jsxs("div",{className:se("modal-content"),children:[e.jsx("div",{className:se("modal-header"),children:e.jsx("h2",{className:se("modal-title"),children:n("add_card_title","Добавить карту")})}),e.jsxs("form",{onSubmit:f,className:se("card-form"),children:[e.jsx("div",{className:se("form-field"),children:e.jsx(ve,{title:n("card_number","Номер карты"),placeholder:"1234 5678 9012 3456",value:t.cardNumber,onChange:l=>o("cardNumber",l),onBlur:()=>B("cardNumber"),error:P.cardNumber&&c.cardNumber,name:"cardNumber",maxLength:19})}),e.jsxs("div",{className:se("form-row"),children:[e.jsx("div",{className:se("form-field","form-field--half"),children:e.jsx(ve,{title:n("expiry_date","Срок действия"),placeholder:"ММ/ГГ",value:t.expiryDate,onChange:l=>o("expiryDate",l),onBlur:()=>B("expiryDate"),error:P.expiryDate&&c.expiryDate,name:"expiryDate",maxLength:5})}),e.jsx("div",{className:se("form-field","form-field--half"),children:e.jsx(ve,{title:n("cvv","CVV"),placeholder:"123",value:t.cvv,onChange:l=>o("cvv",l),onBlur:()=>B("cvv"),error:P.cvv&&c.cvv,name:"cvv",maxLength:4,type:"password"})})]}),e.jsx("div",{className:se("form-field"),children:e.jsx(ve,{title:n("cardholder_name","Имя владельца карты"),placeholder:n("cardholder_name_placeholder","IVAN PETROV"),value:t.cardholderName,onChange:l=>o("cardholderName",l),onBlur:()=>B("cardholderName"),error:P.cardholderName&&c.cardholderName,name:"cardholderName",maxLength:50})}),e.jsxs("div",{className:se("button-group"),children:[e.jsx("button",{type:"submit",className:se("submit-button"),children:n("add_card_submit","Добавить карту")}),e.jsx("button",{type:"button",className:se("cancel-button"),onClick:d,children:n("cancel","Отменить")})]})]})]})})},va={"payments-page":"_payments-page_4kmx4_1","page-title":"_page-title_4kmx4_10","title-text":"_title-text_4kmx4_15","tab-navigation":"_tab-navigation_4kmx4_25","tab-button":"_tab-button_4kmx4_32","tab-button--active":"_tab-button--active_4kmx4_48","section-title":"_section-title_4kmx4_55","section-title-text":"_section-title-text_4kmx4_59","cards-content":"_cards-content_4kmx4_69","cards-container":"_cards-container_4kmx4_75","card-item":"_card-item_4kmx4_81","credit-card":"_credit-card_4kmx4_88","card-background":"_card-background_4kmx4_96","card-content":"_card-content_4kmx4_107","card-number":"_card-number_4kmx4_116","card-holder":"_card-holder_4kmx4_124","card-icons":"_card-icons_4kmx4_133","card-brand":"_card-brand_4kmx4_139","visa-logo":"_visa-logo_4kmx4_144","contactless-icon":"_contactless-icon_4kmx4_154","card-actions":"_card-actions_4kmx4_162","card-select":"_card-select_4kmx4_169","select-checkbox":"_select-checkbox_4kmx4_175","select-checkbox--checked":"_select-checkbox--checked_4kmx4_191","select-label":"_select-label_4kmx4_197","card-menu-container":"_card-menu-container_4kmx4_205","card-menu-button":"_card-menu-button_4kmx4_209","card-menu-dropdown":"_card-menu-dropdown_4kmx4_226","menu-item":"_menu-item_4kmx4_239","menu-item--delete":"_menu-item--delete_4kmx4_257","add-card-container":"_add-card-container_4kmx4_265","add-card-button":"_add-card-button_4kmx4_269","add-card-icon":"_add-card-icon_4kmx4_286","add-card-text":"_add-card-text_4kmx4_292","history-content":"_history-content_4kmx4_300","history-placeholder":"_history-placeholder_4kmx4_306"},R=D.bind(va),ya=[{id:"1",number:"**** **** **** 2345",name:"Александр Пушкин",type:"visa",selected:!0}],Na=()=>e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:e.jsx("path",{d:"M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"})}),ka=()=>e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:e.jsx("path",{d:"M8 2a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zM8 6.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zM8 11a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z"})}),wa=()=>e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:e.jsx("path",{d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})}),Ca=()=>e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M6.5 8.5c0-1.933 1.567-3.5 3.5-3.5s3.5 1.567 3.5 3.5S11.933 12 10 12s-3.5-1.567-3.5-3.5zm1 0c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5S11.38 6 10 6s-2.5 1.12-2.5 2.5z"}),e.jsx("path",{d:"M4 8.5c0-3.314 2.686-6 6-6s6 2.686 6 6-2.686 6-6 6-6-2.686-6-6zm1 0c0 2.761 2.239 5 5 5s5-2.239 5-5-2.239-5-5-5-5 2.239-5 5z"})]}),Pa=()=>{const{t:a}=O(),s=X();pe();const[i,n]=h.useState("cards"),[t,r]=h.useState(ya),[c,u]=h.useState(null),[P,b]=h.useState(!1),[v,M]=h.useState(null),[S,m]=h.useState(!1),g=w=>{n(w),s(w==="history"?"/payments/history":"/payments")},p=w=>{r(t.map(A=>({...A,selected:A.id===w})))},_=w=>{u(c===w?null:w)},o=w=>{const A=t.find(V=>V.id===w);A&&(M(A),b(!0),u(null))},B=()=>{v&&(r(t.filter(w=>w.id!==v.id)),M(null))},f=()=>{b(!1),M(null)},d=()=>{m(!0)},l=w=>{const V={id:(t.length+1).toString(),number:w.cardNumber,name:w.cardholderName,type:"visa",selected:!1};r(Z=>[...Z,V]),m(!1)},C=()=>{m(!1)};return e.jsxs("div",{className:R("payments-page"),children:[e.jsx("div",{className:R("page-title"),children:e.jsx("h1",{className:R("title-text"),children:a("payments_title","Платежи")})}),e.jsxs("div",{className:R("tab-navigation"),children:[e.jsx("button",{className:R("tab-button",{"tab-button--active":i==="cards"}),onClick:()=>g("cards"),children:a("cards_tab","Карты")}),e.jsx("button",{className:R("tab-button",{"tab-button--active":i==="history"}),onClick:()=>g("history"),children:a("transaction_history_tab","История транзакций")})]}),i==="cards"&&e.jsxs("div",{className:R("cards-content"),children:[e.jsx("div",{className:R("section-title"),children:e.jsx("h2",{className:R("section-title-text"),children:a("cards_title","Карты")})}),e.jsxs("div",{className:R("cards-container"),children:[t.map(w=>e.jsxs("div",{className:R("card-item"),children:[e.jsx("div",{className:R("credit-card"),children:e.jsx("div",{className:R("card-background"),children:e.jsxs("div",{className:R("card-content"),children:[e.jsx("div",{className:R("card-number"),children:w.number}),e.jsx("div",{className:R("card-holder"),children:w.name}),e.jsxs("div",{className:R("card-icons"),children:[e.jsx("div",{className:R("card-brand"),children:w.type==="visa"&&e.jsx("span",{className:R("visa-logo"),children:"VISA"})}),e.jsx("div",{className:R("contactless-icon"),children:e.jsx(Ca,{})})]})]})})}),e.jsxs("div",{className:R("card-actions"),children:[e.jsxs("div",{className:R("card-select"),children:[e.jsx("button",{className:R("select-checkbox",{"select-checkbox--checked":w.selected}),onClick:()=>p(w.id),children:w.selected&&e.jsx(Na,{})}),e.jsx("span",{className:R("select-label"),children:a("select_card","Выбрать карту")})]}),e.jsxs("div",{className:R("card-menu-container"),children:[e.jsx("button",{className:R("card-menu-button"),onClick:()=>_(w.id),children:e.jsx(ka,{})}),c===w.id&&e.jsx("div",{className:R("card-menu-dropdown"),children:e.jsx("button",{className:R("menu-item","menu-item--delete"),onClick:()=>o(w.id),children:a("delete_card","Удалить карту")})})]})]})]},w.id)),e.jsx("div",{className:R("add-card-container"),children:e.jsxs("button",{className:R("add-card-button"),onClick:d,children:[e.jsx("div",{className:R("add-card-icon"),children:e.jsx(wa,{})}),e.jsx("span",{className:R("add-card-text"),children:a("add_card","Добавить карту")})]})})]})]}),i==="history"&&e.jsx("div",{className:R("history-content"),children:e.jsx("div",{className:R("history-placeholder"),children:e.jsx("p",{children:a("transaction_history_placeholder","История транзакций будет загружена здесь")})})}),e.jsx(ga,{isOpen:P,onClose:f,onConfirm:B,cardNumber:v==null?void 0:v.number}),e.jsx(ja,{isOpen:S,onClose:C,onSubmit:l})]})},Sa="_status_xbrte_173",Ma={"transaction-history-page":"_transaction-history-page_xbrte_1","page-title":"_page-title_xbrte_10","title-text":"_title-text_xbrte_15","tab-navigation":"_tab-navigation_xbrte_25","tab-button":"_tab-button_xbrte_32","tab-button--active":"_tab-button--active_xbrte_48","section-title":"_section-title_xbrte_55","section-title-text":"_section-title-text_xbrte_59","table-container":"_table-container_xbrte_69","transaction-table":"_transaction-table_xbrte_76","table-header":"_table-header_xbrte_83","header-cell":"_header-cell_xbrte_87","header-service":"_header-service_xbrte_96","header-amount":"_header-amount_xbrte_99","header-date":"_header-date_xbrte_102","header-status":"_header-status_xbrte_105","header-transaction-id":"_header-transaction-id_xbrte_108","header-actions":"_header-actions_xbrte_111","table-body":"_table-body_xbrte_116","table-row":"_table-row_xbrte_120","table-cell":"_table-cell_xbrte_131","service-name":"_service-name_xbrte_137","amount-value":"_amount-value_xbrte_145","date-container":"_date-container_xbrte_152","date-value":"_date-value_xbrte_158","time-value":"_time-value_xbrte_165",status:Sa,"status--success":"_status--success_xbrte_180","status--failed":"_status--failed_xbrte_184","transaction-id":"_transaction-id_xbrte_190","download-button":"_download-button_xbrte_197","download-icon":"_download-icon_xbrte_212","download-text":"_download-text_xbrte_219","empty-state-container":"_empty-state-container_xbrte_227","skeleton-row":"_skeleton-row_xbrte_234","skeleton-placeholder":"_skeleton-placeholder_xbrte_238","skeleton-pulse":"_skeleton-pulse_xbrte_1","skeleton-service":"_skeleton-service_xbrte_244","skeleton-amount":"_skeleton-amount_xbrte_248","skeleton-date":"_skeleton-date_xbrte_252","skeleton-status":"_skeleton-status_xbrte_256","skeleton-transaction-id":"_skeleton-transaction-id_xbrte_260","skeleton-actions":"_skeleton-actions_xbrte_264","empty-state-message":"_empty-state-message_xbrte_277","empty-state-title":"_empty-state-title_xbrte_290","empty-state-description":"_empty-state-description_xbrte_299"},N=D.bind(Ma),Ba=[{id:"1",service:"Рассчитать ипотеку",amount:"1,999 ₪",date:"20.02.2023",time:"19:45",status:"success",transactionId:"0912031200"},{id:"2",service:"Рефинансировать Ипотеку",amount:"1,999 ₪",date:"20.02.2023",time:"19:45",status:"failed",transactionId:"0912031200"},{id:"3",service:"Рассчитать кредит",amount:"1,999 ₪",date:"20.02.2023",time:"19:45",status:"success",transactionId:"0912031200"},{id:"4",service:"Рассчитать кредит",amount:"1,999 ₪",date:"20.02.2023",time:"19:45",status:"success",transactionId:"0912031200"}],Aa=()=>e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor",children:[e.jsx("path",{d:"M8 1a.5.5 0 0 1 .5.5v6.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 8.293V1.5A.5.5 0 0 1 8 1z"}),e.jsx("path",{d:"M3 15a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v6z"})]}),qa=()=>{const{t:a}=O(),s=X(),[i]=h.useState(Ba),n=u=>{},t=u=>u==="success"?a("transaction_success","Успех"):a("transaction_failed","Провал"),r=u=>u==="success"?"status--success":"status--failed",c=i;return e.jsxs("div",{className:N("transaction-history-page"),children:[e.jsx("div",{className:N("page-title"),children:e.jsx("h1",{className:N("title-text"),children:a("payments_title","Платежи")})}),e.jsxs("div",{className:N("tab-navigation"),children:[e.jsx("button",{className:N("tab-button"),onClick:()=>s("/payments"),children:a("cards_tab","Карты")}),e.jsx("button",{className:N("tab-button","tab-button--active"),children:a("transaction_history_tab","История транзакций")})]}),e.jsx("div",{className:N("section-title"),children:e.jsx("h2",{className:N("section-title-text"),children:a("transaction_history_title","История транзакций")})}),c.length>0?e.jsx("div",{className:N("table-container"),children:e.jsxs("table",{className:N("transaction-table"),children:[e.jsx("thead",{className:N("table-header"),children:e.jsxs("tr",{children:[e.jsx("th",{className:N("header-cell","header-service"),children:a("table_service","Услуга")}),e.jsx("th",{className:N("header-cell","header-amount"),children:a("table_amount","Сумма")}),e.jsx("th",{className:N("header-cell","header-date"),children:a("table_date","Дата")}),e.jsx("th",{className:N("header-cell","header-status"),children:a("table_status","Статус")}),e.jsx("th",{className:N("header-cell","header-transaction-id"),children:a("table_transaction_id","ID транзакции")}),e.jsx("th",{className:N("header-cell","header-actions")})]})}),e.jsx("tbody",{className:N("table-body"),children:c.map(u=>e.jsxs("tr",{className:N("table-row"),children:[e.jsx("td",{className:N("table-cell","cell-service"),children:e.jsx("span",{className:N("service-name"),children:u.service})}),e.jsx("td",{className:N("table-cell","cell-amount"),children:e.jsx("span",{className:N("amount-value"),children:u.amount})}),e.jsx("td",{className:N("table-cell","cell-date"),children:e.jsxs("div",{className:N("date-container"),children:[e.jsx("span",{className:N("date-value"),children:u.date}),e.jsx("span",{className:N("time-value"),children:u.time})]})}),e.jsx("td",{className:N("table-cell","cell-status"),children:e.jsx("span",{className:N("status",r(u.status)),children:t(u.status)})}),e.jsx("td",{className:N("table-cell","cell-transaction-id"),children:e.jsx("span",{className:N("transaction-id"),children:u.transactionId})}),e.jsx("td",{className:N("table-cell","cell-actions"),children:e.jsxs("button",{className:N("download-button"),onClick:()=>n(u.transactionId),children:[e.jsx("div",{className:N("download-icon"),children:e.jsx(Aa,{})}),e.jsx("span",{className:N("download-text"),children:a("download_receipt","Скачать чек")})]})})]},u.id))})]})}):e.jsxs("div",{className:N("empty-state-container"),children:[e.jsx("div",{className:N("table-container"),children:e.jsxs("table",{className:N("transaction-table"),children:[e.jsx("thead",{className:N("table-header"),children:e.jsxs("tr",{children:[e.jsx("th",{className:N("header-cell","header-service"),children:a("table_service","Услуга")}),e.jsx("th",{className:N("header-cell","header-amount"),children:a("table_amount","Сумма")}),e.jsx("th",{className:N("header-cell","header-date"),children:a("table_date","Дата")}),e.jsx("th",{className:N("header-cell","header-status"),children:a("table_status","Статус")}),e.jsx("th",{className:N("header-cell","header-transaction-id"),children:a("table_transaction_id","ID транзакции")}),e.jsx("th",{className:N("header-cell","header-actions")})]})}),e.jsx("tbody",{className:N("table-body"),children:[1,2,3].map(u=>e.jsxs("tr",{className:N("table-row","skeleton-row"),children:[e.jsx("td",{className:N("table-cell"),children:e.jsx("div",{className:N("skeleton-placeholder","skeleton-service")})}),e.jsx("td",{className:N("table-cell"),children:e.jsx("div",{className:N("skeleton-placeholder","skeleton-amount")})}),e.jsx("td",{className:N("table-cell"),children:e.jsx("div",{className:N("skeleton-placeholder","skeleton-date")})}),e.jsx("td",{className:N("table-cell"),children:e.jsx("div",{className:N("skeleton-placeholder","skeleton-status")})}),e.jsx("td",{className:N("table-cell"),children:e.jsx("div",{className:N("skeleton-placeholder","skeleton-transaction-id")})}),e.jsx("td",{className:N("table-cell"),children:e.jsx("div",{className:N("skeleton-placeholder","skeleton-actions")})})]},`skeleton-${u}`))})]})}),e.jsxs("div",{className:N("empty-state-message"),children:[e.jsx("h3",{className:N("empty-state-title"),children:a("empty_state_title","Здесь пока ничего нет")}),e.jsx("p",{className:N("empty-state-description"),children:a("empty_state_description","Здесь вы сможете посмотреть историю транзакций")})]})]})]})},La="_selected_1jddt_99",Ta="_available_1jddt_149",$a="_spin_1jddt_1",Ea={"interactive-map":"_interactive-map_1jddt_1","map-container":"_map-container_1jddt_11","fallback-map":"_fallback-map_1jddt_25","fallback-content":"_fallback-content_1jddt_35","map-placeholder":"_map-placeholder_1jddt_41","map-icon":"_map-icon_1jddt_48","branch-list":"_branch-list_1jddt_67","branch-item":"_branch-item_1jddt_80",selected:La,"map-legend":"_map-legend_1jddt_110","legend-item":"_legend-item_1jddt_133","legend-marker":"_legend-marker_1jddt_142",available:Ta,"map-loading":"_map-loading_1jddt_157","loading-spinner":"_loading-spinner_1jddt_168",spin:$a,"map-error":"_map-error_1jddt_185","error-icon":"_error-icon_1jddt_198","error-title":"_error-title_1jddt_203","error-message":"_error-message_1jddt_209"},ie=D.bind(Ea),za=({branches:a,selectedBranch:s,selectedLocation:i,onBranchSelect:n,city:t})=>{const r=h.useRef(null),[c,u]=h.useState(null),[P,b]=h.useState([]),[v,M]=h.useState(!1);h.useEffect(()=>{if(window.google&&window.google.maps){M(!0);return}const m=document.createElement("script");return m.src=`https://maps.googleapis.com/maps/api/js?key=${{}.VITE_GOOGLE_MAPS_API_KEY||"YOUR_API_KEY"}&libraries=places`,m.async=!0,m.defer=!0,m.onload=()=>M(!0),document.head.appendChild(m),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[]),h.useEffect(()=>{if(!v||!r.current||c)return;const m={lat:31.7683,lng:35.2137},g=new google.maps.Map(r.current,{zoom:8,center:m,styles:[{featureType:"all",elementType:"geometry.fill",stylers:[{color:"#242529"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#161616"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#161616"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#404040"}]}],mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}});u(g)},[v,c]),h.useEffect(()=>{if(!c||!v)return;P.forEach(g=>g.setMap(null)),b([]);const m=[];if(a.forEach(g=>{const p=new google.maps.Marker({position:{lat:g.lat,lng:g.lng},map:c,title:g.label,icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="16" cy="16" r="12" fill="${s===g.value?"#FBE54D":"#FF6B6B"}" stroke="#FFFFFF" stroke-width="2"/>
              <circle cx="16" cy="16" r="4" fill="#FFFFFF"/>
            </svg>
          `),scaledSize:new google.maps.Size(32,32),anchor:new google.maps.Point(16,16)}});p.addListener("click",()=>{n(g.value)}),m.push(p)}),b(m),a.length>0){const g=new google.maps.LatLngBounds;a.forEach(_=>{g.extend({lat:_.lat,lng:_.lng})}),c.fitBounds(g);const p=google.maps.event.addListener(c,"idle",()=>{c.getZoom()&&c.getZoom()>12&&c.setZoom(12),google.maps.event.removeListener(p)})}},[c,a,s,n,v]),h.useEffect(()=>{c&&i&&(c.setCenter(i),c.setZoom(14))},[c,i]);const S=()=>e.jsx("div",{className:ie("fallback-map"),children:e.jsx("div",{className:ie("fallback-content"),children:e.jsxs("div",{className:ie("map-placeholder"),children:[e.jsx("div",{className:ie("map-icon"),children:"🗺️"}),e.jsx("h3",{children:"Interactive Map"}),e.jsx("p",{children:"Map will display bank branch locations"}),a.length>0&&e.jsxs("div",{className:ie("branch-list"),children:[e.jsx("h4",{children:"Available Branches:"}),a.map(m=>e.jsxs("button",{onClick:()=>n(m.value),className:ie("branch-item",{selected:s===m.value}),children:["📍 ",m.label]},m.value))]})]})})});return e.jsxs("div",{className:ie("interactive-map"),children:[v?e.jsx("div",{ref:r,className:ie("map-container")}):S(),e.jsxs("div",{className:ie("map-legend"),children:[e.jsxs("div",{className:ie("legend-item"),children:[e.jsx("div",{className:ie("legend-marker","available")}),e.jsx("span",{children:"Available Branch"})]}),e.jsxs("div",{className:ie("legend-item"),children:[e.jsx("div",{className:ie("legend-marker","selected")}),e.jsx("span",{children:"Selected Branch"})]})]})]})},Ra="_header_sxl2k_14",Fa="_spin_sxl2k_1",Ia={"appointment-scheduling-page":"_appointment-scheduling-page_sxl2k_1",header:Ra,"return-button":"_return-button_sxl2k_21","page-title":"_page-title_sxl2k_45","appointment-form":"_appointment-form_sxl2k_61","form-section":"_form-section_sxl2k_67","form-field":"_form-field_sxl2k_81","map-section":"_map-section_sxl2k_108","action-buttons":"_action-buttons_sxl2k_124","back-button":"_back-button_sxl2k_137","schedule-button":"_schedule-button_sxl2k_166","loading-spinner":"_loading-spinner_sxl2k_205",spin:Fa},te=D.bind(Ia),ge=[{value:"tel-aviv-center",label:"Tel Aviv Center",city:"tel-aviv",lat:32.0853,lng:34.7818},{value:"tel-aviv-dizengoff",label:"Tel Aviv Dizengoff",city:"tel-aviv",lat:32.0749,lng:34.7747},{value:"jerusalem-center",label:"Jerusalem Center",city:"jerusalem",lat:31.7683,lng:35.2137},{value:"jerusalem-malha",label:"Jerusalem Malha",city:"jerusalem",lat:31.7308,lng:35.1911},{value:"haifa-carmel",label:"Haifa Carmel",city:"haifa",lat:32.794,lng:34.9896},{value:"haifa-port",label:"Haifa Port",city:"haifa",lat:32.8156,lng:34.9822},{value:"beer-sheva-center",label:"Beer Sheva Center",city:"beer-sheva",lat:31.2518,lng:34.7915},{value:"netanya-center",label:"Netanya Center",city:"netanya",lat:32.3215,lng:34.8532}],Da=[{value:"09:00",label:"09:00"},{value:"09:30",label:"09:30"},{value:"10:00",label:"10:00"},{value:"10:30",label:"10:30"},{value:"11:00",label:"11:00"},{value:"11:30",label:"11:30"},{value:"12:00",label:"12:00"},{value:"13:00",label:"13:00"},{value:"13:30",label:"13:30"},{value:"14:00",label:"14:00"},{value:"14:30",label:"14:30"},{value:"15:00",label:"15:00"},{value:"15:30",label:"15:30"},{value:"16:00",label:"16:00"},{value:"16:30",label:"16:30"},{value:"17:00",label:"17:00"}],Va=J({city:x().required("City is required"),branch:x().required("Branch is required"),date:x().required("Date is required"),time:x().required("Time is required")}),Oa=()=>{const{t:a}=O(),s=X(),{data:i,isLoading:n}=sa(),[t,r]=h.useState([]),[c,u]=h.useState(null),P={city:"",branch:"",date:"",time:""},b=(i==null?void 0:i.map(f=>{var d;return{value:f.value||((d=f.name)==null?void 0:d.toLowerCase().replace(/\s+/g,"-")),label:f.label||f.name}}))||[],v=f=>{const d=ge.filter(l=>l.city===f).map(l=>({value:l.value,label:l.label}));r(d)},M=(f,d)=>{d("city",f),d("branch",""),d("time",""),v(f),u(null)},S=(f,d)=>{d("branch",f),d("time","");const l=ge.find(C=>C.value===f);l&&u({lat:l.lat,lng:l.lng})},m=(f,d)=>{const l=ge.find(C=>C.value===f);if(l){if(!d)return;d("branch",f),u({lat:l.lat,lng:l.lng}),v(l.city)}},g=(f,d)=>{f&&(d("date",f),d("time",""))},p=()=>{s(-1)},_=()=>{s("/personal-cabinet")},o=async f=>{try{await new Promise(d=>setTimeout(d,1e3)),s("/personal-cabinet/appointment-confirmation",{state:{appointmentData:f}})}catch(d){console.error("Error scheduling appointment:",d)}},B=f=>ge.filter(d=>d.city===f);return e.jsxs("div",{className:te("appointment-scheduling-page"),children:[e.jsx("div",{className:te("header"),children:e.jsx("button",{type:"button",onClick:_,className:te("return-button"),children:a("return_to_personal_cabinet","Вернуться в личный кабинет")})}),e.jsx("h1",{className:te("page-title"),children:a("schedule_meeting_title","Назначьте встречу с банком")}),e.jsx(Ge,{initialValues:P,validationSchema:Va,onSubmit:o,children:({values:f,setFieldValue:d,errors:l,touched:C,isSubmitting:w})=>e.jsxs(Ze,{className:te("appointment-form"),children:[e.jsxs("div",{className:te("form-section"),children:[e.jsx("div",{className:te("form-field"),children:e.jsx(ue,{title:a("city","Город"),data:b,placeholder:a("select_city","Выберите город"),value:f.city,onChange:A=>M(A,d),searchable:!0,searchPlaceholder:a("search_city","Поиск города"),nothingFoundText:a("no_cities_found","Города не найдены"),error:C.city&&l.city})}),e.jsx("div",{className:te("form-field"),children:e.jsx(ue,{title:a("bank_branch","Филиал банка"),data:t,placeholder:a("select_branch","Выберите филиал банка"),value:f.branch,onChange:A=>S(A,d),searchable:!0,searchPlaceholder:a("search_branch","Поиск филиала"),nothingFoundText:a("no_branches_found","Филиалы не найдены"),error:C.branch&&l.branch})}),e.jsx("div",{className:te("form-field"),children:e.jsx(na,{title:a("meeting_date","Дата встречи"),placeholder:a("date_format","ДД / ММ / ГГ"),value:f.date,onChange:A=>g(A,d),error:C.date&&l.date})}),e.jsx("div",{className:te("form-field"),children:e.jsx(ue,{title:a("meeting_time","Время встречи"),data:Da,placeholder:a("select_time","Выберите время встречи"),value:f.time,onChange:A=>d("time",A),error:C.time&&l.time})})]}),e.jsx("div",{className:te("map-section"),children:e.jsx(za,{branches:f.city?B(f.city):ge,selectedBranch:f.branch,selectedLocation:c,onBranchSelect:A=>m(A,d),city:f.city})}),e.jsxs("div",{className:te("action-buttons"),children:[e.jsx("button",{type:"button",onClick:p,className:te("back-button"),children:a("back","Назад")}),e.jsx("button",{type:"submit",disabled:w,className:te("schedule-button"),children:w?a("scheduling","Назначение..."):a("schedule_meeting","Назначить встречу")})]})]})})]})},Ua={"modal-backdrop":"_modal-backdrop_33zxi_1","modal-container":"_modal-container_33zxi_15","modal-content":"_modal-content_33zxi_25","modal-header":"_modal-header_33zxi_29","modal-title":"_modal-title_33zxi_36","close-button":"_close-button_33zxi_45","modal-form":"_modal-form_33zxi_66","input-group":"_input-group_33zxi_72","email-input":"_email-input_33zxi_78","button-group":"_button-group_33zxi_105","continue-button":"_continue-button_33zxi_110"},ce=D.bind(Ua),Ya=()=>e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),Ha=({isOpen:a,onClose:s,onSuccess:i})=>{const{t:n}=O(),[t,r]=h.useState(""),[c,u]=h.useState(!1),P=async M=>{if(M.preventDefault(),!!t.trim()){u(!0);try{await new Promise(S=>setTimeout(S,1e3)),i&&i(t),s()}catch(S){console.error("Error updating email:",S)}finally{u(!1)}}},b=M=>{r(M.target.value)},v=M=>{M.target===M.currentTarget&&s()};return a?e.jsx("div",{className:ce("modal-backdrop"),onClick:v,children:e.jsx("div",{className:ce("modal-container"),children:e.jsxs("div",{className:ce("modal-content"),children:[e.jsxs("div",{className:ce("modal-header"),children:[e.jsx("h2",{className:ce("modal-title"),children:n("enter_email","Введите email")}),e.jsx("button",{className:ce("close-button"),onClick:s,type:"button",children:e.jsx(Ya,{})})]}),e.jsxs("form",{onSubmit:P,className:ce("modal-form"),children:[e.jsx("div",{className:ce("input-group"),children:e.jsx("input",{type:"email",value:t,onChange:b,className:ce("email-input"),placeholder:n("email_placeholder","example@bankimonline.com"),required:!0,autoFocus:!0})}),e.jsx("div",{className:ce("button-group"),children:e.jsx("button",{type:"submit",className:ce("continue-button"),disabled:!t.trim()||c,children:c?n("loading","Загрузка..."):n("continue","Продолжить")})})]})]})})}):null},Ve=x().required(q("error_fill_field","Please fill this field")),Oe=x().test({name:"check-email",exclusive:!1,params:{},message:"",test:function(a){const{email:s}=this.parent;return s||a?!0:this.createError({message:q("error_fill_field","Please fill this field")})}}).nullable(),Ue=x().email(q("error_invalid_email","Invalid email address")).test({name:"check-phone",exclusive:!1,params:{},message:"",test:function(a){const{phone:s}=this.parent;return s||a?!0:this.createError({message:q("error_fill_field","Please fill this field")})}}).nullable(),Ye=x().test({test:a=>{if(!a)return;const s=[];if(/^(?=.{8,})/.test(a)||s.push(q("error_password_min_length","Minimum 8 characters required")),/^(?=.*[!@#\$%\^&\*])/.test(a)||s.push(q("error_password_special_chars","Must contain special characters")),/^(?=.*[0-9])/.test(a)||s.push(q("error_password_numbers","Must contain numbers")),/^(?=.*[A-Z, А-Я])/.test(a)||s.push(q("error_password_case","Must contain uppercase and lowercase letters")),s.length>0)throw new Re(s,a,"password");return!0}}).required(q("error_fill_field","Please fill this field")),Wa={AuthFlow:{AuthForm:J().shape({phone:Oe,email:Ue,password:Ye}),CodeVerify:J().shape({code:x().length(4,"").required(q("error_fill_field","Please fill this field"))})},RestorePasswordFlow:{TypeVerify:J().shape({phone:Oe,email:Ue}),RestorePassword:J().shape({password:Ye}),CodeVerify:J().shape({code:x().length(4,"").required(q("error_fill_field","Please fill this field"))})},RegistrationFlow:{PersonalDataForm:J().shape({name:Ve,citizenship:x().required(q("error_fill_field","Please fill this field")),additionalCitizenship:ye().nullable(),dateBirth:x().required(q("error_fill_field","Please fill this field")),sex:x().required(q("error_fill_field","Please fill this field")),familyStatus:x().required(q("error_fill_field","Please fill this field")),children18:x().required(q("error_fill_field","Please fill this field")),children18Number:x().nullable(),education:x().required(q("error_fill_field","Please fill this field")),payTax:x().required(q("error_fill_field","Please fill this field")),payTaxCountries:ye().nullable(),isPublic:x().required(q("error_fill_field","Please fill this field"))}),PartnerPersonalDataForm:J().shape({name:Ve,citizenship:x().required(q("error_fill_field","Please fill this field")),additionalCitizenship:ye().nullable(),dateBirth:x().required(q("error_fill_field","Please fill this field")),sex:x().required(q("error_fill_field","Please fill this field")),education:x().required(q("error_fill_field","Please fill this field")),payTax:x().required(q("error_fill_field","Please fill this field")),payTaxCountries:ye().nullable(),isPublic:x().required(q("error_fill_field","Please fill this field"))}),IncomeForm:J().shape({yearsWork:x().required(q("error_fill_field","Please fill this field")),sphere:x().required(q("error_fill_field","Please fill this field")),monthlyIncomeNet:x().required(q("error_fill_field","Please fill this field")),monthlyIncomeGross:x().required(q("error_fill_field","Please fill this field")),additionalIncome:x().required(q("error_fill_field","Please fill this field")),additionalIncomeAmount:x().nullable(),monthlyOutgoings:x().required(q("error_fill_field","Please fill this field")),assets:x().required(q("error_fill_field","Please fill this field")),assetsAmount:x().nullable(),existingLoans:x().required(q("error_fill_field","Please fill this field")),existingLoansBankName:x().nullable(),existingLoansAmount:x().nullable(),existingLoansType:x().nullable(),existingLoansMonthlyPayments:x().nullable(),existingLoansTermEnd:x().nullable(),creditCards:x().required(q("error_fill_field","Please fill this field")),creditCardsAmount:x().nullable(),creditCardsMonthlyPayments:x().nullable()}),PartnerIncomeForm:J().shape({yearsWork:x().required(q("error_fill_field","Please fill this field")),sphere:x().required(q("error_fill_field","Please fill this field")),monthlyIncomeNet:x().required(q("error_fill_field","Please fill this field")),monthlyIncomeGross:x().required(q("error_fill_field","Please fill this field")),additionalIncome:x().required(q("error_fill_field","Please fill this field")),additionalIncomeAmount:x().nullable(),monthlyOutgoings:x().required(q("error_fill_field","Please fill this field")),assets:x().required(q("error_fill_field","Please fill this field")),assetsAmount:x().nullable(),existingLoans:x().required(q("error_fill_field","Please fill this field")),existingLoansBankName:x().nullable(),existingLoansAmount:x().nullable(),existingLoansType:x().nullable(),existingLoansMonthlyPayments:x().nullable(),existingLoansTermEnd:x().nullable(),creditCards:x().required(q("error_fill_field","Please fill this field")),creditCardsAmount:x().nullable(),creditCardsMonthlyPayments:x().nullable()})}},Ga=x().required("מלא את השדה"),Se=x().test({name:"check-email",exclusive:!1,params:{},message:"",test:function(a){const{email:s}=this.parent;return s||a?!0:this.createError({message:"מלא את השדה"})}}).nullable(),Me=x().email("דואר שגוי").test({name:"check-phone",exclusive:!1,params:{},message:"",test:function(a){const{phone:s}=this.parent;return s||a?!0:this.createError({message:"מלא את השדה"})}}).nullable(),Be=x().test({test:a=>{if(!a)return;const s=[];if(/^(?=.{8,})/.test(a)||s.push("מינימום 8 תווים"),/^(?=.*[!@#\$%\^&\*])/.test(a)||s.push("חייבות להיות תווים מיוחדים"),/^(?=.*[0-9])/.test(a)||s.push("חייבים להיות מספרים"),/^(?=.*[A-Z, А-Я])/.test(a)||s.push("חייב להיות אותיות רישיות וקטנות"),s.length>0)throw new Re(s,a,"password");return!0}}).required("מלא את השדה"),Za={AuthFlow:{AuthForm:J().shape({phone:Se,email:Me,password:Be}),CodeVerify:J().shape({code:x().length(4,"").required("מלא את השדה")})},RestorePasswordFlow:{TypeVerify:J().shape({phone:Se,email:Me}),RestorePassword:J().shape({password:Be,confirmPassword:x().oneOf([we("password"),""],"סיסמה לא תואמת").nullable().required("מלא את השדה")})},SignUpFlow:{SignUpForm:J().shape({name:Ga,phone:Se,email:Me,password:Be,confirmPassword:x().oneOf([we("password"),""],"סיסמה לא תואמת").nullable().required("מלא את השדה")})}},Ka=x().required("Заполните поле"),Ae=x().test({name:"check-email",exclusive:!1,params:{},message:"",test:function(a){const{email:s}=this.parent;return s||a?!0:this.createError({message:"Заполните поле"})}}).nullable(),qe=x().email("Неправильная почта").test({name:"check-phone",exclusive:!1,params:{},message:"",test:function(a){const{phone:s}=this.parent;return s||a?!0:this.createError({message:"Заполните поле"})}}).nullable(),Le=x().test({test:a=>{if(!a)return;const s=[];if(/^(?=.{8,})/.test(a)||s.push("Минимум 8 символов"),/^(?=.*[!@#\$%\^&\*])/.test(a)||s.push("Обязательно должны быть специальные символы"),/^(?=.*[0-9])/.test(a)||s.push("Обязательно должны быть цифры"),/^(?=.*[A-Z, А-Я])/.test(a)||s.push("Обязательно должны быть заглавные и строчные буквы"),s.length>0)throw new Re(s,a,"password");return!0}}).required("Заполните поле"),Qa={AuthFlow:{AuthForm:J().shape({phone:Ae,email:qe,password:Le}),CodeVerify:J().shape({code:x().length(4,"").required("Заполните поле")})},RestorePasswordFlow:{TypeVerify:J().shape({phone:Ae,email:qe}),RestorePassword:J().shape({password:Le,confirmPassword:x().oneOf([we("password"),""],"Пароли не совпадают").nullable().required("Заполните поле")})},SignUpFlow:{SignUpForm:J().shape({name:Ka,phone:Ae,email:qe,password:Le,confirmPassword:x().oneOf([we("password"),""],"Пароли не совпадают").nullable().required("Заполните поле")})}},Ja="_button_154dz_1",Xa="_primary_154dz_12",et="_secondary_154dz_17",at="_disabled_154dz_22",Ne={button:Ja,primary:Xa,secondary:et,disabled:at};function He({children:a,variant:s,disabled:i,...n}){return e.jsx("button",{disabled:i,...n,className:ia(Ne.button,{primary:[Ne.primary],secondary:[Ne.secondary],disabled:[Ne.disabled]}[i?"disabled":s]),children:a})}const tt="_wrapper_47x9y_1",nt="_title_47x9y_7",st="_descr_47x9y_19",it="_verifyInputs_47x9y_26",lt="_sendAgainWrapper_47x9y_30",ot="_sendAgainButton_47x9y_45",rt="_disabled_47x9y_49",ct="_wrapperButtons_47x9y_55",dt="_confirm_47x9y_64",mt="_back_47x9y_74",ne={wrapper:tt,title:nt,descr:st,verifyInputs:it,sendAgainWrapper:lt,sendAgainButton:ot,disabled:rt,wrapperButtons:ct,confirm:dt,back:mt};function _t({title:a,handlePrevStep:s,handleNextStep:i,tab:n,textButton:t}){const r=aa(),{t:c,i18n:u}=O(),[P,b]=h.useState(!0),[v,M]=h.useState(0);h.useEffect(()=>{if(v>0){const g=setTimeout(()=>M(v-1),1e3);return()=>clearTimeout(g)}else v===0&&!P&&b(!0)},[v,P]);const S=async()=>{if(P)try{await new Promise(g=>setTimeout(g,1e3)),console.log("Email resend requested"),b(!1),M(60)}catch(g){console.error("❌ Failed to resend email code:",g)}},m=ta({initialValues:{code:r.values.code},onSubmit:async g=>{await i(g.code,m),await r.setValues({...r.values,...g})},validationSchema:u.language==="he"?Za.AuthFlow.CodeVerify:u.language==="en"?Wa.AuthFlow.CodeVerify:Qa.AuthFlow.CodeVerify,validateOnMount:!1});return e.jsxs("form",{className:ne.wrapper,onSubmit:m.handleSubmit,children:[e.jsx("h2",{className:ne.title,children:a}),(()=>{switch(n){case"phone":return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:ne.descr,children:[c("sms_phone")," ",r.values.phone]}),e.jsx("div",{className:ne.verifyInputs,children:e.jsx(Fe,{error:m.errors.code,otpValue:m.values.code||"",setOtpValue:g=>m.setFieldValue("code",g)})}),e.jsxs("div",{className:ne.sendAgainWrapper,children:[e.jsx("span",{children:c("not_received_sms")}),e.jsx("button",{type:"submit",className:ne.sendAgainButton,children:c("send_sms_code_again")})]})]});case"email":return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:ne.descr,children:[c("sms_email")," ",r.values.email]}),e.jsx("div",{className:ne.verifyInputs,children:e.jsx(Fe,{error:m.errors.code,otpValue:m.values.code||"",setOtpValue:g=>m.setFieldValue("code",g)})}),e.jsxs("div",{className:ne.sendAgainWrapper,children:[e.jsx("span",{children:c("not_received_sms")}),P?e.jsx("button",{type:"button",className:ne.sendAgainButton,onClick:S,children:c("send_sms_code_again")}):e.jsxs("span",{className:`${ne.sendAgainButton} ${ne.disabled}`,children:[c("send_sms_code_again")," (",v,"s)"]})]})]});default:return null}})(),e.jsxs("div",{className:ne.wrapperButtons,children:[e.jsx(He,{variant:"primary",disabled:!(m.isValid&&m.dirty),type:"submit",className:ne.confirm,children:t}),e.jsx(He,{variant:"secondary",onClick:s,type:"button",children:c("back")})]})]})}const ut={"modal-backdrop":"_modal-backdrop_19pjw_1","modal-container":"_modal-container_19pjw_15","modal-content":"_modal-content_19pjw_26","close-button":"_close-button_19pjw_31"},ke=D.bind(ut),ht=()=>e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),pt=({isOpen:a,email:s,onClose:i,onSuccess:n,onBack:t})=>{const{t:r}=O(),[c,u]=h.useState(!1),P={code:null,email:s,phone:null},b=J().shape({code:x().length(4,r("code_length_error","Код должен содержать 4 цифры")).required(r("code_required","Код обязателен"))}),v=async S=>{u(!0);try{await new Promise(m=>setTimeout(m,1e3)),n()}catch(m){throw console.error("Email verification failed:",m),m}finally{u(!1)}},M=S=>{S.target===S.currentTarget&&i()};return a?e.jsx("div",{className:ke("modal-backdrop"),onClick:M,children:e.jsx("div",{className:ke("modal-container"),children:e.jsxs("div",{className:ke("modal-content"),children:[e.jsx("button",{className:ke("close-button"),onClick:i,type:"button","aria-label":r("close","Закрыть"),children:e.jsx(ht,{})}),e.jsx(Ge,{initialValues:P,validationSchema:b,onSubmit:S=>{},children:e.jsx(Ze,{children:e.jsx(_t,{title:r("please_check_email","Пожалуйста проверьте Email"),tab:"email",handleNextStep:v,handlePrevStep:t,textButton:r("confirm","Подтвердить")})})})]})})}):null},xt={"modal-backdrop":"_modal-backdrop_1md37_1","modal-container":"_modal-container_1md37_15","modal-content":"_modal-content_1md37_25","modal-header":"_modal-header_1md37_29","modal-title":"_modal-title_1md37_36","close-button":"_close-button_1md37_45","modal-form":"_modal-form_1md37_66","input-group":"_input-group_1md37_72","email-input":"_email-input_1md37_78","agreement-section":"_agreement-section_1md37_105","warning-section":"_warning-section_1md37_111","warning-title":"_warning-title_1md37_119","warning-details":"_warning-details_1md37_128","confirmation-section":"_confirmation-section_1md37_143","confirmation-text":"_confirmation-text_1md37_148","confirmation-detail":"_confirmation-detail_1md37_157","agreement-text":"_agreement-text_1md37_166","checkbox-group":"_checkbox-group_1md37_190","checkbox-label":"_checkbox-label_1md37_196","checkbox-input":"_checkbox-input_1md37_208","checkbox-custom":"_checkbox-custom_1md37_215","checkbox-text":"_checkbox-text_1md37_249","agreement-link":"_agreement-link_1md37_254","button-group":"_button-group_1md37_264","continue-button":"_continue-button_1md37_269"},Y=D.bind(xt),bt=()=>e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),gt=({isOpen:a,onClose:s,onSuccess:i,currentEmail:n})=>{const{t}=O(),r=X(),[c,u]=h.useState(""),[P,b]=h.useState(!1),[v,M]=h.useState(!1);h.useEffect(()=>{n&&a&&u(n)},[n,a]);const S=async o=>{if(o.preventDefault(),!(!c.trim()||!P)){M(!0);try{await new Promise(B=>setTimeout(B,1e3)),i&&i(c),s()}catch(B){console.error("Error changing email:",B)}finally{M(!1)}}},m=o=>{u(o.target.value)},g=o=>{b(o.target.checked)},p=()=>{r("/terms")},_=o=>{o.target===o.currentTarget&&s()};return a?e.jsx("div",{className:Y("modal-backdrop"),onClick:_,children:e.jsx("div",{className:Y("modal-container"),children:e.jsxs("div",{className:Y("modal-content"),children:[e.jsxs("div",{className:Y("modal-header"),children:[e.jsx("h2",{className:Y("modal-title"),children:t("change_email","Изменить email")}),e.jsx("button",{className:Y("close-button"),onClick:s,type:"button",children:e.jsx(bt,{})})]}),e.jsxs("form",{onSubmit:S,className:Y("modal-form"),children:[e.jsx("div",{className:Y("input-group"),children:e.jsx("input",{type:"email",value:c,onChange:m,className:Y("email-input"),placeholder:t("new_email_placeholder","Введите новый email"),required:!0,autoFocus:!0})}),e.jsxs("div",{className:Y("warning-section"),children:[e.jsx("h3",{className:Y("warning-title"),children:t("email_change_title","Что произойдет после смены email?")}),e.jsxs("div",{className:Y("warning-details"),children:[e.jsx("p",{children:t("email_warning_p1","Как владелец старого адреса электронной почты, вы предоставляете владельцу нового адреса электронной почты полный доступ ко всей информации на панели клиентов «Bankimonline Dashboard» и истории разговоров в службе поддержки")}),e.jsx("p",{children:t("email_warning_p2","Старый адрес электронной почты больше не будет получать системные напоминания и уведомления или будут перенаправлены на адрес электронной почты")}),e.jsx("p",{children:t("email_warning_p3","Вы должны подтвердить свой новый адрес электронной почты, введя код который придет на новый адрес электронной почты")}),e.jsx("p",{children:t("email_warning_p4","У вас не будет доступа к вашей учетной записи с прежним адресом электронной почты после завершения процесса проверки.")})]}),e.jsxs("div",{className:Y("confirmation-section"),children:[e.jsx("p",{className:Y("confirmation-text"),children:t("email_confirmation","Я подтверждаю, что:")}),e.jsx("p",{className:Y("confirmation-detail"),children:t("email_confirmation_detail1","• Я являюсь владельцем нового адреса электронной почты (согласно условиям пользовательского соглашения)")}),e.jsx("p",{className:Y("confirmation-detail"),children:t("email_confirmation_detail2","• Я являюсь владельцем этой учетной записи Bankimonline и прошу изменить адрес электронной почты учетной записи.")})]})]}),e.jsxs("div",{className:Y("agreement-section"),children:[e.jsxs("div",{className:Y("agreement-text"),children:[e.jsx("p",{children:t("email_change_agreement","Изменяя email, вы соглашаетесь с тем, что:")}),e.jsxs("ul",{children:[e.jsx("li",{children:t("agreement_point_1","Новый email станет вашим основным способом входа в систему")}),e.jsx("li",{children:t("agreement_point_2","На новый email будут отправляться все уведомления и документы")}),e.jsx("li",{children:t("agreement_point_3","Вы подтверждаете, что имеете доступ к указанному email адресу")}),e.jsx("li",{children:t("agreement_point_4","Изменение email может потребовать повторной верификации аккаунта")})]})]}),e.jsx("div",{className:Y("checkbox-group"),children:e.jsxs("label",{className:Y("checkbox-label"),children:[e.jsx("input",{type:"checkbox",checked:P,onChange:g,className:Y("checkbox-input")}),e.jsx("span",{className:Y("checkbox-custom")}),e.jsxs("span",{className:Y("checkbox-text"),children:[t("agree_to_terms_start","Я согласен с условиями")," ",e.jsx("span",{className:Y("agreement-link"),onClick:p,children:t("user_agreement","пользовательского соглашения")})," ",t("and_email_change","и изменения email")]})]})})]}),e.jsx("div",{className:Y("button-group"),children:e.jsx("button",{type:"submit",className:Y("continue-button"),disabled:!c.trim()||!P||v,children:v?t("loading","Загрузка..."):t("continue","Продолжить")})})]})]})})}):null},ft={"modal-backdrop":"_modal-backdrop_56m5m_1","modal-container":"_modal-container_56m5m_15","modal-content":"_modal-content_56m5m_25","modal-header":"_modal-header_56m5m_29","modal-title":"_modal-title_56m5m_36","close-button":"_close-button_56m5m_45","modal-form":"_modal-form_56m5m_66","input-group":"_input-group_56m5m_72","email-input":"_email-input_56m5m_78","button-group":"_button-group_56m5m_105","continue-button":"_continue-button_56m5m_110","input-label":"_input-label_56m5m_194","phone-input-wrapper":"_phone-input-wrapper_56m5m_202","country-select":"_country-select_56m5m_208","phone-input":"_phone-input_56m5m_202","warning-section":"_warning-section_56m5m_246","warning-title":"_warning-title_56m5m_254","warning-details":"_warning-details_56m5m_263","confirmation-section":"_confirmation-section_56m5m_278","confirmation-text":"_confirmation-text_56m5m_283","legal-section":"_legal-section_56m5m_292","legal-text":"_legal-text_56m5m_296","legal-link":"_legal-link_56m5m_305","checkbox-section":"_checkbox-section_56m5m_314","checkbox-label":"_checkbox-label_56m5m_321","checkbox-input":"_checkbox-input_56m5m_333","checkbox-custom":"_checkbox-custom_56m5m_337","checkbox-text":"_checkbox-text_56m5m_369"},U=D.bind(ft),jt=()=>e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),vt=({isOpen:a,onClose:s,onSuccess:i,currentPhone:n="+972 50 123 4567"})=>{const{t}=O(),r=X(),[c,u]=h.useState("+972"),[P,b]=h.useState(n.replace("+972 ","")),[v,M]=h.useState(!1),[S,m]=h.useState(!1),g=async d=>{if(d.preventDefault(),!(!P.trim()||!v)){m(!0);try{await new Promise(C=>setTimeout(C,1e3));const l=`${c} ${P}`;i&&i(l)}catch(l){console.error("Error changing phone:",l)}finally{m(!1)}}},p=d=>{b(d.target.value)},_=d=>{u(d.target.value)},o=()=>{r("/terms")},B=P.trim()&&v,f=d=>{d.target===d.currentTarget&&s()};return a?e.jsx("div",{className:U("modal-backdrop"),onClick:f,children:e.jsx("div",{className:U("modal-container"),children:e.jsxs("div",{className:U("modal-content"),children:[e.jsx("button",{className:U("close-button"),onClick:s,type:"button","aria-label":t("close","Закрыть"),children:e.jsx(jt,{})}),e.jsx("div",{className:U("modal-header"),children:e.jsx("h2",{className:U("modal-title"),children:t("change_phone","Изменить номер телефона")})}),e.jsxs("form",{onSubmit:g,className:U("modal-form"),children:[e.jsxs("div",{className:U("input-group"),children:[e.jsx("label",{className:U("input-label"),children:t("new_phone_number","Новый номер телефона")}),e.jsxs("div",{className:U("phone-input-wrapper"),children:[e.jsxs("select",{value:c,onChange:_,className:U("country-select"),children:[e.jsx("option",{value:"+972",children:"🇮🇱 +972"}),e.jsx("option",{value:"+1",children:"🇺🇸 +1"}),e.jsx("option",{value:"+7",children:"🇷🇺 +7"}),e.jsx("option",{value:"+44",children:"🇬🇧 +44"}),e.jsx("option",{value:"+49",children:"🇩🇪 +49"})]}),e.jsx("input",{type:"tel",value:P,onChange:p,className:U("phone-input"),placeholder:"50 123 4567",required:!0,autoFocus:!0})]})]}),e.jsxs("div",{className:U("warning-section"),children:[e.jsx("h3",{className:U("warning-title"),children:t("phone_change_title","Что произойдет после смены номера телефона?")}),e.jsxs("div",{className:U("warning-details"),children:[e.jsx("p",{children:t("phone_warning_p1","Как владелец старого номера телефона, вы предоставляете владельцу нового номера телефона полный доступ ко всей информации на панели клиентов «Bankimonline Dashboards» и истории разговоров в службе поддержки")}),e.jsx("p",{children:t("phone_warning_p2","Старый номер телефона больше не будет получать системные напоминания и уведомления или будут перенаправлены на новый номер телефона")}),e.jsx("p",{children:t("phone_warning_p3","Вы должны подтвердить свой новый номер телефона, введя код который придет на новый номер телефона")}),e.jsx("p",{children:t("phone_warning_p4","У вас не будет доступа к вашей учетной записи с прежним номером телефона после завершения процесса проверки.")})]}),e.jsxs("div",{className:U("confirmation-section"),children:[e.jsx("p",{className:U("confirmation-text"),children:t("phone_confirmation_text","Я подтверждаю, что:")}),e.jsx("p",{children:t("phone_confirmation_p1","Я являюсь владельцем нового номера телефона (согласно условиям пользовательского соглашения)")}),e.jsx("p",{children:t("phone_confirmation_p2","Я являюсь владельцем этой учетной записи Bankimonline и прошу изменить номер телефона.")})]})]}),e.jsx("div",{className:U("legal-section"),children:e.jsxs("p",{className:U("legal-text"),children:[t("agreement_prefix","Я прочитал и согласен с условиями")," ",e.jsx("span",{className:U("legal-link"),onClick:o,children:t("user_agreement","пользовательского соглашения")})]})}),e.jsx("div",{className:U("checkbox-section"),children:e.jsxs("label",{className:U("checkbox-label"),children:[e.jsx("input",{type:"checkbox",checked:v,onChange:d=>M(d.target.checked),className:U("checkbox-input")}),e.jsx("span",{className:U("checkbox-custom")}),e.jsx("span",{className:U("checkbox-text"),children:t("agree_to_terms","Я прочитал и согласен с условиями")})]})}),e.jsx("div",{className:U("button-group"),children:e.jsx("button",{type:"submit",className:U("continue-button"),disabled:!B||S,children:S?t("loading","Загрузка..."):t("continue","Продолжить")})})]})]})})}):null},yt={"modal-backdrop":"_modal-backdrop_1llxd_1","modal-container":"_modal-container_1llxd_15","modal-content":"_modal-content_1llxd_25","modal-header":"_modal-header_1llxd_29","modal-title":"_modal-title_1llxd_36","close-button":"_close-button_1llxd_45","modal-form":"_modal-form_1llxd_66","input-group":"_input-group_1llxd_72","field-label":"_field-label_1llxd_78","password-input-wrapper":"_password-input-wrapper_1llxd_87","password-input":"_password-input_1llxd_87","password-toggle":"_password-toggle_1llxd_120","button-group":"_button-group_1llxd_146","continue-button":"_continue-button_1llxd_152"},W=D.bind(yt),Nt=()=>e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),Te=()=>e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),$e=()=>e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),kt=({isOpen:a,onClose:s,onSuccess:i})=>{const{t:n}=O(),[t,r]=h.useState(""),[c,u]=h.useState(""),[P,b]=h.useState(""),[v,M]=h.useState(!1),[S,m]=h.useState(!1),[g,p]=h.useState(!1),[_,o]=h.useState(!1),B=async d=>{if(d.preventDefault(),!(!t.trim()||!c.trim()||!P.trim())){if(c!==P){alert(n("passwords_dont_match","Пароли не совпадают"));return}M(!0);try{await new Promise(l=>setTimeout(l,1e3)),i&&i(),s()}catch(l){console.error("Error changing password:",l)}finally{M(!1)}}},f=d=>{d.target===d.currentTarget&&s()};return a?e.jsx("div",{className:W("modal-backdrop"),onClick:f,children:e.jsx("div",{className:W("modal-container"),children:e.jsxs("div",{className:W("modal-content"),children:[e.jsxs("div",{className:W("modal-header"),children:[e.jsx("h2",{className:W("modal-title"),children:n("change_password","Изменить Пароль")}),e.jsx("button",{className:W("close-button"),onClick:s,type:"button",children:e.jsx(Nt,{})})]}),e.jsxs("form",{onSubmit:B,className:W("modal-form"),children:[e.jsxs("div",{className:W("input-group"),children:[e.jsx("label",{className:W("field-label"),children:n("current_password_label","Текущий пароль")}),e.jsxs("div",{className:W("password-input-wrapper"),children:[e.jsx("input",{type:S?"text":"password",value:t,onChange:d=>r(d.target.value),className:W("password-input"),placeholder:n("enter_password","Введите пароль"),required:!0,autoFocus:!0}),e.jsx("button",{type:"button",className:W("password-toggle"),onClick:()=>m(!S),children:S?e.jsx($e,{}):e.jsx(Te,{})})]})]}),e.jsxs("div",{className:W("input-group"),children:[e.jsx("label",{className:W("field-label"),children:n("new_password_label","Придумайте пароль")}),e.jsxs("div",{className:W("password-input-wrapper"),children:[e.jsx("input",{type:g?"text":"password",value:c,onChange:d=>u(d.target.value),className:W("password-input"),placeholder:n("enter_password","Введите пароль"),required:!0}),e.jsx("button",{type:"button",className:W("password-toggle"),onClick:()=>p(!g),children:g?e.jsx($e,{}):e.jsx(Te,{})})]})]}),e.jsxs("div",{className:W("input-group"),children:[e.jsx("label",{className:W("field-label"),children:n("confirm_password_label","Повторите пароль")}),e.jsxs("div",{className:W("password-input-wrapper"),children:[e.jsx("input",{type:_?"text":"password",value:P,onChange:d=>b(d.target.value),className:W("password-input"),placeholder:n("enter_password","Введите пароль"),required:!0}),e.jsx("button",{type:"button",className:W("password-toggle"),onClick:()=>o(!_),children:_?e.jsx($e,{}):e.jsx(Te,{})})]})]}),e.jsx("div",{className:W("button-group"),children:e.jsx("button",{type:"submit",className:W("continue-button"),disabled:!t.trim()||!c.trim()||!P.trim()||v,children:v?n("loading","Загрузка..."):n("continue","Продолжить")})})]})]})})}):null},wt="_error_z2qbh_113",Ct={"modal-backdrop":"_modal-backdrop_z2qbh_1","modal-container":"_modal-container_z2qbh_15","modal-content":"_modal-content_z2qbh_25","modal-header":"_modal-header_z2qbh_29","modal-title":"_modal-title_z2qbh_36","close-button":"_close-button_z2qbh_45","modal-form":"_modal-form_z2qbh_66","input-group":"_input-group_z2qbh_72","field-label":"_field-label_z2qbh_78","name-input":"_name-input_z2qbh_87",error:wt,"error-message":"_error-message_z2qbh_118","button-group":"_button-group_z2qbh_130","save-button":"_save-button_z2qbh_135"},le=D.bind(Ct),Pt=()=>e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),St=({isOpen:a,onClose:s,currentName:i="",onSuccess:n})=>{const{t}=O(),[r,c]=h.useState(i),[u,P]=h.useState(!1),[b,v]=h.useState(""),M=p=>{if(!p.trim())return t("name_required","Имя и фамилия обязательны");if(p.trim().split(/\s+/).length<2)return t("full_name_required","Введите имя и фамилию");const o=/^[а-яё\s]+$/i,B=/^[a-z\s]+$/i,f=/^[\u0590-\u05FF\s]+$/i,d=o.test(p)||B.test(p),l=f.test(p)||B.test(p);return!d&&!l?t("invalid_name_format","Используйте только буквы"):""},S=async p=>{p.preventDefault();const _=M(r);if(_){v(_);return}P(!0),v("");try{await new Promise(o=>setTimeout(o,1e3)),n&&n(r.trim()),s()}catch(o){console.error("Error changing name:",o),v(t("change_name_error","Ошибка при изменении имени"))}finally{P(!1)}},m=p=>{p.target===p.currentTarget&&s()},g=()=>{c(i),v(""),s()};return a?e.jsx("div",{className:le("modal-backdrop"),onClick:m,children:e.jsx("div",{className:le("modal-container"),children:e.jsxs("div",{className:le("modal-content"),children:[e.jsxs("div",{className:le("modal-header"),children:[e.jsx("h2",{className:le("modal-title"),children:t("change_name_title","Изменить Фамилию Имя")}),e.jsx("button",{className:le("close-button"),onClick:g,type:"button",children:e.jsx(Pt,{})})]}),e.jsxs("form",{onSubmit:S,className:le("modal-form"),children:[e.jsxs("div",{className:le("input-group"),children:[e.jsx("label",{className:le("field-label"),children:t("full_name_label","Фамилия Имя")}),e.jsx("input",{type:"text",value:r,onChange:p=>{c(p.target.value),b&&v("")},className:le("name-input",{error:!!b}),placeholder:t("enter_full_name","Введите Фамилию Имя"),required:!0,autoFocus:!0}),b&&e.jsx("div",{className:le("error-message"),children:b})]}),e.jsx("div",{className:le("button-group"),children:e.jsx("button",{type:"submit",className:le("save-button"),disabled:!r.trim()||u,children:u?t("loading","Загрузка..."):t("save","Сохранить")})})]})]})})}):null},Mt="_dragging_1vof6_68",Bt={"modal-container":"_modal-container_1vof6_1","modal-content":"_modal-content_1vof6_6","modal-header":"_modal-header_1vof6_13","modal-title":"_modal-title_1vof6_20","close-button":"_close-button_1vof6_29","upload-section":"_upload-section_1vof6_50","upload-area":"_upload-area_1vof6_54",dragging:Mt,"upload-icon":"_upload-icon_1vof6_74","upload-text":"_upload-text_1vof6_87","computer-button":"_computer-button_1vof6_95","camera-button":"_camera-button_1vof6_110","preview-section":"_preview-section_1vof6_141","preview-container":"_preview-container_1vof6_145","preview-image":"_preview-image_1vof6_155","file-info":"_file-info_1vof6_161","file-name":"_file-name_1vof6_164","file-size":"_file-size_1vof6_172","change-file-button":"_change-file-button_1vof6_179","error-message":"_error-message_1vof6_194","button-group":"_button-group_1vof6_206","upload-button":"_upload-button_1vof6_211"},Q=D.bind(Bt),At=({isOpen:a,onClose:s,onSave:i})=>{const{t:n}=O(),[t,r]=h.useState(null),[c,u]=h.useState(""),[P,b]=h.useState(!1),[v,M]=h.useState(""),S=h.useRef(null),m=A=>["image/jpeg","image/jpg","image/png","image/gif"].includes(A.type)?A.size>5242880?n("file_size_error"):"":n("file_type_error"),g=A=>{const V=m(A);if(V){M(V);return}M(""),r(A);const Z=URL.createObjectURL(A);u(Z)},p=A=>{var Z;const V=(Z=A.target.files)==null?void 0:Z[0];V&&g(V)},_=A=>{A.preventDefault(),b(!0)},o=A=>{A.preventDefault(),b(!1)},B=A=>{A.preventDefault(),b(!1);const V=A.dataTransfer.files[0];V&&g(V)},f=()=>{var A;(A=S.current)==null||A.click()},d=()=>{S.current&&(S.current.setAttribute("capture","environment"),S.current.click())},l=()=>{t&&(i(t),C())},C=()=>{r(null),u(""),M(""),b(!1),c&&URL.revokeObjectURL(c),s()},w=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e.jsx(je,{isVisible:a,onCancel:C,className:Q("modal-container"),children:e.jsxs("div",{className:Q("modal-content"),children:[e.jsxs("div",{className:Q("modal-header"),children:[e.jsx("h2",{className:Q("modal-title"),children:n("upload_profile_photo_title")}),e.jsx("button",{className:Q("close-button"),onClick:C,children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),e.jsxs("div",{className:Q("upload-section"),children:[t?e.jsxs("div",{className:Q("preview-section"),children:[e.jsx("div",{className:Q("preview-container"),children:e.jsx("img",{src:c,alt:"Preview",className:Q("preview-image")})}),e.jsxs("div",{className:Q("file-info"),children:[e.jsx("p",{className:Q("file-name"),children:t.name}),e.jsxs("p",{className:Q("file-size"),children:[(t.size/1024/1024).toFixed(2)," MB"]})]}),e.jsx("button",{className:Q("change-file-button"),onClick:()=>{r(null),u(""),M("")},children:n("change_file")})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:Q("upload-area",{dragging:P}),onDragOver:_,onDragLeave:o,onDrop:B,children:[e.jsx("div",{className:Q("upload-icon"),children:e.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsxs("div",{className:Q("upload-text"),children:[e.jsx("p",{children:n("drag_drop_file")}),e.jsx("button",{type:"button",className:Q("computer-button"),onClick:f,children:n("use_computer")})]})]}),w&&e.jsxs("button",{className:Q("camera-button"),onClick:d,children:[e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z",stroke:"currentColor",strokeWidth:"2"}),e.jsx("circle",{cx:"12",cy:"13",r:"4",stroke:"currentColor",strokeWidth:"2"})]}),n("take_photo_mobile")]})]}),v&&e.jsx("div",{className:Q("error-message"),children:v})]}),e.jsx("div",{className:Q("button-group"),children:e.jsx("button",{type:"button",className:Q("upload-button"),disabled:!t,onClick:l,children:n("upload")})}),e.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:p,style:{display:"none"}})]})})},qt="_modalEnter_raqa7_1",Lt={"modal-overlay":"_modal-overlay_raqa7_2","modal-container":"_modal-container_raqa7_18",modalEnter:qt,"modal-header":"_modal-header_raqa7_41","close-button":"_close-button_raqa7_47","modal-content":"_modal-content_raqa7_71","success-icon-container":"_success-icon-container_raqa7_82","modal-title":"_modal-title_raqa7_93","appointment-details":"_appointment-details_raqa7_109","detail-item":"_detail-item_raqa7_124","detail-label":"_detail-label_raqa7_139","detail-value":"_detail-value_raqa7_147","modal-description":"_modal-description_raqa7_156","continue-button":"_continue-button_raqa7_171"},K=D.bind(Lt),Tt=({isOpen:a,onClose:s,appointmentData:i})=>{const{t:n}=O(),t=X();if(!a)return null;const r=u=>u?new Date(u).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"}):"",c=()=>{s(),t("/personal-cabinet")};return e.jsx("div",{className:K("modal-overlay"),children:e.jsxs("div",{className:K("modal-container"),children:[e.jsx("div",{className:K("modal-header"),children:e.jsx("button",{type:"button",onClick:s,className:K("close-button"),"aria-label":n("close","Закрыть"),children:"×"})}),e.jsxs("div",{className:K("modal-content"),children:[e.jsx("div",{className:K("success-icon-container"),children:e.jsx(ze,{size:80})}),e.jsx("h2",{className:K("modal-title"),children:n("meeting_scheduled_title","Встреча назначена!")}),i&&e.jsxs("div",{className:K("appointment-details"),children:[e.jsxs("div",{className:K("detail-item"),children:[e.jsxs("span",{className:K("detail-label"),children:[n("city","Город"),":"]}),e.jsx("span",{className:K("detail-value"),children:i.city})]}),e.jsxs("div",{className:K("detail-item"),children:[e.jsxs("span",{className:K("detail-label"),children:[n("bank_branch","Филиал банка"),":"]}),e.jsx("span",{className:K("detail-value"),children:i.branch})]}),e.jsxs("div",{className:K("detail-item"),children:[e.jsxs("span",{className:K("detail-label"),children:[n("meeting_date","Дата встречи"),":"]}),e.jsx("span",{className:K("detail-value"),children:r(i.date)})]}),e.jsxs("div",{className:K("detail-item"),children:[e.jsxs("span",{className:K("detail-label"),children:[n("meeting_time","Время встречи"),":"]}),e.jsx("span",{className:K("detail-value"),children:i.time})]})]}),e.jsx("p",{className:K("modal-description"),children:n("meeting_confirmation_message","Ваша встреча с банком успешно назначена. Вы получите подтверждение на указанный email.")}),e.jsx("button",{type:"button",onClick:c,className:K("continue-button"),children:n("continue_to_personal_cabinet","Продолжить в личный кабинет")})]})]})})},$t="_modalEnter_2y72m_1",Et={"modal-overlay":"_modal-overlay_2y72m_2","modal-container":"_modal-container_2y72m_18",modalEnter:$t,"modal-header":"_modal-header_2y72m_40","close-button":"_close-button_2y72m_46","modal-content":"_modal-content_2y72m_70","success-icon-container":"_success-icon-container_2y72m_81","modal-title":"_modal-title_2y72m_92","modal-description":"_modal-description_2y72m_111","continue-button":"_continue-button_2y72m_131"},me=D.bind(Et),zt=({isOpen:a,onClose:s})=>{const{t:i}=O(),n=X();if(!a)return null;const t=()=>{s(),n("/services")};return e.jsx("div",{className:me("modal-overlay"),children:e.jsxs("div",{className:me("modal-container"),children:[e.jsx("div",{className:me("modal-header"),children:e.jsx("button",{type:"button",onClick:s,className:me("close-button"),"aria-label":i("close","Закрыть"),children:"×"})}),e.jsxs("div",{className:me("modal-content"),children:[e.jsx("div",{className:me("success-icon-container"),children:e.jsx(ze,{size:80})}),e.jsx("h2",{className:me("modal-title"),children:i("application_submitted_title","Заявку приняли в обработку")}),e.jsx("p",{className:me("modal-description"),children:i("application_submitted_description","Ответ от банков по вашей заявке поступит в течение 2-3 рабочих дней. Мы пришлем вам Уведомления об ответе по SMS или Email.")}),e.jsx("button",{type:"button",onClick:t,className:me("continue-button"),children:i("go_to_program_selection","На страницу выбора программы")})]})]})})},Rt="_modalEnter_1unln_1",Ft={"modal-overlay":"_modal-overlay_1unln_2","modal-container":"_modal-container_1unln_18",modalEnter:Rt,"modal-header":"_modal-header_1unln_45","close-button":"_close-button_1unln_51","modal-content":"_modal-content_1unln_75","success-icon-container":"_success-icon-container_1unln_86","modal-title":"_modal-title_1unln_97","modal-description":"_modal-description_1unln_113","return-button":"_return-button_1unln_129"},_e=D.bind(Ft),It=({isOpen:a,onClose:s})=>{const{t:i}=O(),n=X();if(!a)return null;const t=()=>{s(),n("/personal-cabinet")};return e.jsx("div",{className:_e("modal-overlay"),children:e.jsxs("div",{className:_e("modal-container"),children:[e.jsx("div",{className:_e("modal-header"),children:e.jsx("button",{type:"button",onClick:s,className:_e("close-button"),"aria-label":i("close","Закрыть"),children:"×"})}),e.jsxs("div",{className:_e("modal-content"),children:[e.jsx("div",{className:_e("success-icon-container"),children:e.jsx(ze,{size:80})}),e.jsx("h2",{className:_e("modal-title"),children:i("payment_success_title","Оплата прошла успешно.")}),e.jsx("p",{className:_e("modal-description"),children:i("payment_success_description","Теперь вам доступны названия банков и вы сможете оформить ипотеку или кредит на самых выгодных условиях.")}),e.jsx("button",{type:"button",onClick:t,className:_e("return-button"),children:i("return_to_cabinet","Вернуться")})]})]})})},Dt="_modalEnter_13sek_1",Vt="_checkmark_13sek_233",Ot={"modal-overlay":"_modal-overlay_13sek_2","modal-container":"_modal-container_13sek_18",modalEnter:Dt,"modal-header":"_modal-header_13sek_46","modal-title":"_modal-title_13sek_58","close-button":"_close-button_13sek_72","modal-content":"_modal-content_13sek_96","payment-description":"_payment-description_13sek_106","payment-method-section":"_payment-method-section_13sek_123","section-title":"_section-title_13sek_132","card-selection":"_card-selection_13sek_148","card-option":"_card-option_13sek_154","card-container":"_card-container_13sek_158","card-container--selected":"_card-container--selected_13sek_173","visa-logo":"_visa-logo_13sek_178","card-info":"_card-info_13sek_195","card-number":"_card-number_13sek_202","card-expiry":"_card-expiry_13sek_210","selection-indicator":"_selection-indicator_13sek_218","selection-indicator--selected":"_selection-indicator--selected_13sek_228",checkmark:Vt,"add-card-button":"_add-card-button_13sek_241","plus-icon":"_plus-icon_13sek_265","agreement-section":"_agreement-section_13sek_272","checkbox-group":"_checkbox-group_13sek_285","checkbox-label":"_checkbox-label_13sek_291","checkbox-input":"_checkbox-input_13sek_303","checkbox-custom":"_checkbox-custom_13sek_310","checkbox-text":"_checkbox-text_13sek_345","agreement-link":"_agreement-link_13sek_349","payment-total":"_payment-total_13sek_360","total-label":"_total-label_13sek_375","total-amount":"_total-amount_13sek_388","button-group":"_button-group_13sek_402","back-button":"_back-button_13sek_414","payment-button":"_payment-button_13sek_447","payment-button--disabled":"_payment-button--disabled_13sek_464"},$=D.bind(Ot),Ut=[{id:"1",number:"**** **** **** 2345",name:"Срок действия: 14/28",type:"visa",selected:!0}],Yt=({isOpen:a,onClose:s,amount:i=1999})=>{const{t:n}=O(),t=X(),[r,c]=h.useState("1"),[u,P]=h.useState(!1),[b,v]=h.useState(!1),[M,S]=h.useState(!1);if(!a)return null;const m=()=>{!r||!u||!b||(s(),t("/personal-cabinet",{state:{showPaymentConfirmation:!0}}))},g=()=>{S(!0)},p=()=>{s()},_=()=>{t("/privacy-policy")},o=r&&u&&b;return e.jsx("div",{className:$("modal-overlay"),children:e.jsxs("div",{className:$("modal-container"),children:[e.jsxs("div",{className:$("modal-header"),children:[e.jsx("h2",{className:$("modal-title"),children:n("payment_modal_title","Оплата")}),e.jsx("button",{type:"button",onClick:s,className:$("close-button"),"aria-label":n("close","Закрыть"),children:"×"})]}),e.jsxs("div",{className:$("modal-content"),children:[e.jsx("p",{className:$("payment-description"),children:n("payment_description","Оплатите услуги Bankinonline и получайте лучшие индивидуальные предложения от банков.")}),e.jsxs("div",{className:$("payment-method-section"),children:[e.jsx("h3",{className:$("section-title"),children:n("payment_method_title","Метод оплаты")}),e.jsxs("div",{className:$("card-selection"),children:[Ut.map(B=>e.jsx("div",{className:$("card-option"),children:e.jsxs("div",{className:$("card-container",{"card-container--selected":r===B.id}),onClick:()=>c(B.id),children:[e.jsx("div",{className:$("visa-logo"),children:e.jsx("span",{children:"VISA"})}),e.jsxs("div",{className:$("card-info"),children:[e.jsx("div",{className:$("card-number"),children:B.number}),e.jsx("div",{className:$("card-expiry"),children:B.name})]}),e.jsx("div",{className:$("selection-indicator",{"selection-indicator--selected":r===B.id}),children:r===B.id&&e.jsx("div",{className:$("checkmark"),children:"✓"})})]})},B.id)),e.jsxs("button",{type:"button",onClick:g,className:$("add-card-button"),children:[e.jsx("span",{className:$("plus-icon"),children:"+"}),n("add_card","Добавить карту")]})]})]}),e.jsxs("div",{className:$("agreement-section"),children:[e.jsx("div",{className:$("checkbox-group"),children:e.jsxs("label",{className:$("checkbox-label"),children:[e.jsx("input",{type:"checkbox",checked:u,onChange:B=>P(B.target.checked),className:$("checkbox-input")}),e.jsx("span",{className:$("checkbox-custom")}),e.jsxs("span",{className:$("checkbox-text"),children:[n("privacy_agreement_start","Я согласен с условиями обработки и использования моих персональных данных, определенными")," ",e.jsx("span",{className:$("agreement-link"),onClick:_,children:n("privacy_policy","Политикой конфиденциальности")})]})]})}),e.jsx("div",{className:$("checkbox-group"),children:e.jsxs("label",{className:$("checkbox-label"),children:[e.jsx("input",{type:"checkbox",checked:b,onChange:B=>v(B.target.checked),className:$("checkbox-input")}),e.jsx("span",{className:$("checkbox-custom")}),e.jsx("span",{className:$("checkbox-text"),children:n("terms_agreement_text","Мне известно, что если я предоставил неверные и / или ошибочные данные, а также данные, которые невозможно подтвердить соответствующими документами, у банка есть полное право отозвать сделанное ранее предложение по ипотечной или кредитной программе.")})]})})]}),e.jsxs("div",{className:$("payment-total"),children:[e.jsx("span",{className:$("total-label"),children:n("total_payment","Итого к оплате")}),e.jsxs("span",{className:$("total-amount"),children:[i.toLocaleString("ru-RU")," ₪"]})]}),e.jsxs("div",{className:$("button-group"),children:[e.jsx("button",{type:"button",onClick:p,className:$("back-button"),children:n("button_back","Назад")}),e.jsxs("button",{type:"button",onClick:m,disabled:!o,className:$("payment-button",{"payment-button--disabled":!o}),children:[n("payment_button","Оплатить")," ",i.toLocaleString("ru-RU")," ₪"]})]})]})]})})},Ht="_modalEnter_z2aq6_1",Wt={"modal-overlay":"_modal-overlay_z2aq6_2","modal-container":"_modal-container_z2aq6_18",modalEnter:Ht,"modal-header":"_modal-header_z2aq6_48","close-button":"_close-button_z2aq6_54","modal-content":"_modal-content_z2aq6_79","modal-title":"_modal-title_z2aq6_90","modal-description":"_modal-description_z2aq6_105","price-container":"_price-container_z2aq6_121","price-label":"_price-label_z2aq6_135","price-amount":"_price-amount_z2aq6_145","offer-highlights":"_offer-highlights_z2aq6_159","offer-item":"_offer-item_z2aq6_169","offer-icon":"_offer-icon_z2aq6_188","modal-actions":"_modal-actions_z2aq6_204","back-button":"_back-button_z2aq6_217","pay-button":"_pay-button_z2aq6_252","background-blur":"_background-blur_z2aq6_287","blur-overlay":"_blur-overlay_z2aq6_304"},G=D.bind(Wt),Gt=({isOpen:a,onClose:s,amount:i=1999})=>{const{t:n}=O(),t=X();if(!a)return null;const r=()=>{s(),t("/services")},c=()=>{s(),t("/personal-cabinet",{state:{showPaymentModal:!0,paymentAmount:i}})},u=()=>{s(),t("/services/documents")},P=b=>{b.target===b.currentTarget&&r()};return e.jsx("div",{className:G("modal-overlay"),onClick:P,children:e.jsxs("div",{className:G("modal-container"),children:[e.jsx("div",{className:G("modal-header"),children:e.jsx("button",{type:"button",onClick:r,className:G("close-button"),"aria-label":n("close","Закрыть"),children:"×"})}),e.jsxs("div",{className:G("modal-content"),children:[e.jsx("h2",{className:G("modal-title"),children:n("offer_modal_title","Лучшие предложение от всех банков")}),e.jsx("p",{className:G("modal-description"),children:n("offer_modal_description","Получите доступ к персональным предложениям от ведущих банков Израиля. Сравните условия и выберите лучший вариант для себя.")}),e.jsxs("div",{className:G("price-container"),children:[e.jsx("div",{className:G("price-label"),children:n("offer_price_label","Всего за")}),e.jsxs("div",{className:G("price-amount"),children:[i.toLocaleString()," ₪"]})]}),e.jsxs("div",{className:G("offer-highlights"),children:[e.jsxs("div",{className:G("offer-item"),children:[e.jsx("span",{className:G("offer-icon"),children:"✓"}),e.jsx("span",{children:n("offer_highlight_1","Персональные предложения от 15+ банков")})]}),e.jsxs("div",{className:G("offer-item"),children:[e.jsx("span",{className:G("offer-icon"),children:"✓"}),e.jsx("span",{children:n("offer_highlight_2","Сравнение условий в реальном времени")})]}),e.jsxs("div",{className:G("offer-item"),children:[e.jsx("span",{className:G("offer-icon"),children:"✓"}),e.jsx("span",{children:n("offer_highlight_3","Экономия до 50,000 ₪ на процентах")})]}),e.jsxs("div",{className:G("offer-item"),children:[e.jsx("span",{className:G("offer-icon"),children:"✓"}),e.jsx("span",{children:n("offer_highlight_4","Гарантия лучшей ставки")})]})]}),e.jsxs("div",{className:G("modal-actions"),children:[e.jsx("button",{type:"button",onClick:u,className:G("back-button"),children:n("back","Назад")}),e.jsx("button",{type:"button",onClick:c,className:G("pay-button"),children:n("pay_button","Заплатить")})]})]}),e.jsx("div",{className:G("background-blur"),children:e.jsx("div",{className:G("blur-overlay")})})]})})},Zt=({isOpen:a,onClose:s,programData:i})=>{const t=i||{title:"Программа ипотечного кредитования",description:"Подробное описание программы ипотечного кредитования с выгодными условиями для клиентов.",conditionFinance:"₪ 500,000 - ₪ 2,000,000",conditionPeriod:"5-30 лет",conditionBid:"2.5% - 4.5%"};return e.jsx(la,{isVisible:a,onClose:s,title:t.title,description:t.description,conditionFinance:t.conditionFinance,conditionPeriod:t.conditionPeriod,conditionBid:t.conditionBid})},Kt={"personal-cabinet":"_personal-cabinet_1wj4g_1","modal-container":"_modal-container_1wj4g_34","ant-modal-content":"_ant-modal-content_1wj4g_34","ant-modal-header":"_ant-modal-header_1wj4g_39","ant-modal-body":"_ant-modal-body_1wj4g_44","ant-modal-close":"_ant-modal-close_1wj4g_47","modal-content":"_modal-content_1wj4g_51","modal-header":"_modal-header_1wj4g_60","icon-container":"_icon-container_1wj4g_68","icon-circle":"_icon-circle_1wj4g_74","delete-icon":"_delete-icon_1wj4g_93","modal-title":"_modal-title_1wj4g_99","co-borrower-name":"_co-borrower-name_1wj4g_110","button-group":"_button-group_1wj4g_119","confirm-button":"_confirm-button_1wj4g_126","cancel-button":"_cancel-button_1wj4g_127"},de=D.bind(Kt),Qt=({isOpen:a,onClose:s,onConfirm:i,coBorrowerName:n})=>{const{t}=O(),r=X(),c=()=>{i(),s(),r("/personal-cabinet")},u=()=>{s()};return e.jsx(je,{isVisible:a,onCancel:u,className:de("modal-container"),children:e.jsxs("div",{className:de("modal-content"),children:[e.jsxs("div",{className:de("modal-header"),children:[e.jsx("div",{className:de("icon-container"),children:e.jsx("div",{className:de("icon-circle"),children:e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",className:de("delete-icon"),children:e.jsx("path",{d:"M3 6h18M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2m3 0v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6h14zM10 11v6M14 11v6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),e.jsx("h2",{className:de("modal-title"),children:t("delete_co_borrower_confirmation","Вы уверены, что хотите удалить созаемщика?")}),n&&e.jsx("p",{className:de("co-borrower-name"),children:n})]}),e.jsxs("div",{className:de("button-group"),children:[e.jsx("button",{type:"button",className:de("confirm-button"),onClick:c,children:t("confirm","Подтвердить")}),e.jsx("button",{type:"button",className:de("cancel-button"),onClick:u,children:t("cancel","Отменить")})]})]})})},Jt="_selected_1eg32_130",Xt="_checkbox_1eg32_163",en="_checked_1eg32_179",an={"personal-cabinet":"_personal-cabinet_1eg32_1","modal-container":"_modal-container_1eg32_34","ant-modal-content":"_ant-modal-content_1eg32_34","ant-modal-header":"_ant-modal-header_1eg32_41","ant-modal-body":"_ant-modal-body_1eg32_46","ant-modal-close":"_ant-modal-close_1eg32_49","modal-content":"_modal-content_1eg32_53","close-button":"_close-button_1eg32_62","modal-header":"_modal-header_1eg32_92","modal-title":"_modal-title_1eg32_97","co-borrowers-list":"_co-borrowers-list_1eg32_107","co-borrower-card":"_co-borrower-card_1eg32_114",selected:Jt,"co-borrower-name":"_co-borrower-name_1eg32_134","co-borrower-info":"_co-borrower-info_1eg32_143","co-borrower-phone":"_co-borrower-phone_1eg32_157","checkbox-container":"_checkbox-container_1eg32_163",checkbox:Xt,checked:en,"button-group":"_button-group_1eg32_189","continue-button":"_continue-button_1eg32_196","skip-button":"_skip-button_1eg32_197"},ae=D.bind(an),tn=({isOpen:a,onClose:s,onContinue:i,onSkip:n,coBorrowers:t=[]})=>{const{t:r}=O(),c=X(),u=[{id:"co1",name:"Людмила Пушкина",phone:"+972 50 123 4567",isSelected:!0},{id:"co2",name:"Николай Сергеев",phone:"+972 54 987 6543",isSelected:!1}],P=t.length>0?t:u,[b,v]=h.useState(P.filter(p=>p.isSelected).map(p=>p.id)),M=()=>{s()},S=p=>{v(_=>_.includes(p)?_.filter(o=>o!==p):[..._,p])},m=()=>{i(b),s(),c("/personal-cabinet/application-accepted")},g=()=>{n(),s(),c("/personal-cabinet/application-accepted")};return e.jsx(je,{isVisible:a,onCancel:M,className:ae("modal-container"),children:e.jsxs("div",{className:ae("modal-content"),children:[e.jsx("button",{type:"button",className:ae("close-button"),onClick:M,"aria-label":r("close","Закрыть"),children:"×"}),e.jsx("div",{className:ae("modal-header"),children:e.jsx("h2",{className:ae("modal-title"),children:r("select_co_borrowers_for_program","Выберите созаемщиков для программы")})}),e.jsx("div",{className:ae("co-borrowers-list"),children:P.map(p=>e.jsxs("div",{className:ae("co-borrower-card",{selected:b.includes(p.id)}),onClick:()=>S(p.id),children:[e.jsxs("div",{className:ae("co-borrower-info"),children:[e.jsx("div",{className:ae("co-borrower-name"),children:p.name}),p.phone&&e.jsx("div",{className:ae("co-borrower-phone"),children:p.phone})]}),e.jsx("div",{className:ae("checkbox-container"),children:e.jsx("div",{className:ae("checkbox",{checked:b.includes(p.id)}),children:b.includes(p.id)&&e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M13.5 4.5L6 12L2.5 8.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})})]},p.id))}),e.jsxs("div",{className:ae("button-group"),children:[e.jsx("button",{type:"button",className:ae("continue-button"),onClick:m,disabled:b.length===0,children:r("continue","Дальше")}),e.jsx("button",{type:"button",className:ae("skip-button"),onClick:g,children:r("skip_step","Пропустить шаг")})]})]})})},nn="_container_f54uf_2",sn="_header_f54uf_11",ln="_selected_f54uf_91",on="_checkmark_f54uf_203",rn="_checkmarkAppear_f54uf_1",cn="_rate_f54uf_260",dn="_payment_f54uf_264",mn="_disabled_f54uf_297",_n="_loading_f54uf_315",un={container:nn,header:sn,"return-button":"_return-button_f54uf_17","title-section":"_title-section_f54uf_40","page-title":"_page-title_f54uf_45","page-subtitle":"_page-subtitle_f54uf_53","controls-section":"_controls-section_f54uf_61","sort-control":"_sort-control_f54uf_72","sort-label":"_sort-label_f54uf_78","selection-info":"_selection-info_f54uf_85","selected-count":"_selected-count_f54uf_91","programs-grid":"_programs-grid_f54uf_102","program-card":"_program-card_f54uf_109",selected:ln,"bank-header":"_bank-header_f54uf_149","bank-logo":"_bank-logo_f54uf_157","logo-placeholder":"_logo-placeholder_f54uf_168","bank-info":"_bank-info_f54uf_174","bank-name":"_bank-name_f54uf_179","program-name":"_program-name_f54uf_187","selection-indicator":"_selection-indicator_f54uf_194",checkmark:on,checkmarkAppear:rn,"program-details":"_program-details_f54uf_231","detail-row":"_detail-row_f54uf_238","detail-label":"_detail-label_f54uf_249","detail-value":"_detail-value_f54uf_255",rate:cn,payment:dn,"program-description":"_program-description_f54uf_269","actions-section":"_actions-section_f54uf_277","continue-button":"_continue-button_f54uf_284",disabled:mn,loading:_n},L=D.bind(un),hn=()=>{const{t:a,i18n:s}=O(),i=X();pe();const[n,t]=h.useState([]),[r,c]=h.useState(!0),[u,P]=h.useState("rate"),[b,v]=h.useState([]);fe(o=>o.mortgage),h.useEffect(()=>{(async()=>{try{c(!0),t([{id:"hapoalim-prime",bankName:"Bank Hapoalim",programName:"Прайм %",interestRate:2.1,monthlyPayment:4500,loanAmount:1e6,termYears:20,description:"Prime rate linked mortgage program"},{id:"hapoalim-fixed",bankName:"Bank Hapoalim",programName:"Фиксированная % с индексацией",interestRate:3.2,monthlyPayment:4800,loanAmount:1e6,termYears:20,description:"Fixed rate with inflation adjustment"},{id:"hapoalim-variable",bankName:"Bank Hapoalim",programName:"Переменная % с индексацией",interestRate:2.8,monthlyPayment:4650,loanAmount:1e6,termYears:20,description:"Variable rate with inflation adjustment"},{id:"leumi-prime",bankName:"Bank Leumi",programName:"Прайм %",interestRate:2.3,monthlyPayment:4550,loanAmount:1e6,termYears:20,description:"Prime rate linked mortgage program"},{id:"leumi-fixed",bankName:"Bank Leumi",programName:"Фиксированная % с индексацией",interestRate:3.1,monthlyPayment:4750,loanAmount:1e6,termYears:20,description:"Fixed rate with inflation adjustment"},{id:"mizrahi-prime",bankName:"Mizrahi Tefahot",programName:"Прайм %",interestRate:2.2,monthlyPayment:4525,loanAmount:1e6,termYears:20,description:"Prime rate linked mortgage program"}])}catch{console.warn("⚠️ [PROGRAM-SELECTION] Failed to fetch programs")}finally{c(!1)}})()},[]);const M=[{value:"rate",label:a("sort_by_rate","По процентной ставке")},{value:"payment",label:a("sort_by_payment","По ежемесячному платежу")},{value:"bank",label:a("sort_by_bank","По банку")}],S=[...n].sort((o,B)=>{switch(u){case"rate":return o.interestRate-B.interestRate;case"payment":return o.monthlyPayment-B.monthlyPayment;case"bank":return o.bankName.localeCompare(B.bankName);default:return 0}}),m=()=>{i("/personal-cabinet")},g=o=>{v(B=>B.includes(o)?B.filter(f=>f!==o):[...B,o])},p=()=>{if(b.length===0){alert(a("select_program_warning","Пожалуйста, выберите хотя бы одну программу"));return}const o=n.filter(B=>b.includes(B.id));i("/personal-cabinet/program-selection-calculation",{state:{selectedPrograms:o}})},_=o=>o.charAt(0).toUpperCase();return r?e.jsx("div",{className:L("container"),children:e.jsx("div",{className:L("loading"),children:a("loading","Загрузка...")})}):e.jsxs("div",{className:L("container"),children:[e.jsx("div",{className:L("header"),children:e.jsxs("button",{className:L("return-button"),onClick:m,"aria-label":a("return_to_cabinet","Вернуться в личный кабинет"),children:[e.jsx(Ce,{size:20,color:"#ffffff",style:{transform:"rotate(180deg)"}}),a("return_to_cabinet","Вернуться в личный кабинет")]})}),e.jsxs("div",{className:L("title-section"),children:[e.jsx("h1",{className:L("page-title"),children:a("program_selection_title","Выбор программ окончательный расчет")}),e.jsx("p",{className:L("page-subtitle"),children:a("program_selection_subtitle","Выберите подходящие программы ипотечного кредитования")})]}),e.jsxs("div",{className:L("controls-section"),children:[e.jsxs("div",{className:L("sort-control"),children:[e.jsx("label",{className:L("sort-label"),children:a("sort_programs","Сортировать программы")}),e.jsx(ue,{data:M,placeholder:a("select_sort","Выберите сортировку"),value:u,onChange:P})]}),e.jsx("div",{className:L("selection-info"),children:e.jsxs("span",{className:L("selected-count"),children:[a("selected_programs","Выбрано программ"),": ",b.length]})})]}),e.jsx("div",{className:L("programs-grid"),children:S.map(o=>e.jsxs("div",{className:L("program-card",{selected:b.includes(o.id)}),onClick:()=>g(o.id),children:[e.jsxs("div",{className:L("bank-header"),children:[e.jsx("div",{className:L("bank-logo"),children:e.jsx("div",{className:L("logo-placeholder"),children:_(o.bankName)})}),e.jsxs("div",{className:L("bank-info"),children:[e.jsx("h3",{className:L("bank-name"),children:o.bankName}),e.jsx("p",{className:L("program-name"),children:o.programName})]}),e.jsx("div",{className:L("selection-indicator"),children:b.includes(o.id)&&e.jsx("div",{className:L("checkmark"),children:"✓"})})]}),e.jsxs("div",{className:L("program-details"),children:[e.jsxs("div",{className:L("detail-row"),children:[e.jsx("span",{className:L("detail-label"),children:a("loan_amount","Сумма кредита")}),e.jsxs("span",{className:L("detail-value"),children:[o.loanAmount.toLocaleString("en-US")," ₪"]})]}),e.jsxs("div",{className:L("detail-row"),children:[e.jsx("span",{className:L("detail-label"),children:a("interest_rate","Процентная ставка")}),e.jsxs("span",{className:L("detail-value","rate"),children:[o.interestRate,"%"]})]}),e.jsxs("div",{className:L("detail-row"),children:[e.jsx("span",{className:L("detail-label"),children:a("monthly_payment","Ежемесячный платеж")}),e.jsxs("span",{className:L("detail-value","payment"),children:[o.monthlyPayment.toLocaleString("en-US")," ₪"]})]}),e.jsxs("div",{className:L("detail-row"),children:[e.jsx("span",{className:L("detail-label"),children:a("loan_term","Срок кредита")}),e.jsxs("span",{className:L("detail-value"),children:[o.termYears," ",a("years","лет")]})]})]}),e.jsx("div",{className:L("program-description"),children:o.description})]},o.id))}),e.jsx("div",{className:L("actions-section"),children:e.jsx("button",{className:L("continue-button",{disabled:b.length===0}),onClick:p,disabled:b.length===0,children:a("continue_to_calculation","Продолжить к расчету")})})]})},pn="_container_13cuy_2",xn="_header_13cuy_11",bn="_success_13cuy_151",gn="_selected_13cuy_379",fn="_loading_13cuy_423",jn={container:pn,header:xn,"return-button":"_return-button_13cuy_17","title-section":"_title-section_13cuy_40","page-title":"_page-title_13cuy_45","controls-section":"_controls-section_13cuy_54","sort-control":"_sort-control_13cuy_65","sort-label":"_sort-label_13cuy_71","banks-grid":"_banks-grid_13cuy_79","bank-card":"_bank-card_13cuy_86","bank-header":"_bank-header_13cuy_102","bank-name":"_bank-name_13cuy_106","payment-warning":"_payment-warning_13cuy_114","warning-icon":"_warning-icon_13cuy_125","warning-text":"_warning-text_13cuy_133","alert-bar":"_alert-bar_13cuy_141",success:bn,"alert-icon":"_alert-icon_13cuy_157","alert-text":"_alert-text_13cuy_162","programs-section":"_programs-section_13cuy_167","program-card":"_program-card_13cuy_174","program-header":"_program-header_13cuy_186","program-indicator":"_program-indicator_13cuy_193","program-name":"_program-name_13cuy_201","info-icon":"_info-icon_13cuy_208","program-details":"_program-details_13cuy_227","detail-row":"_detail-row_13cuy_233","detail-label":"_detail-label_13cuy_245","detail-value":"_detail-value_13cuy_251","rate-section":"_rate-section_13cuy_258","term-section":"_term-section_13cuy_259","rate-icon":"_rate-icon_13cuy_265","calendar-icon":"_calendar-icon_13cuy_266","rate-info":"_rate-info_13cuy_279","term-info":"_term-info_13cuy_280","rate-value":"_rate-value_13cuy_286","term-value":"_term-value_13cuy_287","rate-label":"_rate-label_13cuy_294","term-label":"_term-label_13cuy_295","bank-summary":"_bank-summary_13cuy_303","summary-divider":"_summary-divider_13cuy_308","summary-row":"_summary-row_13cuy_314","summary-label":"_summary-label_13cuy_325","summary-value":"_summary-value_13cuy_331","payment-comparison":"_payment-comparison_13cuy_338","original-payment":"_original-payment_13cuy_345","crossed-out":"_crossed-out_13cuy_350","discounted-payment":"_discounted-payment_13cuy_355","select-bank-button":"_select-bank-button_13cuy_362",selected:gn,"actions-section":"_actions-section_13cuy_391","continue-button":"_continue-button_13cuy_399",loading:fn},y=D.bind(jn),vn=()=>{const{t:a,i18n:s}=O(),i=X();pe();const[n,t]=h.useState([]),[r,c]=h.useState(!0),[u,P]=h.useState("maxTerm"),[b,v]=h.useState([]);fe(_=>_.mortgage),h.useEffect(()=>{(async()=>{try{c(!0),t([{id:"bank-1",bankNumber:1,totalLoanAmount:1e6,totalPaymentAmount:11e5,originalTotalPaymentAmount:15e5,monthlyPayment:9e3,originalMonthlyPayment:12e3,programs:[{id:"bank-1-prime",bankNumber:1,programName:"Прайм",interestRate:2.1,monthlyPayment:3e3,loanAmount:5e5,termYears:20,totalPayment:72e4,originalTotalPayment:8e5,originalMonthlyPayment:3500,isRecommended:!0},{id:"bank-1-fixed",bankNumber:1,programName:"Фиксированный процент, зависящий от инфляции",interestRate:2.1,monthlyPayment:3e3,loanAmount:5e5,termYears:20,totalPayment:72e4,originalTotalPayment:8e5,originalMonthlyPayment:3500,isRecommended:!1},{id:"bank-1-variable",bankNumber:1,programName:"Плавающий процент, зависящий от инфляции",interestRate:2.1,monthlyPayment:3e3,loanAmount:5e5,termYears:20,totalPayment:72e4,originalTotalPayment:8e5,originalMonthlyPayment:3500,isRecommended:!1}]},{id:"bank-2",bankNumber:1,totalLoanAmount:1e6,totalPaymentAmount:11e5,originalTotalPaymentAmount:15e5,monthlyPayment:9e3,originalMonthlyPayment:12e3,programs:[{id:"bank-2-prime",bankNumber:1,programName:"Прайм",interestRate:2.1,monthlyPayment:3e3,loanAmount:5e5,termYears:20,totalPayment:72e4,originalTotalPayment:8e5,originalMonthlyPayment:3500,isRecommended:!0},{id:"bank-2-fixed",bankNumber:1,programName:"Фиксированный процент, зависящий от инфляции",interestRate:2.1,monthlyPayment:3e3,loanAmount:5e5,termYears:20,totalPayment:72e4,originalTotalPayment:8e5,originalMonthlyPayment:3500,isRecommended:!1},{id:"bank-2-variable",bankNumber:1,programName:"Плавающий процент, зависящий от инфляции",interestRate:2.1,monthlyPayment:3e3,loanAmount:5e5,termYears:20,totalPayment:72e4,originalTotalPayment:8e5,originalMonthlyPayment:3500,isRecommended:!1}]},{id:"bank-3",bankNumber:3,totalLoanAmount:1e6,totalPaymentAmount:11e5,originalTotalPaymentAmount:15e5,monthlyPayment:9e3,originalMonthlyPayment:12e3,programs:[{id:"bank-3-prime",bankNumber:3,programName:"Прайм",interestRate:2.1,monthlyPayment:3e3,loanAmount:5e5,termYears:20,totalPayment:72e4,originalTotalPayment:8e5,originalMonthlyPayment:3500,isRecommended:!0},{id:"bank-3-fixed",bankNumber:3,programName:"Фиксированный процент, зависящий от инфляции",interestRate:2.1,monthlyPayment:3e3,loanAmount:5e5,termYears:20,totalPayment:72e4,originalTotalPayment:8e5,originalMonthlyPayment:3500,isRecommended:!1},{id:"bank-3-variable",bankNumber:3,programName:"Плавающий процент, зависящий от инфляции",interestRate:2.1,monthlyPayment:3e3,loanAmount:5e5,termYears:20,totalPayment:72e4,originalTotalPayment:8e5,originalMonthlyPayment:3500,isRecommended:!1}]},{id:"bank-4",bankNumber:4,totalLoanAmount:1e6,totalPaymentAmount:11e5,originalTotalPaymentAmount:15e5,monthlyPayment:9e3,originalMonthlyPayment:12e3,programs:[{id:"bank-4-prime",bankNumber:4,programName:"Прайм",interestRate:2.1,monthlyPayment:3e3,loanAmount:5e5,termYears:20,totalPayment:72e4,originalTotalPayment:8e5,originalMonthlyPayment:3500,isRecommended:!0},{id:"bank-4-fixed",bankNumber:4,programName:"Фиксированный процент, зависящий от инфляции",interestRate:2.1,monthlyPayment:3e3,loanAmount:5e5,termYears:20,totalPayment:72e4,originalTotalPayment:8e5,originalMonthlyPayment:3500,isRecommended:!1},{id:"bank-4-variable",bankNumber:4,programName:"Плавающий процент, зависящий от инфляции",interestRate:2.1,monthlyPayment:3e3,loanAmount:5e5,termYears:20,totalPayment:72e4,originalTotalPayment:8e5,originalMonthlyPayment:3500,isRecommended:!1}]}])}catch{console.warn("⚠️ [HIDDEN-BANK-SELECTION] Failed to fetch hidden bank data")}finally{c(!1)}})()},[]);const M=[{value:"maxTerm",label:a("sort_by_max_term","Максимальный срок ипотеки")},{value:"rate",label:a("sort_by_rate","По процентной ставке")},{value:"payment",label:a("sort_by_payment","По ежемесячному платежу")}],S=[...n].sort((_,o)=>{switch(u){case"rate":const B=_.programs.reduce((C,w)=>C+w.interestRate,0)/_.programs.length,f=o.programs.reduce((C,w)=>C+w.interestRate,0)/o.programs.length;return B-f;case"payment":return _.monthlyPayment-o.monthlyPayment;case"maxTerm":const d=Math.max(..._.programs.map(C=>C.termYears));return Math.max(...o.programs.map(C=>C.termYears))-d;default:return 0}}),m=()=>{i("/personal-cabinet")},g=_=>{v(o=>o.includes(_)?o.filter(B=>B!==_):[...o,_])},p=()=>{if(b.length===0){alert(a("select_bank_warning","Пожалуйста, выберите хотя бы один банк"));return}const _=n.filter(o=>b.includes(o.id));i("/personal-cabinet/bank-confirmation",{state:{selectedBanks:_}})};return r?e.jsx("div",{className:y("container"),children:e.jsx("div",{className:y("loading"),children:a("loading","Загрузка...")})}):e.jsxs("div",{className:y("container"),children:[e.jsx("div",{className:y("header"),children:e.jsxs("button",{className:y("return-button"),onClick:m,"aria-label":a("return_to_cabinet","Вернуться в личный кабинет"),children:[e.jsx(Ce,{size:20,color:"#ffffff",style:{transform:"rotate(180deg)"}}),a("return_to_cabinet","Вернуться в личный кабинет")]})}),e.jsx("div",{className:y("title-section"),children:e.jsx("h1",{className:y("page-title"),children:a("hidden_bank_selection_title","Выберите подходящие программы")})}),e.jsx("div",{className:y("controls-section"),children:e.jsxs("div",{className:y("sort-control"),children:[e.jsx("label",{className:y("sort-label"),children:a("sort_by","Сортировать по")}),e.jsx(ue,{data:M,placeholder:a("select_sort","Выберите сортировку"),value:u,onChange:P})]})}),e.jsx("div",{className:y("banks-grid"),children:S.map(_=>e.jsxs("div",{className:y("bank-card"),children:[e.jsxs("div",{className:y("bank-header"),children:[e.jsxs("h2",{className:y("bank-name"),children:["Банк #",_.bankNumber]}),e.jsxs("div",{className:y("payment-warning"),children:[e.jsx("div",{className:y("warning-icon"),children:"⚠"}),e.jsx("span",{className:y("warning-text"),children:a("payment_warning","Чтобы увидеть название банка, оплатите услуги Bankimonline")})]})]}),e.jsxs("div",{className:y("alert-bar","success"),children:[e.jsx("div",{className:y("alert-icon"),children:"✓"}),e.jsx("span",{className:y("alert-text"),children:a("best_conditions","Лучшие условия, Меньше процент")})]}),e.jsx("div",{className:y("programs-section"),children:_.programs.map(o=>e.jsxs("div",{className:y("program-card"),children:[e.jsxs("div",{className:y("program-header"),children:[e.jsx("div",{className:y("program-indicator")}),e.jsx("span",{className:y("program-name"),children:o.programName}),e.jsx("div",{className:y("info-icon"),children:"ℹ"})]}),e.jsxs("div",{className:y("program-details"),children:[e.jsxs("div",{className:y("detail-row"),children:[e.jsx("span",{className:y("detail-label"),children:a("loan_amount","Сумма ипотеки")}),e.jsxs("span",{className:y("detail-value"),children:[o.loanAmount.toLocaleString("ru-RU")," ₪"]})]}),e.jsxs("div",{className:y("detail-row"),children:[e.jsx("span",{className:y("detail-label"),children:a("monthly_payment","Ежемесячный платеж")}),e.jsxs("span",{className:y("detail-value"),children:[o.monthlyPayment.toLocaleString("ru-RU")," ₪"]})]}),e.jsx("div",{className:y("detail-row"),children:e.jsxs("div",{className:y("rate-section"),children:[e.jsx("div",{className:y("rate-icon"),children:"%"}),e.jsxs("div",{className:y("rate-info"),children:[e.jsxs("span",{className:y("rate-value"),children:[o.interestRate>=2.1?"от ":"",o.interestRate,"%"]}),e.jsx("span",{className:y("rate-label"),children:a("interest_rate","Процент")})]})]})}),e.jsx("div",{className:y("detail-row"),children:e.jsxs("div",{className:y("term-section"),children:[e.jsx("div",{className:y("calendar-icon"),children:"📅"}),e.jsxs("div",{className:y("term-info"),children:[e.jsxs("span",{className:y("term-value"),children:[o.termYears," лет"]}),e.jsx("span",{className:y("term-label"),children:a("loan_term","Срок")})]})]})})]})]},o.id))}),e.jsxs("div",{className:y("bank-summary"),children:[e.jsx("div",{className:y("summary-divider")}),e.jsxs("div",{className:y("summary-row"),children:[e.jsx("span",{className:y("summary-label"),children:a("total_loan_amount","Cумма ипотеки")}),e.jsxs("span",{className:y("summary-value"),children:[_.totalLoanAmount.toLocaleString("ru-RU")," ₪"]})]}),e.jsxs("div",{className:y("summary-row"),children:[e.jsx("span",{className:y("summary-label"),children:a("total_payment_term","Сумма выплат за весь срок")}),e.jsxs("div",{className:y("payment-comparison"),children:[e.jsxs("span",{className:y("original-payment","crossed-out"),children:[_.originalTotalPaymentAmount.toLocaleString("ru-RU")," ₪"]}),e.jsxs("span",{className:y("discounted-payment"),children:[_.totalPaymentAmount.toLocaleString("ru-RU")," ₪"]})]})]}),e.jsxs("div",{className:y("summary-row"),children:[e.jsx("span",{className:y("summary-label"),children:a("monthly_payment","Ежемесячный платеж")}),e.jsxs("div",{className:y("payment-comparison"),children:[e.jsxs("span",{className:y("original-payment","crossed-out"),children:[_.originalMonthlyPayment.toLocaleString("ru-RU")," ₪"]}),e.jsxs("span",{className:y("discounted-payment"),children:[_.monthlyPayment.toLocaleString("ru-RU")," ₪"]})]})]})]}),e.jsx("button",{className:y("select-bank-button",{selected:b.includes(_.id)}),onClick:()=>g(_.id),children:b.includes(_.id)?a("bank_selected","Банк выбран"):a("select_bank","Выбрать банк")})]},_.id))}),b.length>0&&e.jsx("div",{className:y("actions-section"),children:e.jsx("button",{className:y("continue-button"),onClick:p,children:a("continue_to_next_step","Продолжить")})})]})},yn="_container_kxb60_2",Nn="_header_kxb60_11",kn="_parameters_kxb60_21",wn="_slider_kxb60_222",Cn="_loading_kxb60_378",Pn={container:yn,header:Nn,"calculation-parameters-section":"_calculation-parameters-section_kxb60_18",parameters:kn,"return-button":"_return-button_kxb60_27","bank-header":"_bank-header_kxb60_50","bank-info":"_bank-info_kxb60_55","bank-logo":"_bank-logo_kxb60_61","logo-placeholder":"_logo-placeholder_kxb60_74","bank-name":"_bank-name_kxb60_83","bank-action-label":"_bank-action-label_kxb60_90","summary-section":"_summary-section_kxb60_104","summary-grid":"_summary-grid_kxb60_112","summary-item":"_summary-item_kxb60_118","summary-label":"_summary-label_kxb60_124","summary-value":"_summary-value_kxb60_130","savings-section":"_savings-section_kxb60_137","savings-box":"_savings-box_kxb60_145","savings-label":"_savings-label_kxb60_151","savings-value":"_savings-value_kxb60_157","programs-section":"_programs-section_kxb60_164","program-card":"_program-card_kxb60_171","program-header":"_program-header_kxb60_179","program-title":"_program-title_kxb60_187","program-controls":"_program-controls_kxb60_195","control-row":"_control-row_kxb60_201","control-group":"_control-group_kxb60_207","control-label":"_control-label_kxb60_214","slider-group":"_slider-group_kxb60_222","slider-container":"_slider-container_kxb60_226",slider:wn,"slider-labels":"_slider-labels_kxb60_271","warning-message":"_warning-message_kxb60_280","warning-icon":"_warning-icon_kxb60_291","warning-text":"_warning-text_kxb60_296","action-label":"_action-label_kxb60_303","actions-section":"_actions-section_kxb60_318","back-button":"_back-button_kxb60_327","submit-button":"_submit-button_kxb60_347",loading:Cn},j=D.bind(Pn),Sn=()=>{var he;const{t:a,i18n:s}=O(),i=X(),n=pe(),[t,r]=h.useState(null),[c,u]=h.useState([]),[P,b]=h.useState(!0),[v,M]=h.useState([{id:"program1",title:"Программа #1",programType:"prime",paymentType:"annuity",monthlyPayment:1e6,term:10,mortgageAmount:1e6,minMonthlyPayment:2259,maxMonthlyPayment:30259,minTerm:48,maxTerm:360,minMortgageAmount:1e5,maxMortgageAmount:2e6},{id:"program2",title:"Программа #2",programType:"fixed_inflation",paymentType:"annuity",monthlyPayment:1e6,term:1e6,mortgageAmount:1e6,minMonthlyPayment:48,maxMonthlyPayment:360,minTerm:48,maxTerm:360,minMortgageAmount:1e5,maxMortgageAmount:2e6},{id:"program3",title:"Программа #3",programType:"variable_inflation",paymentType:"annuity",monthlyPayment:1e6,term:1e6,mortgageAmount:1e6,minMonthlyPayment:48,maxMonthlyPayment:360,minTerm:48,maxTerm:360,minMortgageAmount:1e5,maxMortgageAmount:2e6}]),S=fe(k=>k.mortgage),m=fe(k=>k.refinanceMortgage),[g,p]=h.useState("mortgage");h.useEffect(()=>{var k,z;if((k=n.state)!=null&&k.serviceType)p(n.state.serviceType);else{const H=document.referrer;if(H.includes("refinance-mortgage"))p("refinance-mortgage");else if(H.includes("calculate-mortgage"))p("mortgage");else{const ee=!!(m!=null&&m.priceOfEstate||m!=null&&m.mortgageBalance),F=!!(S!=null&&S.priceOfEstate||S!=null&&S.initialFee);p(ee&&!F?"refinance-mortgage":"mortgage")}}(z=n.state)!=null&&z.selectedBankOffer?r(n.state.selectedBankOffer):r({id:"hapoalim",bank_name:"Банк Hapoalim",loan_amount:1e6,monthly_payment:5e3,total_payment:15e5,interest_rate:2.1,term_years:20})},[n.state,m,S]),h.useEffect(()=>{(async()=>{try{b(!0);const z=await Ke(),H=s.language||"en",ee=z.map(F=>({id:F.id,title:H==="he"?F.title:H==="ru"?F.title_ru:F.title_en,description:H==="he"?F.description:H==="ru"?F.description_ru:F.description_en,conditionFinance:H==="he"?F.conditionFinance:H==="ru"?F.conditionFinance_ru:F.conditionFinance_en,conditionPeriod:H==="he"?F.conditionPeriod:H==="ru"?F.conditionPeriod_ru:F.conditionPeriod_en,conditionBid:H==="he"?F.conditionBid:H==="ru"?F.conditionBid_ru:F.conditionBid_en,interestRate:F.interestRate,termYears:F.termYears}));u(ee)}catch{console.warn("⚠️ [PROGRAM-SELECTION] Failed to fetch programs, using fallback"),u([{id:"prime",title:a("mortgage_prime_percent","Прайм %"),description:a("prime_description","Prime rate linked mortgage program"),conditionFinance:a("up_to_33_percent","До 33%"),conditionPeriod:a("4_to_30_years","4-30 лет"),conditionBid:a("prime_rate_structure","Variable + Fixed components"),interestRate:2.1,termYears:20},{id:"fixed_inflation",title:a("mortgage_fix_percent","Фиксированная % с индексацией"),description:a("fixed_inflation_description","Fixed rate with inflation adjustment"),conditionFinance:a("up_to_70_percent","До 70%"),conditionPeriod:a("5_to_30_years","5-30 лет"),conditionBid:a("fixed_rate_structure","Fixed rate structure"),interestRate:3.2,termYears:25},{id:"variable_inflation",title:a("mortgage_float_percent","Переменная % с индексацией"),description:a("variable_inflation_description","Variable rate with inflation adjustment"),conditionFinance:a("up_to_75_percent","До 75%"),conditionPeriod:a("4_to_25_years","4-25 лет"),conditionBid:a("variable_rate_structure","Variable rate structure"),interestRate:2.8,termYears:22}])}finally{b(!1)}})()},[a,s.language]);const _=c.map(k=>({value:k.id,label:k.title})),o=[{value:"annuity",label:a("payment_type_annuity","Аннуитетный")},{value:"differential",label:a("payment_type_differential","Дифференцированный")}],B=()=>{i("/personal-cabinet")},f=()=>{i(-1)},d=()=>{i("/personal-cabinet",{state:{showOfferModal:!0}})},l=(k,z,H)=>{M(ee=>ee.map(F=>F.id===k?{...F,[z]:H}:F))},w=(()=>{const k=v.reduce((xe,be)=>xe+be.mortgageAmount,0),z=v.reduce((xe,be)=>xe+be.monthlyPayment,0),H=Math.round(v.reduce((xe,be)=>xe+be.term,0)/v.length),ee=z*H,F=ee*.1;return{totalMortgageAmount:k,totalMonthlyPayment:z,totalPayment:ee,savings:F}})(),A=()=>g==="refinance-mortgage"?m:S,V=()=>{const k=A();let z=(k==null?void 0:k.priceOfEstate)||0,H=0,ee=0,F=(k==null?void 0:k.period)||0;return g==="refinance-mortgage"?(ee=(k==null?void 0:k.mortgageBalance)||0,H=0):(H=(k==null?void 0:k.initialFee)||0,ee=z-H),!z&&!ee&&!F&&(g==="refinance-mortgage"?(z=15e5,ee=1e6,H=0,F=20):(z=2e6,H=5e5,ee=z-H,F=25)),{cost:z,initialPayment:H,period:F,credit:ee,onEditClick:()=>i(Z())}},Z=()=>g==="refinance-mortgage"?"/services/refinance-mortgage/1":"/services/calculate-mortgage/1";return P?e.jsx("div",{className:j("container"),children:e.jsx("div",{className:j("loading"),children:a("loading","Загрузка...")})}):e.jsxs("div",{className:j("container"),children:[e.jsx("div",{className:j("header"),children:e.jsxs("button",{className:j("return-button"),onClick:B,"aria-label":a("return_to_cabinet","Вернуться в личный кабинет"),children:[e.jsx(Ce,{size:20,color:"#ffffff",style:{transform:"rotate(180deg)"}}),a("return_to_cabinet","Вернуться в личный кабинет")]})}),e.jsx("div",{className:j("calculation-parameters-section"),children:e.jsx(oa,{...V()})}),e.jsx("div",{className:j("bank-header"),children:e.jsxs("div",{className:j("bank-info"),children:[e.jsx("div",{className:j("bank-logo"),children:e.jsx("div",{className:j("logo-placeholder"),children:((he=t==null?void 0:t.bank_name)==null?void 0:he.charAt(0))||"H"})}),e.jsx("h2",{className:j("bank-name"),children:(t==null?void 0:t.bank_name)||"Банк Hapoalim"}),e.jsx("div",{className:j("bank-action-label"),children:a("bank_action_3","Действие #3")})]})}),e.jsxs("div",{className:j("summary-section"),children:[e.jsxs("div",{className:j("summary-grid"),children:[e.jsxs("div",{className:j("summary-item"),children:[e.jsx("span",{className:j("summary-label"),children:a("full_mortgage_amount","Полная сумма ипотеки")}),e.jsxs("span",{className:j("summary-value"),children:[w.totalMortgageAmount.toLocaleString("en-US")," ₪"]})]}),e.jsxs("div",{className:j("summary-item"),children:[e.jsx("span",{className:j("summary-label"),children:a("payment_amount_for_entire_period","Сумма выплат за весь срок")}),e.jsxs("span",{className:j("summary-value"),children:[w.totalPayment.toLocaleString("en-US")," ₪"]})]}),e.jsxs("div",{className:j("summary-item"),children:[e.jsx("span",{className:j("summary-label"),children:a("monthly_payment","Ежемесячный платеж")}),e.jsxs("span",{className:j("summary-value"),children:[w.totalMonthlyPayment.toLocaleString("en-US")," ₪"]})]})]}),e.jsx("div",{className:j("action-label"),children:a("bank_action_4","Действие #4")})]}),e.jsxs("div",{className:j("savings-section"),children:[e.jsxs("div",{className:j("savings-box"),children:[e.jsx("span",{className:j("savings-label"),children:a("savings","Экономия")}),e.jsxs("span",{className:j("savings-value"),children:[w.savings.toLocaleString("en-US")," ₪"]})]}),e.jsx("div",{className:j("action-label"),children:a("bank_action_5","Действие #5")})]}),e.jsx("div",{className:j("programs-section"),children:v.map(k=>e.jsxs("div",{className:j("program-card"),children:[e.jsxs("div",{className:j("program-header"),children:[e.jsx("h3",{className:j("program-title"),children:k.title}),e.jsx("div",{className:j("action-label"),children:a("bank_action_6","Действие #6")})]}),e.jsxs("div",{className:j("program-controls"),children:[e.jsxs("div",{className:j("control-row"),children:[e.jsxs("div",{className:j("control-group"),children:[e.jsx("label",{className:j("control-label"),children:a("programs","Программы")}),e.jsx(ue,{data:_,placeholder:a("select_program","Выберите программу"),value:k.programType,onChange:z=>l(k.id,"programType",z)}),e.jsx("div",{className:j("action-label"),children:a("bank_action_7","Действие #7")})]}),e.jsxs("div",{className:j("control-group"),children:[e.jsx("label",{className:j("control-label"),children:a("payment_type","Тип платежа")}),e.jsx(ue,{data:o,placeholder:a("select_payment_type","Выберите тип платежа"),value:k.paymentType,onChange:z=>l(k.id,"paymentType",z)}),e.jsx("div",{className:j("action-label"),children:a("bank_action_8","Действие #8")})]})]}),e.jsxs("div",{className:j("control-row"),children:[e.jsxs("div",{className:j("control-group","slider-group"),children:[e.jsx("label",{className:j("control-label"),children:a("monthly_payment","Ежемесячный платеж")}),e.jsxs("div",{className:j("slider-container"),children:[e.jsx("input",{type:"range",min:k.minMonthlyPayment,max:k.maxMonthlyPayment,value:k.monthlyPayment,onChange:z=>l(k.id,"monthlyPayment",parseInt(z.target.value)),className:j("slider")}),e.jsxs("div",{className:j("slider-labels"),children:[e.jsxs("span",{children:[k.minMonthlyPayment.toLocaleString()," ₪"]}),e.jsxs("span",{children:[k.maxMonthlyPayment.toLocaleString()," ₪"]})]})]}),e.jsx(Pe,{placeholder:"1,000,000",value:k.monthlyPayment,handleChange:z=>l(k.id,"monthlyPayment",z)}),e.jsx("div",{className:j("action-label"),children:a("bank_action_9","Действие #9")})]}),e.jsxs("div",{className:j("control-group","slider-group"),children:[e.jsx("label",{className:j("control-label"),children:a("term","Срок")}),e.jsxs("div",{className:j("slider-container"),children:[e.jsx("input",{type:"range",min:k.minTerm,max:k.maxTerm,value:k.term,onChange:z=>l(k.id,"term",parseInt(z.target.value)),className:j("slider")}),e.jsxs("div",{className:j("slider-labels"),children:[e.jsxs("span",{children:[k.minTerm," ",a("months","мес")]}),e.jsxs("span",{children:[k.maxTerm," ",a("months","мес")]})]})]}),e.jsx(Pe,{placeholder:"1,000,000",value:k.term,handleChange:z=>l(k.id,"term",z)}),e.jsx("div",{className:j("action-label"),children:a("bank_action_10","Действие #10")})]})]}),e.jsx("div",{className:j("control-row"),children:e.jsxs("div",{className:j("control-group","slider-group"),children:[e.jsx("label",{className:j("control-label"),children:a("mortgage_amount","Сумма ипотеки")}),e.jsxs("div",{className:j("slider-container"),children:[e.jsx("input",{type:"range",min:k.minMortgageAmount,max:k.maxMortgageAmount,value:k.mortgageAmount,onChange:z=>l(k.id,"mortgageAmount",parseInt(z.target.value)),className:j("slider")}),e.jsxs("div",{className:j("slider-labels"),children:[e.jsxs("span",{children:[k.minMortgageAmount.toLocaleString()," ₪"]}),e.jsxs("span",{children:[k.maxMortgageAmount.toLocaleString()," ₪"]})]})]}),e.jsx(Pe,{placeholder:"1,000,000",value:k.mortgageAmount,handleChange:z=>l(k.id,"mortgageAmount",z)}),e.jsx("div",{className:j("action-label"),children:a("bank_action_11","Действие #11")})]})}),e.jsxs("div",{className:j("warning-message"),children:[e.jsx("span",{className:j("warning-icon"),children:"⚠️"}),e.jsx("span",{className:j("warning-text"),children:a("increase_monthly_payment_warning","Увеличьте ежемесячный платеж и сократите срок кредитования для экономии")})]})]})]},k.id))}),e.jsxs("div",{className:j("actions-section"),children:[e.jsx("button",{className:j("back-button"),onClick:f,children:a("back","Назад")}),e.jsx("button",{className:j("submit-button"),onClick:d,children:a("submit_bank_application","Подать заявку в банк")})]})]})},Mn="_container_4xbsk_2",Bn="_header_4xbsk_13",An="_title_4xbsk_47",qn="_loading_4xbsk_184",Ln={container:Mn,header:Bn,"back-button":"_back-button_4xbsk_22",title:An,"bank-header":"_bank-header_4xbsk_55","bank-info":"_bank-info_4xbsk_63","bank-logo":"_bank-logo_4xbsk_69","logo-placeholder":"_logo-placeholder_4xbsk_80","bank-name":"_bank-name_4xbsk_87","offer-summary":"_offer-summary_4xbsk_95","summary-grid":"_summary-grid_4xbsk_103","summary-item":"_summary-item_4xbsk_109","summary-label":"_summary-label_4xbsk_115","summary-value":"_summary-value_4xbsk_121","programs-section":"_programs-section_4xbsk_128","programs-title":"_programs-title_4xbsk_132","programs-grid":"_programs-grid_4xbsk_139","confirmation-section":"_confirmation-section_4xbsk_146","confirm-button":"_confirm-button_4xbsk_153",loading:qn},I=D.bind(Ln),Tn=()=>{var S,m,g;const{t:a,i18n:s}=O(),i=X(),n=pe(),[t,r]=h.useState(null),[c,u]=h.useState([]),[P,b]=h.useState(!0);fe(p=>p.mortgage),h.useEffect(()=>{var p;if((p=n.state)!=null&&p.selectedBankOffer)r(n.state.selectedBankOffer);else{console.warn("🚨 [BANK-CONFIRMATION] No bank selected, redirecting to services"),i("/services/calculate-mortgage/fourth-step");return}},[n.state,i]),h.useEffect(()=>{t&&(async()=>{try{b(!0);const _=await Ke(),o=s.language||"en",B=_.map(f=>({id:f.id,title:o==="he"?f.title:o==="ru"?f.title_ru:f.title_en,description:o==="he"?f.description:o==="ru"?f.description_ru:f.description_en,conditionFinance:o==="he"?f.conditionFinance:o==="ru"?f.conditionFinance_ru:f.conditionFinance_en,conditionPeriod:o==="he"?f.conditionPeriod:o==="ru"?f.conditionPeriod_ru:f.conditionPeriod_en,conditionBid:o==="he"?f.conditionBid:o==="ru"?f.conditionBid_ru:f.conditionBid_en,interestRate:f.interestRate,termYears:f.termYears}));u(B)}catch{console.warn("⚠️ [BANK-CONFIRMATION] Failed to fetch programs, using fallback"),u([{id:"prime",title:a("mortgage_prime_percent","Прайм %"),description:a("prime_description","Prime rate linked mortgage program"),conditionFinance:a("up_to_33_percent","До 33%"),conditionPeriod:a("4_to_30_years","4-30 лет"),conditionBid:a("prime_rate_structure","Variable + Fixed components"),interestRate:2.1,termYears:20},{id:"fixed_inflation",title:a("mortgage_fix_percent","Фиксированная % с индексацией"),description:a("fixed_inflation_description","Fixed rate with inflation adjustment"),conditionFinance:a("up_to_70_percent","До 70%"),conditionPeriod:a("5_to_30_years","5-30 лет"),conditionBid:a("fixed_rate_structure","Fixed rate structure"),interestRate:3.2,termYears:25},{id:"variable_inflation",title:a("mortgage_float_percent","Переменная % с индексацией"),description:a("variable_inflation_description","Variable rate with inflation adjustment"),conditionFinance:a("up_to_75_percent","До 75%"),conditionPeriod:a("4_to_25_years","4-25 лет"),conditionBid:a("variable_rate_structure","Variable rate structure"),interestRate:2.8,termYears:22}])}finally{b(!1)}})()},[t,a,s.language]);const v=()=>{i(-1)},M=()=>{i("/personal-cabinet",{state:{showApplicationAccepted:!0}})};return!t||P?e.jsx("div",{className:I("container"),children:e.jsx("div",{className:I("loading"),children:a("loading","Загрузка...")})}):e.jsxs("div",{className:I("container"),children:[e.jsxs("div",{className:I("header"),children:[e.jsx("button",{className:I("back-button"),onClick:v,"aria-label":a("go_back","Назад"),children:e.jsx(Ce,{size:20,color:"#ffffff",style:{transform:"rotate(180deg)"}})}),e.jsx("h1",{className:I("title"),children:a("bank_confirmation_title","Подтверждение")})]}),e.jsx("div",{className:I("bank-header"),children:e.jsxs("div",{className:I("bank-info"),children:[e.jsx("div",{className:I("bank-logo"),children:e.jsx("div",{className:I("logo-placeholder"),children:((S=t.bank_name)==null?void 0:S.charAt(0))||"B"})}),e.jsx("h2",{className:I("bank-name"),children:t.bank_name||a("selected_bank","Выбранный банк")})]})}),e.jsx("div",{className:I("offer-summary"),children:e.jsxs("div",{className:I("summary-grid"),children:[e.jsxs("div",{className:I("summary-item"),children:[e.jsx("span",{className:I("summary-label"),children:a("mortgage_total","Сумма займа")}),e.jsxs("span",{className:I("summary-value"),children:[((m=t.loan_amount)==null?void 0:m.toLocaleString("en-US"))||"0"," ₪"]})]}),e.jsxs("div",{className:I("summary-item"),children:[e.jsx("span",{className:I("summary-label"),children:a("mortgage_monthly","Ежемесячный платеж")}),e.jsxs("span",{className:I("summary-value"),children:[((g=t.monthly_payment)==null?void 0:g.toLocaleString("en-US"))||"0"," ₪"]})]}),e.jsxs("div",{className:I("summary-item"),children:[e.jsx("span",{className:I("summary-label"),children:a("mortgage_percnt","Процентная ставка")}),e.jsxs("span",{className:I("summary-value"),children:[t.interest_rate||"0","%"]})]}),e.jsxs("div",{className:I("summary-item"),children:[e.jsx("span",{className:I("summary-label"),children:a("mortgage_term","Срок")}),e.jsxs("span",{className:I("summary-value"),children:[t.term_years||"0"," ",a("years","лет")]})]})]})}),e.jsxs("div",{className:I("programs-section"),children:[e.jsx("h3",{className:I("programs-title"),children:a("available_programs","Доступные программы")}),e.jsx("div",{className:I("programs-grid"),children:c.map((p,_)=>e.jsx(ra,{title:p.title,percent:t.interest_rate||p.interestRate||2.1,mortgageAmount:t.loan_amount||0,monthlyPayment:t.monthly_payment||0,period:t.term_years||p.termYears||20,description:p.description,conditionFinance:p.conditionFinance,conditionPeriod:p.conditionPeriod,conditionBid:p.conditionBid},p.id||_))})]}),e.jsx("div",{className:I("confirmation-section"),children:e.jsx("button",{className:I("confirm-button"),onClick:M,children:a("confirm_bank_selection","Подтвердить выбор банка")})})]})},$n="_header_j893a_11",En="_title_j893a_15",zn={"main-dashboard":"_main-dashboard_j893a_1",header:$n,title:En,"application-section":"_application-section_j893a_23","section-header":"_section-header_j893a_31","section-title":"_section-title_j893a_35","service-card":"_service-card_j893a_43","service-header":"_service-header_j893a_51","service-title":"_service-title_j893a_55","service-details":"_service-details_j893a_63","detail-row":"_detail-row_j893a_69","detail-item":"_detail-item_j893a_75","detail-label":"_detail-label_j893a_82","detail-value":"_detail-value_j893a_89","progress-section":"_progress-section_j893a_96","progress-header":"_progress-header_j893a_100","progress-title":"_progress-title_j893a_104","progress-container":"_progress-container_j893a_112","progress-bar":"_progress-bar_j893a_116","action-buttons":"_action-buttons_j893a_121","complete-button":"_complete-button_j893a_127","upload-button":"_upload-button_j893a_137","program-section":"_program-section_j893a_147","program-header":"_program-header_j893a_152","program-label":"_program-label_j893a_156","program-dropdown":"_program-dropdown_j893a_163","program-button":"_program-button_j893a_167","support-section":"_support-section_j893a_177","support-button":"_support-button_j893a_183"};D.bind(zn);const Rn="_header_15twk_12",Fn="_title_15twk_18",In={"service-selection-dashboard":"_service-selection-dashboard_15twk_1",header:Rn,title:Fn,"selection-section":"_selection-section_15twk_27","selection-header":"_selection-header_15twk_35","selection-title":"_selection-title_15twk_40","services-grid":"_services-grid_15twk_49","service-card":"_service-card_15twk_58","service-content":"_service-content_15twk_88","service-icon":"_service-icon_15twk_98","icon-image":"_icon-image_15twk_107","service-title":"_service-title_15twk_113"},oe=D.bind(In),Dn=()=>{const{t:a}=O(),s=X(),i=[{id:"mortgage",title:a("calculate_mortgage","מחזור אשראי"),icon:"/static/mortgage-icon.png",route:"/services/calculate-mortgage/1"},{id:"refinance-mortgage",title:a("refinance_mortgage","מחזור משכנתא"),icon:"/static/refinance-mortgage-icon.png",route:"/services/refinance-mortgage/1"},{id:"credit",title:a("calculate_credit","חישוב אשראי"),icon:"/static/credit-icon.png",route:"/services/calculate-credit/1"},{id:"refinance-credit",title:a("refinance_credit","מחזור אשראי"),icon:"/static/refinance-credit-icon.png",route:"/services/refinance-credit/1"}],n=t=>{s(t.route)};return e.jsxs("div",{className:oe("service-selection-dashboard"),children:[e.jsx("div",{className:oe("header"),children:e.jsx("h1",{className:oe("title"),children:a("main_dashboard_title","Главная")})}),e.jsxs("div",{className:oe("selection-section"),children:[e.jsx("div",{className:oe("selection-header"),children:e.jsx("h2",{className:oe("selection-title"),children:a("choose_service_message","Выберите одну из услуг, чтобы продолжить")})}),e.jsx("div",{className:oe("services-grid"),children:i.map(t=>e.jsx("button",{className:oe("service-card"),onClick:()=>n(t),"aria-label":`Select ${t.title}`,children:e.jsxs("div",{className:oe("service-content"),children:[e.jsx("div",{className:oe("service-icon"),children:e.jsx("img",{src:t.icon,alt:t.title,className:oe("icon-image")})}),e.jsx("div",{className:oe("service-title"),children:t.title})]})},t.id))})]})]})},Vn="_content_1qjrx_8",On="_active_1qjrx_96",Un={"questionnaire-overview-page":"_questionnaire-overview-page_1qjrx_1",content:Vn,"page-header":"_page-header_1qjrx_18","page-title":"_page-title_1qjrx_26","add-co-borrower-btn":"_add-co-borrower-btn_1qjrx_32","plus-icon":"_plus-icon_1qjrx_55","borrower-tabs":"_borrower-tabs_1qjrx_67","borrower-tab":"_borrower-tab_1qjrx_67",active:On,"completion-indicator":"_completion-indicator_1qjrx_101","borrower-content":"_borrower-content_1qjrx_113","borrower-header":"_borrower-header_1qjrx_119","borrower-name":"_borrower-name_1qjrx_127","delete-borrower-btn":"_delete-borrower-btn_1qjrx_133","data-sections":"_data-sections_1qjrx_155","data-section":"_data-section_1qjrx_155","section-header":"_section-header_1qjrx_173","section-title":"_section-title_1qjrx_179","edit-btn":"_edit-btn_1qjrx_185","section-content":"_section-content_1qjrx_208","data-item":"_data-item_1qjrx_208","data-label":"_data-label_1qjrx_214","data-value":"_data-value_1qjrx_221","incomplete-notice":"_incomplete-notice_1qjrx_226","complete-section":"_complete-section_1qjrx_236","complete-btn":"_complete-btn_1qjrx_242"},E=D.bind(Un),Yn=({onOpenModal:a})=>{O();const s=X(),[i]=h.useState([{id:"main",name:"Александр Пушкин",phone:"+935 234 3344",personalDataComplete:!0,incomeDataComplete:!0,activitySphere:"Работа по найму",monthlyIncome:"3,500 ₪"},{id:"co1",name:"Людмила Пушкина",phone:"+972 50 123 4567",personalDataComplete:!0,incomeDataComplete:!1,activitySphere:"Самозанятость",monthlyIncome:"2,800 ₪"},{id:"co2",name:"Созаемщик #2",phone:void 0,personalDataComplete:!1,incomeDataComplete:!1,activitySphere:void 0,monthlyIncome:void 0}]),[n,t]=h.useState("co1"),r=i.find(m=>m.id===n),c=()=>{s("/personal-cabinet/co-borrower-personal-data")},u=m=>{t(m)},P=()=>{s(n==="main"?"/personal-cabinet/main-borrower-personal-data":`/personal-cabinet/co-borrower-personal-data/${n}`)},b=()=>{s(n==="main"?"/personal-cabinet/income-data":`/personal-cabinet/co-borrower-income-data/${n}`)},v=()=>{n!=="main"&&a&&a("coBorrowerDelete",{id:n,name:r==null?void 0:r.name})},M=()=>{i.every(g=>g.personalDataComplete&&g.incomeDataComplete)&&s("/personal-cabinet/documents")},S=i.every(m=>m.personalDataComplete&&m.incomeDataComplete);return e.jsx(Ee,{children:e.jsx("div",{className:E("questionnaire-overview-page"),children:e.jsxs("div",{className:E("content"),children:[e.jsxs("div",{className:E("page-header"),children:[e.jsx("h1",{className:E("page-title"),children:"Анкета"}),e.jsxs("button",{className:E("add-co-borrower-btn"),onClick:c,children:[e.jsx("span",{className:E("plus-icon"),children:"+"}),"Добавить созаемщика"]})]}),e.jsx("div",{className:E("borrower-tabs"),children:i.map(m=>e.jsxs("button",{className:E("borrower-tab",{active:m.id===n}),onClick:()=>u(m.id),children:[m.name,m.personalDataComplete&&e.jsx("span",{className:E("completion-indicator"),children:"✓"})]},m.id))}),r&&e.jsxs("div",{className:E("borrower-content"),children:[e.jsxs("div",{className:E("borrower-header"),children:[e.jsx("h2",{className:E("borrower-name"),children:r.name}),n!=="main"&&e.jsx("button",{className:E("delete-borrower-btn"),onClick:v,children:"🗑️ Удалить созаемщика"})]}),e.jsxs("div",{className:E("data-sections"),children:[e.jsxs("div",{className:E("data-section"),children:[e.jsxs("div",{className:E("section-header"),children:[e.jsx("h3",{className:E("section-title"),children:"Личные данные"}),e.jsx("button",{className:E("edit-btn"),onClick:P,children:"✏️"})]}),e.jsxs("div",{className:E("section-content"),children:[e.jsx("div",{className:E("data-item"),children:e.jsx("span",{className:E("data-label"),children:r.name})}),r.phone&&e.jsx("div",{className:E("data-item"),children:e.jsx("span",{className:E("data-value"),children:r.phone})}),!r.personalDataComplete&&e.jsx("div",{className:E("incomplete-notice"),children:"Данные не заполнены"})]})]}),e.jsxs("div",{className:E("data-section"),children:[e.jsxs("div",{className:E("section-header"),children:[e.jsx("h3",{className:E("section-title"),children:"Доходы"}),e.jsx("button",{className:E("edit-btn"),onClick:b,children:"✏️"})]}),e.jsxs("div",{className:E("section-content"),children:[r.activitySphere&&e.jsx("div",{className:E("data-item"),children:e.jsx("span",{className:E("data-label"),children:r.activitySphere})}),r.monthlyIncome&&e.jsx("div",{className:E("data-item"),children:e.jsx("span",{className:E("data-value"),children:r.monthlyIncome})}),!r.incomeDataComplete&&e.jsx("div",{className:E("incomplete-notice"),children:"Данные не заполнены"})]})]})]}),S&&e.jsx("div",{className:E("complete-section"),children:e.jsx(Je,{variant:"primary",size:"large",onClick:M,className:E("complete-btn"),children:"Завершить анкету"})})]})]})})})},Hn="_content_1gx2y_9",Wn="_date_1gx2y_153",Gn="_time_1gx2y_153",Zn="_pagination_1gx2y_241",Kn="_slideInUp_1gx2y_1",Qn={"notifications-page":"_notifications-page_1gx2y_1",content:Hn,"page-header":"_page-header_1gx2y_24","page-title":"_page-title_1gx2y_29","notifications-list":"_notifications-list_1gx2y_40","notification-card":"_notification-card_1gx2y_46","notification-unread":"_notification-unread_1gx2y_62","notification-icon":"_notification-icon_1gx2y_72","notification-success":"_notification-success_1gx2y_98","notification-error":"_notification-error_1gx2y_101","notification-bank":"_notification-bank_1gx2y_104","notification-chat":"_notification-chat_1gx2y_107","notification-content":"_notification-content_1gx2y_110","notification-header":"_notification-header_1gx2y_114","notification-title":"_notification-title_1gx2y_127","notification-time":"_notification-time_1gx2y_139",date:Wn,time:Gn,"notification-message":"_notification-message_1gx2y_163","notification-actions":"_notification-actions_1gx2y_175","action-button":"_action-button_1gx2y_185","unread-indicator":"_unread-indicator_1gx2y_210","empty-state":"_empty-state_1gx2y_227","empty-text":"_empty-text_1gx2y_232",pagination:Zn,"page-button":"_page-button_1gx2y_254","page-active":"_page-active_1gx2y_274","page-next":"_page-next_1gx2y_279",slideInUp:Kn},We=D.bind(Qn),Jn=()=>{const{t:a}=O();return e.jsx(Ee,{children:e.jsxs("div",{className:We("notifications-page"),children:[e.jsx("h1",{children:a("notifications","Уведомления")}),e.jsx("div",{className:We("content"),children:e.jsx("p",{children:a("no_notifications","У вас пока нет уведомлений")})})]})})},Xn=D.bind(da),fs=()=>{const{t:a,i18n:s}=O(),i=pe(),n=X(),[t,r]=h.useState(null),[c,u]=h.useState(null),[P,b]=h.useState(null),[v,M]=h.useState(""),[S,m]=h.useState(""),[g,p]=h.useState(null),_=()=>{r(null),u(null),b(null),M(""),m(""),p(null)},o=(d,l)=>{r(d),l&&(d==="programConditions"?b(l):d==="coBorrowerDelete"?p(l):u(l))},B=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),n("/"),_()},f=()=>{const d=i.pathname;return d.includes("/payments/history")?e.jsx(qa,{}):d.includes("/payments")?e.jsx(Pa,{}):d.includes("/appointment-scheduling")?e.jsx(Oa,{}):d.includes("/bank-confirmation")?e.jsx(Tn,{}):d.includes("/program-selection-calculation")?e.jsx(Sn,{}):d.includes("/hidden-bank-program-selection")?e.jsx(vn,{}):d.includes("/program-selection")?e.jsx(hn,{}):d.includes("/questionnaire-overview")||d==="/personal-cabinet/questionnaire"?e.jsx(Yn,{onOpenModal:o}):d.includes("/notifications")||d==="/personal-cabinet/notifications"?e.jsx(Jn,{onOpenModal:o}):d.includes("/settings")||d==="/personal-cabinet/settings"?e.jsx(xa,{onOpenModal:o}):e.jsx(Dn,{})};return Qe.useEffect(()=>{var d,l,C,w,A,V;(d=i.state)!=null&&d.appointmentData&&(u(i.state.appointmentData),r("bankMeetingConfirmation"),n(i.pathname,{replace:!0,state:{}})),(l=i.state)!=null&&l.showApplicationAccepted&&(r("applicationAccepted"),n(i.pathname,{replace:!0,state:{}})),(C=i.state)!=null&&C.showPaymentConfirmation&&(r("paymentConfirmation"),n(i.pathname,{replace:!0,state:{}})),(w=i.state)!=null&&w.showOfferModal&&(r("offer"),n(i.pathname,{replace:!0,state:{}})),(A=i.state)!=null&&A.showProgramConditions&&(r("programConditions"),(V=i.state)!=null&&V.programData&&b(i.state.programData),n(i.pathname,{replace:!0,state:{}}))},[i.state,n,i.pathname]),e.jsxs("div",{className:Xn("personal-cabinet"),children:[e.jsx(Ee,{onOpenModal:o,children:f()}),e.jsx(Ha,{isOpen:t==="emailSettings",onClose:_,onSuccess:d=>{M(d),r("emailVerification")}}),e.jsx(pt,{isOpen:t==="emailVerification",email:v,onClose:_,onSuccess:()=>{_()},onBack:()=>{r("emailSettings")}}),e.jsx(gt,{isOpen:t==="changeEmail",onClose:_,currentEmail:"user@example.com",onSuccess:d=>{_()}}),e.jsx(vt,{isOpen:t==="changePhone",onClose:_,onSuccess:d=>{m(d),r("phoneVerification")}}),t==="phoneVerification"&&(s.language==="he"?e.jsx(Xe,{onClose:_,onSuccess:()=>{_()}}):e.jsx(ea,{onClose:_,onSuccess:()=>{_()}})),e.jsx(kt,{isOpen:t==="changePassword",onClose:_,onSuccess:()=>{_()}}),e.jsx(St,{isOpen:t==="changeName",onClose:_,currentName:"Александр Пушкин",onSuccess:d=>{_()}}),e.jsx(At,{isOpen:t==="profilePhoto",onClose:_,onSave:d=>{_()}}),e.jsx(Tt,{isOpen:t==="bankMeetingConfirmation",onClose:_,appointmentData:c}),e.jsx(zt,{isOpen:t==="applicationAccepted",onClose:_}),e.jsx(It,{isOpen:t==="paymentConfirmation",onClose:_}),e.jsx(Yt,{isOpen:t==="payment",onClose:_,amount:1999}),e.jsx(Gt,{isOpen:t==="offer",onClose:_,amount:1999}),e.jsx(Zt,{isOpen:t==="programConditions",onClose:_,programData:P}),e.jsx(Qt,{isOpen:t==="coBorrowerDelete",onClose:_,coBorrowerName:g==null?void 0:g.name,onConfirm:()=>{g!=null&&g.id}}),e.jsx(tn,{isOpen:t==="coBorrowerSelection",onClose:_,onContinue:d=>{},onSkip:()=>{}}),e.jsx(ca,{isVisible:t==="logout",onCancel:_,onSubmit:B,text:a("logout_confirmation","Вы уверены, что хотите выйти из Личного кабинета?")})]})};export{fs as PersonalCabinet,fs as default};
