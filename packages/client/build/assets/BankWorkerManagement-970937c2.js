import{c as S,j as e}from"./index-bb10d06d.js";import{r as b}from"./react-vendor-cb72586d.js";import{a as L,c as A,f as F,F as R,b as Q}from"./form-vendor-54490a8c.js";import{Q as _}from"./components-vendor-7051403a.js";import{L as U,b as H,T as M,E as C,B as p,M as V}from"./index-3bc20b32.js";import{F as q}from"./FormattedInput-705ed69c.js";import{D as w}from"./DropdownMenu-def14802.js";import{b as y}from"./bankWorkerApi-3b6e510f.js";import{u as E}from"./i18n-vendor-9853e039.js";import"./state-vendor-15b493f7.js";import"./ui-vendor-ac21246b.js";import"./utils-vendor-fc077e46.js";import"./Control-e5eecf4f.js";const $="_managementContainer_63ybq_7",z="_header_63ybq_18",O="_tabs_63ybq_27",G="_tab_63ybq_27",J="_tabBadge_63ybq_53",K="_tabContent_63ybq_76",X="_invitationForm_63ybq_80",Y="_form_63ybq_87",Z="_formField_63ybq_92",ee="_fieldLabel_63ybq_97",ae="_messageTextarea_63ybq_102",se="_submitButton_63ybq_116",ne="_listHeader_63ybq_130",ie="_refreshButton_63ybq_136",le="_emptyState_63ybq_151",re="_invitationsTable_63ybq_161",te="_tableHeader_63ybq_167",oe="_tableRow_63ybq_182",me="_email_63ybq_196",ce="_bank_63ybq_200",de="_branch_63ybq_203",be="_status_63ybq_207",ue="_date_63ybq_211",ge="_statusBadge_63ybq_240",ke="_queueTable_63ybq_270",he="_workerCard_63ybq_275",ve="_workerInfo_63ybq_289",Ne="_workerName_63ybq_292",pe="_workerDetails_63ybq_298",fe="_workerEmail_63ybq_303",_e="_registrationDate_63ybq_308",xe="_workerActions_63ybq_313",De="_approveButton_63ybq_317",je="_rejectButton_63ybq_318",ye="_approvalModal_63ybq_338",Be="_modalContent_63ybq_338",Te="_rejectionModal_63ybq_339",Ae="_modalMessage_63ybq_342",Me="_modalField_63ybq_349",Ee="_modalTextarea_63ybq_360",We="_modalActions_63ybq_376",Pe={managementContainer:$,header:z,tabs:O,tab:G,"tab--active":"_tab--active_63ybq_48",tabBadge:J,tabContent:K,invitationForm:X,form:Y,formField:Z,fieldLabel:ee,messageTextarea:ae,submitButton:se,listHeader:ne,refreshButton:ie,emptyState:le,invitationsTable:re,tableHeader:te,tableRow:oe,email:me,bank:ce,branch:de,status:be,date:ue,statusBadge:ge,"statusBadge--success":"_statusBadge--success_63ybq_249","statusBadge--warning":"_statusBadge--warning_63ybq_254","statusBadge--error":"_statusBadge--error_63ybq_259","statusBadge--neutral":"_statusBadge--neutral_63ybq_264",queueTable:ke,workerCard:he,workerInfo:ve,workerName:Ne,workerDetails:pe,workerEmail:fe,registrationDate:_e,workerActions:xe,approveButton:De,rejectButton:je,approvalModal:ye,modalContent:Be,rejectionModal:Te,modalMessage:Ae,modalField:Me,modalTextarea:Ee,modalActions:We},a=S.bind(Pe),Ue=({banks:m,onSubmit:c,loading:h})=>{const{t:s,i18n:v}=E(),n=L({email:A().email(s("validation.email.format")).required(s("validation.email.required")),bankId:A().required(s("validation.bankId.required")),branchId:A().required(s("validation.branchId.required")),message:A().max(500,s("validation.message.max")),expirationDays:F().min(1,s("validation.expirationDays.min")).max(30,s("validation.expirationDays.max")).required(s("validation.expirationDays.required"))});return e.jsxDEV("div",{className:a("invitationForm"),children:[e.jsxDEV(M,{title:s("admin.invitation.title")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:93,columnNumber:7},globalThis),e.jsxDEV(R,{initialValues:{email:"",bankId:"",branchId:"",message:"",expirationDays:7},validationSchema:n,onSubmit:c,children:({values:o,errors:t,touched:u,setFieldValue:g,isSubmitting:d})=>{const k=m.find(i=>i.id===o.bankId);return e.jsxDEV(Q,{className:a("form"),children:[e.jsxDEV("div",{className:a("formField"),children:e.jsxDEV(q,{name:"email",title:s("admin.invitation.fields.email.label"),placeholder:s("admin.invitation.fields.email.placeholder"),value:o.email,handleChange:i=>g("email",i),error:u.email&&t.email},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:113,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:112,columnNumber:15},globalThis),e.jsxDEV("div",{className:a("formField"),children:e.jsxDEV(w,{name:"bankId",title:s("admin.invitation.fields.bank.label"),placeholder:s("admin.invitation.fields.bank.placeholder"),options:m.map(i=>({value:i.id,label:i.name})),value:o.bankId,onChange:i=>{g("bankId",i),g("branchId","")},error:u.bankId&&t.bankId},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:125,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:124,columnNumber:15},globalThis),k&&e.jsxDEV("div",{className:a("formField"),children:e.jsxDEV(w,{name:"branchId",title:s("admin.invitation.fields.branch.label"),placeholder:s("admin.invitation.fields.branch.placeholder"),options:k.branches.map(i=>({value:i.id,label:v.language==="he"?i.name_he:v.language==="ru"?i.name_ru:i.name_en,subtitle:`${i.branch_code} - ${i.city}`})),value:o.branchId,onChange:i=>g("branchId",i),error:u.branchId&&t.branchId},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:145,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:144,columnNumber:17},globalThis),e.jsxDEV("div",{className:a("formField"),children:e.jsxDEV(q,{name:"expirationDays",title:s("admin.invitation.fields.expirationDays.label"),placeholder:s("admin.invitation.fields.expirationDays.placeholder"),value:o.expirationDays,handleChange:i=>g("expirationDays",i),error:u.expirationDays&&t.expirationDays},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:165,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:164,columnNumber:15},globalThis),e.jsxDEV("div",{className:a("formField"),children:[e.jsxDEV("label",{className:a("fieldLabel"),children:s("admin.invitation.fields.message.label")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:177,columnNumber:17},globalThis),e.jsxDEV("textarea",{name:"message",placeholder:s("admin.invitation.fields.message.placeholder"),value:o.message,onChange:i=>g("message",i.target.value),className:a("messageTextarea"),rows:4},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:180,columnNumber:17},globalThis),u.message&&t.message&&e.jsxDEV(C,{message:t.message},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:189,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:176,columnNumber:15},globalThis),e.jsxDEV(p,{type:"submit",variant:"primary",size:"full",disabled:h||d,className:a("submitButton"),children:s(h?"common.sending":"admin.invitation.send")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:194,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:110,columnNumber:13},globalThis)}},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:95,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:92,columnNumber:5},globalThis)},Ve=({invitations:m,loading:c,onRefresh:h})=>{const{t:s,i18n:v}=E(),n=o=>{const t={pending:{color:"warning",text:s("admin.status.pending")},used:{color:"success",text:s("admin.status.used")},expired:{color:"error",text:s("admin.status.expired")}}[o.toLowerCase()]||{color:"neutral",text:o};return e.jsxDEV("span",{className:a("statusBadge",`statusBadge--${t.color}`),children:t.text},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:230,columnNumber:7},globalThis)};return e.jsxDEV("div",{className:a("invitationsList"),children:[e.jsxDEV("div",{className:a("listHeader"),children:[e.jsxDEV(M,{title:s("admin.invitations.title")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:239,columnNumber:9},globalThis),e.jsxDEV(p,{variant:"secondary",onClick:h,disabled:c,className:a("refreshButton"),children:s(c?"common.refreshing":"common.refresh")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:240,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:238,columnNumber:7},globalThis),c?e.jsxDEV(U,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:251,columnNumber:9},globalThis):m.length===0?e.jsxDEV("div",{className:a("emptyState"),children:e.jsxDEV("p",{children:s("admin.invitations.empty")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:254,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:253,columnNumber:9},globalThis):e.jsxDEV("div",{className:a("invitationsTable"),children:[e.jsxDEV("div",{className:a("tableHeader"),children:[e.jsxDEV("span",{children:s("admin.invitations.columns.email")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:259,columnNumber:13},globalThis),e.jsxDEV("span",{children:s("admin.invitations.columns.bank")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:260,columnNumber:13},globalThis),e.jsxDEV("span",{children:s("admin.invitations.columns.status")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:261,columnNumber:13},globalThis),e.jsxDEV("span",{children:s("admin.invitations.columns.created")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:262,columnNumber:13},globalThis),e.jsxDEV("span",{children:s("admin.invitations.columns.expires")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:263,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:258,columnNumber:11},globalThis),m.map(o=>e.jsxDEV("div",{className:a("tableRow"),children:[e.jsxDEV("span",{className:a("email"),children:o.email},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:268,columnNumber:15},globalThis),e.jsxDEV("span",{className:a("bank"),children:[o.bankName,o.branchName&&e.jsxDEV("span",{className:a("branch"),children:[" - ",o.branchName]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:272,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:269,columnNumber:15},globalThis),e.jsxDEV("span",{className:a("status"),children:n(o.status)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:275,columnNumber:15},globalThis),e.jsxDEV("span",{className:a("date"),children:new Date(o.createdAt).toLocaleDateString(v.language)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:278,columnNumber:15},globalThis),e.jsxDEV("span",{className:a("date"),children:new Date(o.expiresAt).toLocaleDateString(v.language)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:281,columnNumber:15},globalThis)]},o.id,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:267,columnNumber:13},globalThis))]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:257,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:237,columnNumber:5},globalThis)},qe=({queue:m,loading:c,onApprove:h,onReject:s,onRefresh:v})=>{const{t:n,i18n:o}=E(),[t,u]=b.useState(null),[g,d]=b.useState(null),[k,i]=b.useState(""),[x,B]=b.useState(""),[f,D]=b.useState(!1),T=async r=>{u(r),d("approve"),i("")},j=async r=>{u(r),d("reject"),i(""),B("")},W=async()=>{if(t)try{D(!0),await h(t.id,k),d(null),u(null),_.success(n("admin.approval.success"))}catch(r){_.error(r.message||n("admin.approval.error"))}finally{D(!1)}},P=async()=>{if(!(!t||!x.trim()))try{D(!0),await s(t.id,x,k),d(null),u(null),_.success(n("admin.rejection.success"))}catch(r){_.error(r.message||n("admin.rejection.error"))}finally{D(!1)}};return e.jsxDEV("div",{className:a("approvalQueue"),children:[e.jsxDEV("div",{className:a("listHeader"),children:[e.jsxDEV(M,{title:n("admin.approvalQueue.title")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:358,columnNumber:9},globalThis),e.jsxDEV(p,{variant:"secondary",onClick:v,disabled:c,className:a("refreshButton"),children:n(c?"common.refreshing":"common.refresh")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:359,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:357,columnNumber:7},globalThis),c?e.jsxDEV(U,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:370,columnNumber:9},globalThis):m.length===0?e.jsxDEV("div",{className:a("emptyState"),children:e.jsxDEV("p",{children:n("admin.approvalQueue.empty")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:373,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:372,columnNumber:9},globalThis):e.jsxDEV("div",{className:a("queueTable"),children:m.map(r=>e.jsxDEV("div",{className:a("workerCard"),children:[e.jsxDEV("div",{className:a("workerInfo"),children:[e.jsxDEV("h3",{className:a("workerName"),children:r.fullName},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:380,columnNumber:17},globalThis),e.jsxDEV("p",{className:a("workerDetails"),children:[r.position," • ",r.bankName," • ",r.branchName]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:381,columnNumber:17},globalThis),e.jsxDEV("p",{className:a("workerEmail"),children:r.email},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:384,columnNumber:17},globalThis),e.jsxDEV("p",{className:a("registrationDate"),children:[n("admin.approvalQueue.registeredOn"),": "," ",new Date(r.registrationDate).toLocaleDateString(o.language)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:385,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:379,columnNumber:15},globalThis),e.jsxDEV("div",{className:a("workerActions"),children:[e.jsxDEV(p,{variant:"primary",onClick:()=>T(r),className:a("approveButton"),children:n("admin.actions.approve")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:392,columnNumber:17},globalThis),e.jsxDEV(p,{variant:"secondary",onClick:()=>j(r),className:a("rejectButton"),children:n("admin.actions.reject")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:399,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:391,columnNumber:15},globalThis)]},r.id,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:378,columnNumber:13},globalThis))},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:376,columnNumber:9},globalThis),e.jsxDEV(V,{isVisible:g==="approve",title:n("admin.approval.title"),onCancel:()=>d(null),className:a("approvalModal"),children:e.jsxDEV("div",{className:a("modalContent"),children:[e.jsxDEV("p",{className:a("modalMessage"),children:n("admin.approval.message",{name:t==null?void 0:t.fullName})},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:420,columnNumber:11},globalThis),e.jsxDEV("div",{className:a("modalField"),children:[e.jsxDEV("label",{className:a("fieldLabel"),children:[n("admin.approval.comments")," (",n("common.optional"),")"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:425,columnNumber:13},globalThis),e.jsxDEV("textarea",{value:k,onChange:r=>i(r.target.value),placeholder:n("admin.approval.commentsPlaceholder"),className:a("modalTextarea"),rows:3},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:428,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:424,columnNumber:11},globalThis),e.jsxDEV("div",{className:a("modalActions"),children:[e.jsxDEV(p,{variant:"secondary",onClick:()=>d(null),disabled:f,children:n("common.cancel")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:438,columnNumber:13},globalThis),e.jsxDEV(p,{variant:"primary",onClick:W,disabled:f,children:n(f?"common.submitting":"admin.actions.approve")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:445,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:437,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:419,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:413,columnNumber:7},globalThis),e.jsxDEV(V,{isVisible:g==="reject",title:n("admin.rejection.title"),onCancel:()=>d(null),className:a("rejectionModal"),children:e.jsxDEV("div",{className:a("modalContent"),children:[e.jsxDEV("p",{className:a("modalMessage"),children:n("admin.rejection.message",{name:t==null?void 0:t.fullName})},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:464,columnNumber:11},globalThis),e.jsxDEV("div",{className:a("modalField"),children:[e.jsxDEV("label",{className:a("fieldLabel"),children:[n("admin.rejection.reason")," *"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:469,columnNumber:13},globalThis),e.jsxDEV("textarea",{value:x,onChange:r=>B(r.target.value),placeholder:n("admin.rejection.reasonPlaceholder"),className:a("modalTextarea"),rows:2,required:!0},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:472,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:468,columnNumber:11},globalThis),e.jsxDEV("div",{className:a("modalField"),children:[e.jsxDEV("label",{className:a("fieldLabel"),children:[n("admin.rejection.comments")," (",n("common.optional"),")"]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:483,columnNumber:13},globalThis),e.jsxDEV("textarea",{value:k,onChange:r=>i(r.target.value),placeholder:n("admin.rejection.commentsPlaceholder"),className:a("modalTextarea"),rows:3},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:486,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:482,columnNumber:11},globalThis),e.jsxDEV("div",{className:a("modalActions"),children:[e.jsxDEV(p,{variant:"secondary",onClick:()=>d(null),disabled:f,children:n("common.cancel")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:496,columnNumber:13},globalThis),e.jsxDEV(p,{variant:"primary",onClick:P,disabled:f||!x.trim(),children:n(f?"common.submitting":"admin.actions.reject")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:503,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:495,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:463,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:457,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:356,columnNumber:5},globalThis)},Je=()=>{const{t:m}=E(),[c,h]=b.useState("invitations"),[s,v]=b.useState([]),[n,o]=b.useState([]),[t,u]=b.useState([]),[g,d]=b.useState(!0),[k,i]=b.useState(!1),[x,B]=b.useState(!1);b.useEffect(()=>{f()},[]);const f=async()=>{try{d(!0),await Promise.all([D(),T(),j()])}catch(l){console.error("Error loading initial data:",l)}finally{d(!1)}},D=async()=>{try{const l=await y.getBanks();l.status==="success"&&l.data&&v(l.data)}catch(l){console.error("Error loading banks:",l),_.error(l.message||m("errors.failedToLoadBanks"))}},T=async()=>{try{i(!0);const l=await y.getInvitations({limit:50});l.status==="success"&&l.data&&o(l.data.invitations)}catch(l){console.error("Error loading invitations:",l),_.error(l.message||m("errors.failedToLoadInvitations"))}finally{i(!1)}},j=async()=>{try{B(!0);const l=await y.getApprovalQueue({limit:50});l.status==="success"&&l.data&&u(l.data.queue)}catch(l){console.error("Error loading approval queue:",l),_.error(l.message||m("errors.failedToLoadQueue"))}finally{B(!1)}},W=async l=>{try{const N=await y.sendInvitation(l);if(N.status==="success")_.success(m("admin.invitation.success")),await T();else throw new C(N.message)}catch(N){throw console.error("Error sending invitation:",N),N}},P=async(l,N)=>{await y.approveWorker(l,N),await j()},r=async(l,N,I)=>{await y.rejectWorker(l,N,I),await j()};return g?e.jsxDEV(U,{},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:621,columnNumber:12},globalThis):e.jsxDEV(H,{children:e.jsxDEV("div",{className:a("managementContainer"),children:[e.jsxDEV("div",{className:a("header"),children:e.jsxDEV(M,{title:m("admin.bankWorker.title"),tooltip:m("admin.bankWorker.tooltip")},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:629,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:628,columnNumber:9},globalThis),e.jsxDEV("div",{className:a("tabs"),children:[e.jsxDEV("button",{className:a("tab",{"tab--active":c==="invitations"}),onClick:()=>h("invitations"),children:[m("admin.tabs.invitations"),n.length>0&&e.jsxDEV("span",{className:a("tabBadge"),children:n.length},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:643,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:637,columnNumber:11},globalThis),e.jsxDEV("button",{className:a("tab",{"tab--active":c==="queue"}),onClick:()=>h("queue"),children:[m("admin.tabs.approvalQueue"),t.length>0&&e.jsxDEV("span",{className:a("tabBadge"),children:t.length},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:652,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:646,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:636,columnNumber:9},globalThis),e.jsxDEV("div",{className:a("tabContent"),children:c==="invitations"?e.jsxDEV("div",{className:a("invitationsTab"),children:[e.jsxDEV(Ue,{banks:s,onSubmit:W,loading:k},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:661,columnNumber:15},globalThis),e.jsxDEV(Ve,{invitations:n,loading:k,onRefresh:T},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:666,columnNumber:15},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:660,columnNumber:13},globalThis):e.jsxDEV("div",{className:a("queueTab"),children:e.jsxDEV(qe,{queue:t,loading:x,onApprove:P,onReject:r,onRefresh:j},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:674,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:673,columnNumber:13},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:658,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:626,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/michaelmishayev/Projects/bankDev2_standalone/packages/client/src/pages/Admin/BankWorkerManagement.tsx",lineNumber:625,columnNumber:5},globalThis)};export{Je as BankWorkerManagement,Je as default};
