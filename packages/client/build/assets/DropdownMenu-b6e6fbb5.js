import{j as e}from"./ui-vendor-5a9cd79c.js";import{g as k,h as D,j as O,E as y,T as L}from"./index-44d8657f.js";import{c as M}from"./index-82c03faf.js";import{r as t}from"./react-vendor-19e41fc0.js";function S(o){return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:21,height:20,fill:"none",...o,children:e.jsx("path",{fill:"#D0D0D0",d:"m18.442 17.058-3.911-3.911a6.883 6.883 0 1 0-.884.883l3.911 3.912a.625.625 0 1 0 .884-.884ZM3.625 8.75a5.625 5.625 0 1 1 5.625 5.625A5.632 5.632 0 0 1 3.625 8.75Z"})})}const $="_dropdown_18s7e_1",R="_focus_18s7e_107",T="_error_18s7e_111",F={dropdown:$,"dropdown-wrapper":"_dropdown-wrapper_18s7e_13","dropdown-input":"_dropdown-input_18s7e_21","dropdown-select":"_dropdown-select_18s7e_40","dropdown-select__item":"_dropdown-select__item_18s7e_56","dropdown-select__search":"_dropdown-select__search_18s7e_71","dropdown-select__search-wrapper":"_dropdown-select__search-wrapper_18s7e_74","dropdown-select__search-input":"_dropdown-select__search-input_18s7e_84","dropdown-select__search-no-result":"_dropdown-select__search-no-result_18s7e_101",focus:R,error:T},r=M.bind(F),Z=({data:o,placeholder:l,onChange:c,value:p,searchable:u,searchPlaceholder:w,nothingFoundText:m,onBlur:h,error:d,className:_,dataTestId:i,...x})=>{var N;const g=t.useId(),[n,a]=t.useState(!1),[v,C]=t.useState(""),f=t.useRef(null),j=t.useCallback(s=>{f.current&&!f.current.contains(s.target)&&a(!1)},[]),I=s=>{c==null||c(s.value),a(!1)};t.useEffect(()=>(document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)),[j]);const b=(o||[]).filter(s=>s.label.toLowerCase().includes(v.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:f,onBlur:h,className:r("dropdown",`${n&&"focus"}`,`${d&&!n&&"error"}`,_),"data-testid":i,...x,children:[e.jsxs("div",{className:r("dropdown-wrapper"),onClick:()=>a(!n),tabIndex:0,children:[e.jsx("input",{readOnly:!0,className:r("dropdown-input","truncate",_),id:g,placeholder:l,value:((N=(o||[]).find(s=>s.value===p))==null?void 0:N.label)||""}),n?e.jsx(k,{className:"cursor-pointer",onClick:()=>a(!1)}):e.jsx(D,{className:"cursor-pointer",onClick:()=>a(!0)})]}),n&&e.jsxs("div",{className:r("dropdown-select","scrollbar scrollbar-thumb-gray-600 scrollbar-thumb-rounded-md scrollbar-w-1"),children:[u&&e.jsx("div",{className:r("dropdown-select__search"),children:e.jsxs("div",{className:r("dropdown-select__search-wrapper"),children:[e.jsx(S,{}),e.jsx("input",{tabIndex:0,className:r("dropdown-select__search-input"),value:v,onChange:s=>C(s.target.value),placeholder:w,autoComplete:"off"})]})}),b.length>0?b.map((s,E)=>e.jsxs("div",{tabIndex:0,className:r("dropdown-select__item"),onClick:()=>I(s),"data-testid":`${i}-item-${s.value}`,children:[s.label,p===s.value&&e.jsx(O,{})]},E)):e.jsx("p",{className:r("dropdown-select__search-no-result"),children:m})]})]}),d&&!n&&e.jsx(y,{error:d})]})},z=({data:o,title:l,placeholder:c,onChange:p,value:u,searchable:w,searchPlaceholder:m,nothingFoundText:h,onBlur:d,error:_,className:i,dataTestId:x})=>e.jsxs(e.Fragment,{children:[l&&e.jsx(L,{title:l}),e.jsx(Z,{data:o,placeholder:c,onChange:p,value:u,searchable:w,searchPlaceholder:m,nothingFoundText:h,onBlur:d,error:_,className:i,dataTestId:x})]});export{z as D,S as M};
