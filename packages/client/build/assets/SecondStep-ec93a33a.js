import{j as n}from"./ui-vendor-5a9cd79c.js";import{u as N,a as k,c as m,f as w,F as C,b as M}from"./form-vendor-3025b96d.js";import{b as Y,f as L}from"./react-vendor-19e41fc0.js";import{B as y,a as B,M as E,D as U,b as Q}from"./index-79a992ab.js";import{c as z,a as x,j as O,u as h,V as v,n as c,W as V,X as oo,U as R,q as eo,r as no,Y as to,Z as io,y as so,z as ro}from"./index-b94574b0.js";import{D as ao}from"./DoubleButtons-6b72a4fb.js";import{u as I,i as co}from"./i18n-vendor-5cfd36a0.js";import{A as Z,a as G,g as T,O as H,b as P,M as J,c as A}from"./componentsByIncomeSource-932eb4c7.js";import{C as g}from"./Column-dbe9e532.js";import{F as lo}from"./FormContainer-1e1ce440.js";import{R as S}from"./Row-5f51608f.js";import{U as W,A as X}from"./AddButton-c667a975.js";import{F as mo}from"./FormCaption-0679f06d.js";import"./components-vendor-e60b5450.js";import"./utils-vendor-48989965.js";import"./state-vendor-2a767ce0.js";import"./useDropdownData-1abe74c0.js";import"./DropdownMenu-7fc78a92.js";import"./FormattedInput-eaa8803d.js";import"./Control-ef834aa1.js";import"./Calendar-2fe91664.js";const _o="_modal_lzcpe_1",po="_buttons_lzcpe_49",ho={modal:_o,"modal-item":"_modal-item_lzcpe_18","modal-buttons":"_modal-buttons_lzcpe_31",buttons:po},D=z.bind(ho),uo=()=>{const{t:o,i18n:u}=I(),{handleSubmit:d,isValid:t,values:r}=N(),i=x();return n.jsx(n.Fragment,{children:n.jsxs("div",{className:D("modal"),children:[n.jsxs("div",{className:D("modal-item"),children:[n.jsx(Z,{excludeNoIncome:!0}),r.additionalIncome&&n.jsx(G,{})]}),n.jsx("div",{className:D("modal-buttons"),children:n.jsxs("div",{className:D("buttons"),children:[n.jsx(y,{variant:"modalBase",type:"submit",onClick:()=>i(O()),children:o("button_back")}),n.jsx(y,{type:"submit",isDisabled:!t,onClick:d,size:"full",children:o("button_next_save")})]})})]})})},fo=()=>{const{t:o,i18n:u}=I(),{getContent:d}=B("common"),t=x(),r=h(a=>a.modalSlice.isOpenAdditionalIncome),i=h(a=>a.modalSlice.currentId),l=h(a=>a.borrowersPersonalData.additionalIncomeModal),_=l[i-1]!==void 0?l[i-1]:void 0,p=()=>{t(O())},f=!l.some(a=>a.id===i)?T(l):i,e={additionalIncome:(_==null?void 0:_.additionalIncome)||"",additionalIncomeAmount:(_==null?void 0:_.additionalIncomeAmount)||null},F=k().shape({additionalIncome:m().required(o("error_select_one_of_the_options")).test("not-empty",o("error_select_one_of_the_options"),a=>a!=null&&a!==""),additionalIncomeAmount:w().when("additionalIncome",{is:a=>a!=null&&a!==""&&a!=="option_1",then:a=>a.required(co.t("error_fill_field")),otherwise:a=>a.notRequired()})});return n.jsx(E,{isVisible:r,onCancel:p,title:`${d("additional_source_of_income_modal_title","Additional Source of Income")} ${f+1}`,children:n.jsx(C,{initialValues:e,validationSchema:F,validateOnMount:!0,onSubmit:a=>{t(v({id:f,...a})),p()},children:n.jsx(M,{children:n.jsx(uo,{})})})})},bo="_modal_r2hy9_1",xo="_container_r2hy9_41",go="_component_r2hy9_47",Io="_buttons_r2hy9_59",jo={modal:bo,"modal-item":"_modal-item_r2hy9_18","modal-buttons":"_modal-buttons_r2hy9_23",container:xo,component:go,buttons:Io},q=z.bind(jo),wo=()=>{const{t:o,i18n:u}=I(),{handleSubmit:d,isValid:t,values:r}=N(),i=x(),{obligation:l}=r;return n.jsx(n.Fragment,{children:n.jsxs("div",{className:q("modal"),children:[n.jsxs("div",{className:q("container"),children:[n.jsx(H,{}),P[l]&&P[l].map((_,p)=>n.jsx("div",{className:q("component"),children:_},p)),n.jsx(g,{})]}),n.jsx("div",{className:q("modal-buttons"),children:n.jsxs("div",{className:q("buttons"),children:[n.jsx(y,{variant:"modalBase",type:"submit",onClick:()=>i(O()),children:o("button_back")}),n.jsx(y,{type:"submit",isDisabled:!t,onClick:d,size:"full",children:o("button_next_save")})]})})]})})},yo=()=>{I();const{getContent:o}=B("common"),u=x(),d=h(e=>e.modalSlice.isOpenObligation),t=h(e=>e.modalSlice.currentId),r=h(e=>e.borrowersPersonalData.obligationModal),i=r[t-1]!==void 0?r[t-1]:void 0,l=()=>{u(O())},p=!r.some(e=>e.id===t)?T(r):t,b={obligation:(i==null?void 0:i.obligation)||"",bank:(i==null?void 0:i.bank)||"",monthlyPaymentForAnotherBank:(i==null?void 0:i.monthlyPaymentForAnotherBank)||null,endDate:(i==null?void 0:i.endDate)||new Date().getTime(),noIncome:(i==null?void 0:i.noIncome)||new Date().getTime()},f=k().shape({obligation:m().required(c("error_select_one_of_the_options","Please select one of the options")),bank:m().when("obligation",{is:e=>e!=null&&e!==""&&e!=="option_1",then:e=>e.required(c("error_select_bank","Please select a bank")),otherwise:e=>e.notRequired()}),monthlyPaymentForAnotherBank:w().when("obligation",{is:e=>e!=null&&e!==""&&e!=="option_1",then:e=>e.required(c("error_fill_field","Please fill this field")),otherwise:e=>e.notRequired()}),endDate:m().required(c("error_date","Please select a date"))});return n.jsx(E,{isVisible:d,onCancel:l,title:`${o("obligation_modal_title","Obligation")} ${p+1}`,children:n.jsx(C,{initialValues:b,validationSchema:f,validateOnMount:!0,onSubmit:e=>{u(V({id:p,...e})),l()},children:n.jsx(M,{children:n.jsx(wo,{})})})})},Oo="_modal_1gdud_1",So="_container_1gdud_41",qo="_component_1gdud_47",Do="_buttons_1gdud_59",Po={modal:Oo,"modal-item":"_modal-item_1gdud_18","modal-buttons":"_modal-buttons_1gdud_23",container:So,component:qo,buttons:Do},j=z.bind(Po),Ao=()=>{const{t:o,i18n:u}=I(),{handleSubmit:d,isValid:t,values:r,errors:i,touched:l}=N(),{mainSourceOfIncome:_}=r,p=x();return n.jsx(n.Fragment,{children:n.jsxs("div",{className:j("modal"),children:[n.jsxs("div",{className:j("container"),children:[n.jsx("div",{className:j("component"),children:n.jsx(J,{})}),A[_]&&A[_].map((b,f)=>n.jsx("div",{className:j("component"),children:b},f)),n.jsx(g,{})]}),n.jsx("div",{className:j("modal-buttons"),children:n.jsxs("div",{className:j("buttons"),children:[n.jsx(y,{variant:"modalBase",type:"submit",onClick:()=>p(O()),children:o("button_back")}),n.jsx(y,{type:"submit",isDisabled:!t,onClick:d,size:"full",children:o("button_next_save")})]})})]})})},No=()=>{I();const{getContent:o}=B("common"),u=x(),d=h(e=>e.modalSlice.isOpenSourceOfIncome),t=h(e=>e.modalSlice.currentId),r=h(e=>e.borrowersPersonalData.sourceOfIncomeModal),i=r[t-1]!==void 0?r[t-1]:void 0,l=()=>{u(O())},p=!r.some(e=>e.id===t)?T(r):t,b={mainSourceOfIncome:(i==null?void 0:i.mainSourceOfIncome)||"",monthlyIncome:(i==null?void 0:i.monthlyIncome)||null,startDate:(i==null?void 0:i.startDate)||new Date().getTime(),fieldOfActivity:(i==null?void 0:i.fieldOfActivity)||"",profession:(i==null?void 0:i.profession)||"",companyName:(i==null?void 0:i.companyName)||"",amountIncomeCurrentYear:(i==null?void 0:i.amountIncomeCurrentYear)||null},f=k().shape({mainSourceOfIncome:m().required(c("error_select_answer","Please select an answer")),monthlyIncome:w().when("mainSourceOfIncome",{is:e=>e!=null&&e!==""&&!["unpaid_leave","unemployed"].includes(e),then:e=>e.required(c("error_fill_field","Please fill this field")),otherwise:e=>e.notRequired()}),startDate:m().when("mainSourceOfIncome",{is:e=>e!=null&&e!==""&&!["unpaid_leave","unemployed"].includes(e),then:e=>e.required(c("error_date","Please select a date")),otherwise:e=>e.notRequired()}),fieldOfActivity:m().when("mainSourceOfIncome",{is:e=>e!=null&&e!==""&&!["unpaid_leave","unemployed"].includes(e),then:e=>e.required(c("error_select_field_of_activity","Please select field of activity")),otherwise:e=>e.notRequired()}),profession:m().when("mainSourceOfIncome",{is:e=>e!=null&&e!==""&&!["unpaid_leave","unemployed"].includes(e),then:e=>e.required(c("error_fill_field","Please fill this field")),otherwise:e=>e.notRequired()}),companyName:m().when("mainSourceOfIncome",{is:e=>e!=null&&e!==""&&!["unpaid_leave","unemployed"].includes(e),then:e=>e.required(c("error_fill_field","Please fill this field")),otherwise:e=>e.notRequired()})});return n.jsx(E,{isVisible:d,onCancel:l,title:`${o("source_of_income_modal_title","Source of Income")} ${p+1}`,children:n.jsx(C,{initialValues:b,validationSchema:f,validateOnMount:!0,onSubmit:e=>{u(oo({id:p,...e})),l()},children:n.jsx(M,{children:n.jsx(Ao,{})})})})},ko=()=>{const{t:o,i18n:u}=I(),{values:d}=N(),{mainSourceOfIncome:t,additionalIncome:r,obligation:i}=d,l=x();h(s=>s.borrowersPersonalData.sourceOfIncomeModal);const _=h(s=>s.borrowersPersonalData.additionalIncomeModal),p=h(s=>s.borrowersPersonalData.obligationModal),b=()=>{l(R(d)),l(eo())},f=()=>{l(R(d)),l(no())},e=s=>{l(to({id:s}))},F=s=>{l(io({id:s}))},a=s=>{l(so(s))},K=s=>{l(ro(s))};return n.jsxs(lo,{children:[n.jsx(mo,{title:o("borrowers_personal_data_title")}),n.jsxs(S,{children:[n.jsx(J,{}),A[t]&&A[t].map((s,$)=>n.jsx(Y.Fragment,{children:s},$)),n.jsx(g,{})]}),n.jsx(U,{}),n.jsxs(S,{children:[n.jsx(Z,{}),r&&r!=="option_1"&&n.jsx(G,{}),n.jsx(g,{})]}),r&&r!=="option_1"&&n.jsx(S,{children:n.jsxs(g,{children:[_.map(s=>n.jsx(W,{onEdit:()=>a(s.id),onDelete:()=>e(s.id),enableEdit:!0,name:`${o("additional_source_of_income")}${s.id+1}`},s.id)),n.jsx(X,{onClick:b,color:"#FBE54D",value:o("add_additional_source_of_income"),variant:"none"})]})}),n.jsx(U,{}),n.jsxs(S,{children:[n.jsx(H,{}),P[i]&&P[i].map((s,$)=>n.jsx(Y.Fragment,{children:s},$)),n.jsx(g,{})]}),i&&i!=="option_1"&&n.jsx(S,{children:n.jsxs(g,{children:[p.map(s=>n.jsx(W,{onEdit:()=>K(s.id),onDelete:()=>F(s.id),enableEdit:!0,name:`${o("obligation")}${s.id+1}`},s.id)),n.jsx(X,{onClick:f,color:"#FBE54D",value:o("add_obligation"),variant:"none"})]})})]})},Co=k().shape({mainSourceOfIncome:m().required(c("error_select_answer","Please select an answer")).test("not-empty",c("error_select_answer","Please select an answer"),o=>o!=null&&o!==""),monthlyIncome:w().when("mainSourceOfIncome",{is:o=>!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(o),then:o=>o.required(c("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),startDate:m().when("mainSourceOfIncome",{is:o=>!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(o),then:o=>o.required(c("error_date","Please enter a valid date")),otherwise:o=>o.notRequired()}),fieldOfActivity:m().when("mainSourceOfIncome",{is:o=>o!=null&&o!==""&&!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(o),then:o=>o.required(c("error_select_field_of_activity","Please select field of activity")),otherwise:o=>o.notRequired()}),profession:m().when("mainSourceOfIncome",{is:o=>!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(o),then:o=>o.required(c("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),companyName:m().when("mainSourceOfIncome",{is:o=>!["app.mortgage.step3.main_source_income_option_5","app.mortgage.step3.main_source_income_option_6"].includes(o),then:o=>o.required(c("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),additionalIncome:m().required(c("error_select_one_of_the_options","Please select one of the options")).test("not-empty",c("error_select_one_of_the_options","Please select one of the options"),o=>o!=null&&o!==""),additionalIncomeAmount:w().when("additionalIncome",{is:o=>o!=null&&o!==""&&o!=="option_1",then:o=>o.required(c("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),obligation:m().required(c("error_select_one_of_the_options","Please select one of the options")),bank:m().when("obligation",{is:o=>o!=null&&o!==""&&o!=="option_1",then:o=>o.required(c("error_select_bank","Please select a bank")),otherwise:o=>o.notRequired()}),monthlyPaymentForAnotherBank:w().when("obligation",{is:o=>o!=null&&o!==""&&o!=="option_1",then:o=>o.required(c("error_fill_field","Please fill this field")),otherwise:o=>o.notRequired()}),endDate:m().when("obligation",{is:o=>o!=null&&o!==""&&o!=="option_1",then:o=>o.required(c("error_date","Please enter a valid date")),otherwise:o=>o.notRequired()})}),oe=()=>{const o=x(),u=L(),d=h(i=>i.borrowersPersonalData.borrowersPersonalData),t=d!==void 0?d:void 0,r={mainSourceOfIncome:(t==null?void 0:t.mainSourceOfIncome)||"",monthlyIncome:(t==null?void 0:t.monthlyIncome)||null,startDate:(t==null?void 0:t.startDate)||new Date().getTime(),fieldOfActivity:(t==null?void 0:t.fieldOfActivity)||"",profession:(t==null?void 0:t.profession)||"",companyName:(t==null?void 0:t.companyName)||"",additionalIncome:(t==null?void 0:t.additionalIncome)||"",additionalIncomeAmount:(t==null?void 0:t.additionalIncomeAmount)||null,obligation:(t==null?void 0:t.obligation)||"",bank:(t==null?void 0:t.bank)||"",monthlyPaymentForAnotherBank:(t==null?void 0:t.monthlyPaymentForAnotherBank)||null,endDate:(t==null?void 0:t.endDate)||new Date().getTime(),amountIncomeCurrentYear:(t==null?void 0:t.amountIncomeCurrentYear)||null};return n.jsxs(n.Fragment,{children:[n.jsx(C,{initialValues:r,validationSchema:Co,validateOnMount:!0,onSubmit:i=>{o(R(i)),u("/services/calculate-mortgage/2")},children:n.jsxs(M,{children:[n.jsx(Q,{children:n.jsx(ko,{})}),n.jsx(ao,{})]})}),n.jsx(No,{}),n.jsx(fo,{}),n.jsx(yo,{})]})};export{oe as default};
