import{j as c}from"./ui-vendor-5a9cd79c.js";import{a as H,u as $,j as U,d as _e,o as Ve,c as O,l as Ze,H as Je,I as Qe,n as R,J as et,K as tt}from"./index-c0d564f3.js";import{P as nt,e as rt,B as Y,I as at,a as L,D as it,E as ot,M as je}from"./index-f0724ccb.js";import{u as N,i as st}from"./i18n-vendor-5cfd36a0.js";import{u as ce,a as ke,c as B,f as Se,F as Ie,b as De,i as lt}from"./form-vendor-3025b96d.js";import{r as P,b as M,u as ct,f as dt}from"./react-vendor-19e41fc0.js";import{F as ut}from"./FormattedInput-94d27b7f.js";import{w as se}from"./components-vendor-e60b5450.js";import{W as ft,f as mt}from"./AddButton-e8c9ce63.js";import{u as pt,P as ht,t as _t,f as vt,a as gt,M as yt}from"./MortgageParameters-b52ce456.js";import{a as bt}from"./useDropdownData-a5f9f8a4.js";import{C as ne}from"./Column-a76f721c.js";import{D as xt}from"./DropdownMenu-4b9ce17d.js";import{R as wt}from"./Row-048b5aa8.js";import{A as jt,a as kt,g as Pe,b as ue,O as St,M as It,c as Oe}from"./componentsByIncomeSource-c35439d3.js";const or=()=>{const{i18n:e}=N(),r=H(),t=$(a=>a.modalSlice.isOpenLogin),n=()=>{r(U()),r(_e("login"))},o=()=>{r(U()),r(_e("codeSignUp")),r(Ve())};return t?e.language==="he"?c.jsx(nt,{onClose:n,onSuccess:o}):c.jsx(rt,{onClose:n,onSuccess:o}):null},Dt="_buttons_17878_16",Pt="_wrapper_17878_28",$t={"submit-btn":"_submit-btn_17878_1",buttons:Dt,wrapper:Pt},fe=O.bind($t),sr=({showValidationHints:e=!1})=>{const{t:r}=N(),{isValid:t,handleSubmit:n,errors:o,values:a,setFieldTouched:d}=ce(),[i,l]=P.useState(!1),u=()=>{Object.keys(a).forEach(m=>{d(m,!0,!1)}),t?n():l(!0)};return c.jsx("div",{className:fe("submit-btn"),children:c.jsx("div",{className:fe("wrapper"),children:c.jsx("div",{className:fe("buttons"),children:c.jsx(Y,{onClick:u,size:"smallLong",type:"button",style:{opacity:t?1:.7,cursor:t?"pointer":"not-allowed",pointerEvents:"auto",zIndex:9999},children:r("button_next")})})})})};var Ne=Math.sqrt(50),Ce=Math.sqrt(10),Ee=Math.sqrt(2);function Tt(e,r,t){var n,o=-1,a,d,i;if(r=+r,e=+e,t=+t,e===r&&t>0)return[e];if((n=r<e)&&(a=e,e=r,r=a),(i=Mt(e,r,t))===0||!isFinite(i))return[];if(i>0){let l=Math.round(e/i),u=Math.round(r/i);for(l*i<e&&++l,u*i>r&&--u,d=new Array(a=u-l+1);++o<a;)d[o]=(l+o)*i}else{i=-i;let l=Math.round(e*i),u=Math.round(r*i);for(l/i<e&&++l,u/i>r&&--u,d=new Array(a=u-l+1);++o<a;)d[o]=(l+o)/i}return n&&d.reverse(),d}function Mt(e,r,t){var n=(r-e)/Math.max(0,t),o=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,o);return o>=0?(a>=Ne?10:a>=Ce?5:a>=Ee?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(a>=Ne?10:a>=Ce?5:a>=Ee?2:1)}function Ae(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ae(Object(t),!0).forEach(function(n){Ot(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ae(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function G(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Re(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function W(e,r,t){return r&&Re(e.prototype,r),t&&Re(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ot(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function re(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&ve(e,r)}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},le(e)}function ve(e,r){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},ve(e,r)}function Nt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e,r){if(r&&(typeof r=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(e)}function ae(e){var r=Nt();return function(){var n=le(e),o;if(r){var a=le(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Ct(this,o)}}function ge(e,r){return At(e)||Ft(e,r)||qe(e,r)||Bt()}function ye(e){return Et(e)||Rt(e)||qe(e)||Ht()}function Et(e){if(Array.isArray(e))return be(e)}function At(e){if(Array.isArray(e))return e}function Rt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ft(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,d,i;try{for(t=t.call(e);!(o=(d=t.next()).done)&&(n.push(d.value),!(r&&n.length===r));o=!0);}catch(l){a=!0,i=l}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw i}}return n}}function qe(e,r){if(e){if(typeof e=="string")return be(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return be(e,r)}}function be(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xe="react-compound-slider:";function Ke(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return function(t,n){return t.val>n.val?e?-1:1:n.val>t.val?e?1:-1:0}}function te(e,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=e.findIndex(function(l){return l.key===r});if(o!==-1){var a=e[o],d=a.key,i=a.val;return i===t?e:[].concat(ye(e.slice(0,o)),[{key:d,val:t}],ye(e.slice(o+1))).sort(Ke(n))}return e}function Z(e,r){if(!e)return[0,0];var t=e.getBoundingClientRect(),n=r?t.top:t.left,o=r?t.bottom:t.right;return[n,o]}function Fe(e){var r=e.type,t=r===void 0?"":r,n=e.touches;return!n||n.length>1||t.toLowerCase()==="touchend"&&n.length>0}function me(e,r){return e?r.touches[0].clientY:r.touches[0].pageX}function He(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=0,a=e.map(function(d){var i=t.getValue(d);return d!==i&&(o+=1,se(!n,"".concat(xe," Invalid value encountered. Changing ").concat(d," to ").concat(i,"."))),i}).map(function(d,i){return{key:"$$-".concat(i),val:d}}).sort(Ke(r));return{handles:a,changes:o}}function Ut(e,r){return r}function Lt(e,r){for(var t=0;t<e.length;t++)if(e[t].key!==r[t].key||r[t+1]&&r[t].val===r[t+1].val)return e;return r}function we(e,r,t,n,o){for(var a=-1,d=!0,i=0;i<e.length;i++){var l=e[i],u=r[i];if(!u||u.key!==l.key)return e;u.val!==l.val&&(a=i,d=u.val-l.val>0)}if(a===-1)return e;for(var m=d?t:-t,s=0;s<r.length;s++){var h=r[s],f=r[s+1];if(f&&h.val===f.val)if(s===a){var p=f.val+m;if(o(p)===p){var v=te(r,f.key,f.val+m,n),g=we(r,v,t,n,o);return g===r?e:g}else return e}else{var y=h.val+m;if(o(y)===y){var j=te(r,h.key,h.val+m,n),S=we(r,j,t,n,o);return S===r?e:S}else return e}}return r}function K(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){return r.forEach(function(o){return o&&o(n)})}}var zt=function(){return{value:0,percent:0}},Ye=function(e){re(t,e);var r=ae(t);function t(){var n;G(this,t);for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];return n=r.call.apply(r,[this].concat(a)),n.getRailProps=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=n.props,u=l.emitMouse,m=l.emitTouch;return F(F({},i),{},{onMouseDown:K(i&&i.onMouseDown,u),onTouchStart:K(i&&i.onTouchStart,m)})},n}return W(t,[{key:"render",value:function(){var o=this.getRailProps,a=this.props,d=a.getEventData,i=a.activeHandleID,l=i===void 0?"":i,u=a.children,m=u({getEventData:d||zt,activeHandleID:l,getRailProps:o});return m&&M.Children.only(m)}}]),t}(P.Component),Ge=function(e){re(t,e);var r=ae(t);function t(){var n;G(this,t);for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];return n=r.call.apply(r,[this].concat(a)),n.autofocus=function(i){i.target instanceof HTMLElement&&i.target.focus()},n.getHandleProps=function(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=n.props,m=u.emitKeyboard,s=u.emitMouse,h=u.emitTouch;return F(F({},l),{},{onKeyDown:K(l&&l.onKeyDown,function(f){return m&&m(f,i)}),onMouseDown:K(l&&l.onMouseDown,n.autofocus,function(f){return s&&s(f,i)}),onTouchStart:K(l&&l.onTouchStart,function(f){return h&&h(f,i)})})},n}return W(t,[{key:"render",value:function(){var o=this.getHandleProps,a=this.props,d=a.activeHandleID,i=d===void 0?"":d,l=a.children,u=a.handles,m=u===void 0?[]:u,s=l({handles:m,activeHandleID:i,getHandleProps:o});return s&&M.Children.only(s)}}]),t}(P.Component),$e=function(){function e(){G(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return W(e,[{key:"createInterpolator",value:function(t,n){var o=this,a=t[0],d=t[1],i=n[0],l=n[1];return d<a?function(u){return o.interpolateValue(l,i)(o.deinterpolateValue(d,a)(u))}:function(u){return o.interpolateValue(i,l)(o.deinterpolateValue(a,d)(u))}}},{key:"interpolateValue",value:function(t,n){return t=+t,n-=t,function(a){return t+n*a}}},{key:"deinterpolateValue",value:function(t,n){return(n-=t=+t)?function(o){return(o-t)/n}:function(){return n}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(t){var n=this.domain,o=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(n,o)))(+t)}},{key:"setDomain",value:function(t){return this.domain=[t[0],t[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(t){return this.range=[t[0],t[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(t){var n=this.domain;return Tt(n[0],n[n.length-1],t||10)}}]),e}(),Vt=function(){return{value:0,percent:0}},qt=function(e){re(t,e);var r=ae(t);function t(){return G(this,t),r.apply(this,arguments)}return W(t,[{key:"render",value:function(){var o=this.props,a=o.children,d=o.values,i=o.scale,l=i===void 0?new $e:i,u=o.count,m=u===void 0?10:u,s=o.getEventData,h=s===void 0?Vt:s,f=o.activeHandleID,p=f===void 0?"":f,v=(d||l.getTicks(m)).map(function(y){return{id:"$$-".concat(y),value:y,percent:l.getValue(y)}}),g=a({getEventData:h,activeHandleID:p,ticks:v});return g&&M.Children.only(g)}}]),t}(P.Component),Kt=function(){return{value:0,percent:0}},We=function(e){re(t,e);var r=ae(t);function t(){var n;G(this,t);for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];return n=r.call.apply(r,[this].concat(a)),n.getTrackProps=function(i){var l=n.props,u=l.emitMouse,m=l.emitTouch;return F(F({},i||{}),{},{onMouseDown:K(i&&i.onMouseDown,u),onTouchStart:K(i&&i.onTouchStart,m)})},n}return W(t,[{key:"render",value:function(){for(var o=this.getTrackProps,a=this.props,d=a.children,i=a.left,l=i===void 0?!0:i,u=a.right,m=u===void 0?!0:u,s=a.scale,h=s===void 0?new $e:s,f=a.handles,p=f===void 0?[]:f,v=a.getEventData,g=v===void 0?Kt:v,y=a.activeHandleID,j=y===void 0?"":y,S=h.getDomain(),I=[],x=0;x<p.length+1;x++){var k=p[x-1],_=p[x];x===0&&l===!0?k={id:"$",value:S[0],percent:0}:x===p.length&&m===!0&&(_={id:"$",value:S[1],percent:100}),k&&_&&I.push({id:"".concat(k.id,"-").concat(_.id),source:k,target:_})}var w=d({getEventData:g,activeHandleID:j,tracks:I,getTrackProps:o});return w&&M.Children.only(w)}}]),t}(P.Component);function Be(e,r,t){return Math.min(Math.max(e,r),t)}var Ue=W(function e(){var r=this;G(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(t){return r.domain=[t[0],t[1]],r},this.setRange=function(t){return r.range=[t[0],t[1]],r},this.setStep=function(t){return r.step=t,r},this.getValue=function(t){var n=ge(r.domain,2),o=n[0],a=n[1],d=ge(r.range,2),i=d[0],l=d[1],u=r.step,m=(Be(t,o,a)-o)/(a-o),s=u*Math.round(m*(l-i)/u)+i;return Be(s,i<l?i:l,l>i?l:i)}}),J=typeof window<"u"&&typeof document<"u",A=function(){},Yt=function(r){return function(t,n,o){return t&&r[o]===n}},Gt=function(r,t){return r===t||r.length===t.length&&r.reduce(Yt(t),!0)},Wt=function(r){if(!P.isValidElement(r))return!1;var t=r.type,n=t?t.name:"";return n===Ge.name||n===Ye.name||n===qt.name||n===We.name},Xt=function(r,t,n,o){var a=o?r-t:r+t;return o?Math.max(n[0],a):Math.min(n[1],a)},Zt=function(r,t,n,o){var a=o?r+t:r-t;return o?Math.min(n[1],a):Math.max(n[0],a)},ie=[0,100],Jt=function(e){re(t,e);var r=ae(t);function t(){var n;G(this,t);for(var o=arguments.length,a=new Array(o),d=0;d<o;d++)a[d]=arguments[d];return n=r.call.apply(r,[this].concat(a)),n.state={step:.1,values:[],domain:ie,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},n.slider=M.createRef(),n.onKeyDown=function(i,l){var u=["ArrowRight","ArrowUp"],m=["ArrowDown","ArrowLeft"],s=q(n),h=s.state.handles,f=s.props,p=f.step,v=p===void 0?.1:p,g=f.reversed,y=g===void 0?!1:g,j=f.vertical,S=j===void 0?!1:j,I=f.domain,x=I===void 0?[0,100]:I,k=i.key||"".concat(i.keyCode);if(u.concat(m).includes(k)){if(S){var _=[m,u];u=_[0],m=_[1]}i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();var w=h.find(function(E){return E.key===l});if(w){var b=w.val,C=b;u.includes(k)?C=Xt(b,v,x,y):m.includes(k)&&(C=Zt(b,v,x,y));var D=h.map(function(E){return E.key===l?{key:E.key,val:C}:E});n.submitUpdate(D,!0)}}},n.onMouseDown=function(i,l){n.onStart(i,l,!1)},n.onTouchStart=function(i,l){Fe(i)||n.onStart(i,l,!0)},n.getEventData=function(i,l){var u=q(n),m=u.state,s=m.pixelToStep,h=m.valueToPerc,f=u.props.vertical;s.setDomain(Z(n.slider.current,f));var p;return l&&i instanceof TouchEvent?p=s.getValue(me(f,i)):i instanceof MouseEvent&&(p=s.getValue(f?i.clientY:i.pageX)),{value:p,percent:h.getValue(p)}},n.onMouseMove=function(i){var l=q(n),u=l.state,m=u.handles,s=u.pixelToStep,h=u.activeHandleID,f=h===void 0?"":h,p=l.props,v=p.vertical,g=p.reversed,y=g===void 0?!1:g;s.setDomain(Z(n.slider.current,v));var j=s.getValue(v?i.clientY:i.pageX),S=te(m,f,j,y);n.submitUpdate(S)},n.onTouchMove=function(i){var l=q(n),u=l.state,m=u.handles,s=u.pixelToStep,h=u.activeHandleID,f=l.props,p=f.vertical,v=f.reversed;if(!(s===null||Fe(i))){s.setDomain(Z(n.slider.current,p));var g=s.getValue(me(p,i)),y=te(m,h,g,v);n.submitUpdate(y)}},n.onMouseUp=function(){var i=q(n),l=i.state,u=l.handles,m=u===void 0?[]:u,s=l.activeHandleID,h=i.props,f=h.onChange,p=f===void 0?A:f,v=h.onSlideEnd,g=v===void 0?A:v;p(m.map(function(y){return y.val})),g(m.map(function(y){return y.val}),{activeHandleID:s}),n.setState({activeHandleID:""}),J&&(document.removeEventListener("mousemove",n.onMouseMove),document.removeEventListener("mouseup",n.onMouseUp))},n.onTouchEnd=function(){var i=q(n),l=i.state,u=l.handles,m=l.activeHandleID,s=i.props,h=s.onChange,f=h===void 0?A:h,p=s.onSlideEnd,v=p===void 0?A:p;f(u.map(function(g){return g.val})),v(u.map(function(g){return g.val}),{activeHandleID:m}),n.setState({activeHandleID:""}),J&&(document.removeEventListener("touchmove",n.onTouchMove),document.removeEventListener("touchend",n.onTouchEnd))},n}return W(t,[{key:"componentDidMount",value:function(){var o=this.state.pixelToStep,a=this.props.vertical;o.setDomain(Z(this.slider.current,a))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){J&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(o,a,d){var i=this.state.handles,l=this.props.onSlideStart,u=l===void 0?A:l;d||o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation();var m=i.find(function(s){return s.key===a});m?(this.setState({activeHandleID:a}),u(i.map(function(s){return s.val}),{activeHandleID:a}),d?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(o,d))}},{key:"handleRailAndTrackClicks",value:function(o,a){var d=this,i=this.state,l=i.handles,u=i.pixelToStep,m=this.props,s=m.vertical,h=m.reversed,f=h===void 0?!1:h,p=this.slider;u.setDomain(Z(p.current,s));var v;a?v=u.getValue(me(s,o)):v=u.getValue(s?o.clientY:o.pageX);for(var g="",y=1/0,j=0;j<l.length;j++){var S=l[j],I=S.key,x=S.val,k=Math.abs(x-v);k<y&&(g=I,y=k)}var _=te(l,g,v,f);this.setState({activeHandleID:g},function(){d.submitUpdate(_,!0),a?d.addTouchEvents():d.addMouseEvents()})}},{key:"addMouseEvents",value:function(){J&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){J&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=this.props,i=d.mode,l=i===void 0?1:i,u=d.step,m=u===void 0?.1:u,s=d.onUpdate,h=s===void 0?A:s,f=d.onChange,p=f===void 0?A:f,v=d.reversed,g=v===void 0?!1:v,y=this.state.valueToStep.getValue;this.setState(function(j){var S=j.handles,I=[];if(typeof l=="function")I=l(S,o,m,g,y),se(Array.isArray(I),"Custom mode function did not return an array.");else switch(l){case 1:I=Ut(S,o);break;case 2:I=Lt(S,o);break;case 3:I=we(S,o,m,g,y);break;default:I=o,se(!1,"".concat(xe," Invalid mode value."))}return h(I.map(function(x){return x.val})),a&&p(I.map(function(x){return x.val})),{handles:I}})}},{key:"render",value:function(){var o=this,a=this.state,d=a.handles,i=a.valueToPerc,l=a.activeHandleID,u=this.props,m=u.className,s=u.rootStyle,h=s===void 0?{}:s,f=u.rootProps,p=f===void 0?{}:f,v=u.component,g=v===void 0?"div":v,y=u.disabled,j=y===void 0?!1:y,S=u.flatten,I=S===void 0?!1:S,x=d.map(function(_){var w=_.key,b=_.val;return{id:w,value:b,percent:i.getValue(b)}}),k=M.Children.map(this.props.children,function(_){return Wt(_)===!0?M.cloneElement(_,{scale:i,handles:x,activeHandleID:l,getEventData:o.getEventData,emitKeyboard:j?A:o.onKeyDown,emitMouse:j?A:o.onMouseDown,emitTouch:j?A:o.onTouchStart}):_});return I?M.createElement(M.Fragment,null,M.createElement(g,F(F({},p),{},{style:h,className:m,ref:this.slider})),k):M.createElement(M.Fragment,null,M.createElement(g,F(F({},p),{},{style:h,className:m,ref:this.slider}),k))}}],[{key:"getDerivedStateFromProps",value:function(o,a){var d=o.step,i=d===void 0?.1:d,l=o.values,u=o.domain,m=u===void 0?ie:u,s=o.reversed,h=s===void 0?!1:s,f=o.onUpdate,p=f===void 0?A:f,v=o.onChange,g=v===void 0?A:v,y=o.warnOnChanges,j=y===void 0?!1:y,S=a.valueToPerc,I=a.valueToStep,x=a.pixelToStep,k={};if((!S||!I||!x)&&(S=new $e,I=new Ue,x=new Ue,k.valueToPerc=S,k.valueToStep=I,k.pixelToStep=x),a.domain===ie||a.step===null||a.domain===null||a.reversed===null||i!==a.step||m[0]!==a.domain[0]||m[1]!==a.domain[1]||h!==a.reversed){var _=ge(m,2),w=_[0],b=_[1];I.setStep(i).setRange([w,b]).setDomain([w,b]),h===!0?(S.setDomain([w,b]).setRange([100,0]),x.setStep(i).setRange([b,w])):(S.setDomain([w,b]).setRange([0,100]),x.setStep(i).setRange([w,b])),se(b>w,"".concat(xe," Max must be greater than min (even if reversed). Max is ").concat(b,". Min is ").concat(w,"."));var C=He(l||a.values,h,I,j),D=C.handles,E=C.changes;(E||l===void 0||l===a.values)&&(p(D.map(function(z){return z.val})),g(D.map(function(z){return z.val}))),k.step=i,k.values=l,k.domain=m===ie?ye(m):m,k.handles=D,k.reversed=h}else if(!Gt(l,a.values)){var Me=He(l,h,I,j),de=Me.handles,Xe=Me.changes;Xe&&(p(de.map(function(z){return z.val})),g(de.map(function(z){return z.val}))),k.values=l,k.handles=de}return Object.keys(k).length?k:null}}]),t}(P.PureComponent);const Qt="_slider_w5hmp_1",en="_rail_w5hmp_7",tn="_handle_w5hmp_15",nn="_track_w5hmp_36",Te={slider:Qt,rail:en,handle:tn,track:nn},rn=O.bind(Te),an=({source:e,target:r,getTrackProps:t})=>c.jsx("div",{className:rn("track","bg-accent-primary"),style:{width:`${r.percent-e.percent}%`},...t()}),on=O.bind(Te),sn=({handle:{id:e,percent:r},getHandleProps:t})=>{const{i18n:n}=N();return c.jsx("div",{className:on("handle","bg-accent-primary"),style:{left:`${r}%`,marginLeft:n.language==="he"?"-12px":"0px"},...t(e)})},Le=O.bind(Te),ln=({min:e,max:r,step:t,values:n,onUpdate:o,onChange:a,"data-testid":d})=>{const{i18n:i}=N();return c.jsxs(Jt,{mode:1,step:t,domain:[e,r],onUpdate:o,onChange:a,values:n,reversed:i.language==="he",className:Le("slider"),"data-testid":d,children:[c.jsx(Ye,{children:({getRailProps:l})=>c.jsx("div",{className:Le("rail","bg-base-secondaryDefaultButton"),...l()})}),c.jsx(Ge,{children:({handles:l,getHandleProps:u})=>c.jsx("div",{className:"slider-handles",children:l.map(m=>c.jsx(sn,{handle:m,domain:[e,r],getHandleProps:u},m.id))})}),c.jsx(We,{left:i.language!=="he",right:i.language==="he",children:({tracks:l,getTrackProps:u})=>c.jsx("div",{className:"slider-tracks",children:l.map(({id:m,source:s,target:h})=>c.jsx(an,{source:s,target:h,getTrackProps:u},m))})})]})},cn={"slider-input":"_slider-input_2u5jo_1","range-ranges":"_range-ranges_2u5jo_12"},ze=O.bind(cn),dn=({value:e,max:r,min:t,name:n,error:o,title:a,handleChange:d,disableRangeValues:i,tooltip:l,disableCurrency:u,unitsMax:m,unitsMin:s,"data-testid":h})=>{const[f,p]=P.useState(e),v=j=>{p(j[0])},g=j=>{d(j[0])},y=j=>{d(j)};return P.useLayoutEffect(()=>{p(e)},[e]),c.jsx(c.Fragment,{children:c.jsxs("div",{className:ze("slider-input"),children:[c.jsx(ut,{disableCurrency:u,title:a,tooltip:l,name:n,error:o,value:f,handleChange:y,"data-testid":h}),c.jsx(ln,{min:0,max:r,step:1,values:[e],onUpdate:v,onChange:g,"data-testid":h?`${h}-slider`:void 0}),!i&&c.jsxs("div",{className:ze("range-ranges"),children:[c.jsx("div",{children:c.jsxs("span",{className:n+"Min",children:[t.toLocaleString("en-US")," ",s&&s]})}),c.jsx("div",{children:c.jsxs("span",{className:n+"Max",children:[r.toLocaleString("en-US")," ",m&&m]})})]})]})})},lr=P.memo(dn),un="_filled_1kf35_18",fn={"alert-warning":"_alert-warning_1kf35_1","alert-warning__text":"_alert-warning__text_1kf35_10",filled:un},pe=O.bind(fn),cr=({children:e,filled:r,icon:t,text:n})=>c.jsxs("div",{className:pe("alert-warning",{filled:r}),children:[c.jsx("div",{className:pe("alert-warning__icon"),children:t||c.jsx(ft,{})}),c.jsx("span",{className:pe("alert-warning__text"),children:e||n})]}),mn="_info_1vgj8_1",pn={info:mn,"info-title":"_info-title_1vgj8_11","info-icon":"_info-icon_1vgj8_19"},he=O.bind(pn),hn=({title:e})=>c.jsxs("div",{className:he("info"),children:[c.jsx(at,{className:he("info-icon"),size:24}),c.jsx("p",{className:he("info-title"),children:e})]}),_n="_card_wewux_1",vn={card:_n,"card-title":"_card-title_wewux_10","card-title__text":"_card-title__text_wewux_21","card-children":"_card-children_wewux_34","card-footer":"_card-footer_wewux_39","card-check":"_card-check_wewux_44","card-check__title":"_card-check__title_wewux_49","card-check__price":"_card-check__price_wewux_61","card-button":"_card-button_wewux_72"},T=O.bind(vn),gn=({title:e,infoTitle:r,children:t,mortgageAmount:n,totalAmount:o,mothlyPayment:a,bankOffer:d,onBankSelect:i})=>{N();const{getContent:l}=L("mortgage_step4"),u=H(),m=n.toLocaleString("en-US"),s=o.toLocaleString("en-US"),h=a.toLocaleString("en-US"),f=()=>{const p=d||{id:`bank_${Date.now()}`,bankName:e,program:r,rate:0,monthlyPayment:a,totalAmount:o,mortgageAmount:n};u(Ze({selectedBank:p,selectedBankId:p.id,selectedBankName:p.bankName})),i&&i(p),u(_e("signUp")),u(Ve())};return c.jsxs("div",{className:T("card"),children:[c.jsxs("div",{className:T("card-title"),children:[c.jsx("h3",{className:T("card-title__text"),children:e}),c.jsx(hn,{title:r})]}),c.jsx("div",{className:T("card-children"),children:t}),c.jsx(it,{}),c.jsxs("div",{className:T("card-footer"),children:[c.jsxs("div",{className:T("card-check"),children:[c.jsx("p",{className:T("card-check__title"),children:l("mortgage_total","mortgage_total")}),c.jsxs("p",{className:T("card-check__price"),children:[m," ₪"]})]}),c.jsxs("div",{className:T("card-check"),children:[c.jsx("p",{className:T("card-check__title"),children:l("mortgage_total_return","mortgage_total_return")}),c.jsxs("p",{className:T("card-check__price"),children:[s," ₪"]})]}),c.jsxs("div",{className:T("card-check"),children:[c.jsx("p",{className:T("card-check__title"),children:l("mortgage_monthly","mortgage_monthly")}),c.jsxs("p",{className:T("card-check__price"),children:[h," ₪"]})]})]}),c.jsx("button",{type:"button",className:T("card-button"),onClick:f,children:l("mortgage_select_bank","mortgage_select_bank")})]})},yn="_container_ceieu_1",bn="_column_ceieu_8",xn={container:yn,column:bn},Q=O.bind(xn),dr=()=>{const{t:e,i18n:r}=N(),t=pt(),{getContent:n}=L("bank_offers"),[o,a]=P.useState([]),[d,i]=P.useState([]),[l,u]=P.useState(!0),[m,s]=P.useState(null),h=$(_=>_.mortgage),f=$(_=>_.credit),p=$(_=>_.refinanceMortgage),v=$(_=>_.refinanceCredit),g=()=>{switch(t){case"credit":return f;case"refinance-mortgage":return p;case"refinance-credit":return v;default:return h}},y=()=>{switch(t){case"credit":return f;case"refinance-mortgage":return p;case"refinance-credit":return v;default:return h.incomeData}},j=g(),S=y(),I=$(_=>_.filter.mortgageType),x=t==="credit";P.useEffect(()=>{(async()=>{try{u(!0),s(null);const b=_t((()=>{switch(t){case"credit":return f;case"refinance-mortgage":return p;case"refinance-credit":return v;default:return h}})(),j,S,t||void 0),C=await vt(b);C.length===0&&console.warn("⚠️ [BANK-OFFERS] NO BANK OFFERS FOUND!"),a(C)}catch(w){console.error("💥 [BANK-OFFERS] Error fetching bank offers:",w),s(w.message||"Unknown error occurred")}finally{u(!1)}})()},[h,f,p,v,j,S,t,e]),P.useEffect(()=>{(async()=>{try{const w=await gt(),b=r.language||"en",C=w.map(D=>{let E=b==="he"?D.title:b==="ru"?D.title_ru:D.title_en;switch(D.id){case"prime":E=x?e("credit_prime_percent","Prime Rate Credit"):e("mortgage_prime_percent","Prime Rate Mortgage");break;case"fixed_inflation":E=x?e("credit_fix_percent","Fixed Rate Credit"):e("mortgage_fix_percent","Fixed Rate Mortgage");break;case"variable_inflation":E=x?e("credit_float_percent","Variable Rate Credit"):e("mortgage_float_percent","Variable Rate Mortgage");break;default:break}return{id:D.id,title:E,description:b==="he"?D.description:b==="ru"?D.description_ru:D.description_en,conditionFinance:b==="he"?D.conditionFinance:b==="ru"?D.conditionFinance_ru:D.conditionFinance_en,conditionPeriod:b==="he"?D.conditionPeriod:b==="ru"?D.conditionPeriod_ru:D.conditionPeriod_en,conditionBid:b==="he"?D.conditionBid:b==="ru"?D.conditionBid_ru:D.conditionBid_en,interestRate:D.interestRate,termYears:D.termYears}});i(C)}catch{console.warn("⚠️ [MORTGAGE-PROGRAMS] Failed to fetch programs, using fallback"),i(x?[{id:"prime",title:e("credit_prime_percent","Prime Rate Credit"),description:e("prime_description","Prime rate linked credit program"),conditionFinance:e("up_to_33_percent","Up to 33%"),conditionPeriod:e("4_to_30_years","4-30 years"),conditionBid:e("prime_rate_structure","Variable + Fixed components")},{id:"fixed_inflation",title:e("credit_fix_percent","Fixed rate linked to inflation"),description:e("fixed_inflation_description","Fixed rate with inflation adjustment"),conditionFinance:e("up_to_70_percent","Up to 70%"),conditionPeriod:e("5_to_30_years","5-30 years"),conditionBid:e("fixed_rate_structure","Fixed rate structure")},{id:"variable_inflation",title:e("credit_float_percent","Variable rate linked to inflation"),description:e("variable_inflation_description","Variable rate with inflation adjustment"),conditionFinance:e("up_to_75_percent","Up to 75%"),conditionPeriod:e("4_to_25_years","4-25 years"),conditionBid:e("variable_rate_structure","Variable rate structure")}]:[{id:"prime",title:e("mortgage_prime_percent","Prime Rate Mortgage"),description:e("prime_description","Prime rate linked mortgage program"),conditionFinance:e("up_to_33_percent","Up to 33%"),conditionPeriod:e("4_to_30_years","4-30 years"),conditionBid:e("prime_rate_structure","Variable + Fixed components")},{id:"fixed_inflation",title:e("mortgage_fix_percent","Fixed rate linked to inflation"),description:e("fixed_inflation_description","Fixed rate with inflation adjustment"),conditionFinance:e("up_to_70_percent","Up to 70%"),conditionPeriod:e("5_to_30_years","5-30 years"),conditionBid:e("fixed_rate_structure","Fixed rate structure")},{id:"variable_inflation",title:e("mortgage_float_percent","Variable rate linked to inflation"),description:e("variable_inflation_description","Variable rate with inflation adjustment"),conditionFinance:e("up_to_75_percent","Up to 75%"),conditionPeriod:e("4_to_25_years","4-25 years"),conditionBid:e("variable_rate_structure","Variable rate structure")}])}})()},[e,r.language,x]);const k=_=>I==="all"||x?_:_.filter(w=>{switch(I){case"prime":return w.id==="prime";case"fixed":return w.id==="fixed_inflation";case"variable":return w.id==="variable_inflation";default:return!0}});return l?c.jsx("div",{className:Q("container"),children:n("loading_bank_offers",e("loading_bank_offers"))}):m?c.jsxs("div",{className:Q("container"),children:[n("bank_offers_error",e("bank_offers_error")),m]}):c.jsx("div",{className:Q("container"),children:o.length===0?c.jsxs("div",{className:Q("no-offers"),children:[c.jsx("h3",{children:n("no_bank_offers_available",e("no_bank_offers_available"))}),c.jsx("p",{children:n("no_offers_message",e("no_offers_message"))})]}):o.map((_,w)=>c.jsx(P.Fragment,{children:c.jsx("div",{className:Q("column"),children:c.jsx(gn,{title:_.bank_name||`${n("bank_name","Bank")} #${w+1}`,infoTitle:x?n("bank_offers_credit_register","Credit Registration"):n("mortgage_register","Mortgage Registration"),mortgageAmount:_.loan_amount,totalAmount:_.total_payment,mothlyPayment:_.monthly_payment,bankOffer:{id:_.bank_id,bankName:_.bank_name,program:x?"Credit Program":"Mortgage Program",rate:_.interest_rate,monthlyPayment:_.monthly_payment,totalAmount:_.total_payment,mortgageAmount:_.loan_amount},children:!x&&(k(d).length>0?k(d).map((b,C)=>c.jsx(ht,{title:b.title,percent:_.interest_rate||b.interestRate||2.1,mortgageAmount:_.loan_amount,monthlyPayment:_.monthly_payment,period:_.term_years||b.termYears||20,description:b.description,conditionFinance:b.conditionFinance,conditionPeriod:b.conditionPeriod,conditionBid:b.conditionBid},C)):c.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:n("no_programs_match_filter",'No programs match your selected filter. Try selecting "All Programs" to see all available options.')}))},_.bank_id||w)})},_.bank_id||w))})},wn="_dropdown_s6dzj_1",jn={dropdown:wn},kn=O.bind(jn),ur=({screenLocation:e}={})=>{N();const r=ct(),t=$(f=>f.filter),n=H(),o=e||"mortgage_step4",{getContent:a}=L(o),d=bt(o,"filter","full");d.loading,d.error&&console.warn("❌ Filter dropdown error:",d.error);const i=()=>{switch(t.mortgageType){case"all":return"filter_1";case"prime":return"filter_2";case"fixed":return"filter_3";case"variable":return"filter_4";default:return"filter_1"}},l=r.pathname.includes("refinance-credit"),u=()=>l?[{value:"filter_1",label:a("calculate_mortgage_filter_1","כל הצעות האשראי")},{value:"filter_2",label:a("calculate_mortgage_filter_2","הצעות בריבית מועדפת")},{value:"filter_3",label:a("calculate_mortgage_filter_3","הצעות בריבית קבועה")},{value:"filter_4",label:a("calculate_mortgage_filter_4","הצעות בריבית משתנה")}]:[{value:"filter_1",label:a("calculate_mortgage_filter_1","כל תוכניות המשכנתא")},{value:"filter_2",label:a("calculate_mortgage_filter_2","משכנתאות בריבית פריים")},{value:"filter_3",label:a("calculate_mortgage_filter_3","משכנתאות בריבית קבועה")},{value:"filter_4",label:a("calculate_mortgage_filter_4","משכנתאות בריבית משתנה")}],m=d.options.length>0?d.options:u(),h=(()=>l?{title:a("calculate_mortgage_filter_title","סנן הצעות אשראי"),placeholder:a("calculate_mortgage_filter_title","סנן הצעות אשראי")}:{title:a("calculate_mortgage_filter_title","סנן לפי סוג משכנתא"),placeholder:a("calculate_mortgage_filter_title","סנן לפי סוג משכנתא")})();return c.jsxs(ne,{children:[c.jsx(xt,{data:m,title:d.label||h.title,placeholder:d.placeholder||h.placeholder,value:i(),onChange:f=>n(Je(f)),className:kn("dropdown"),style:{background:"transparent !important"},disabled:d.loading}),d.error&&c.jsx(ot,{error:a("error_dropdown_load_failed","Failed to load filter options. Please refresh the page.")})]})},Sn=e=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",...e,children:c.jsx("path",{fill:"#FBE54D",d:"m21.31 6.88-4.188-4.19a1.5 1.5 0 0 0-2.122 0L3.44 14.25A1.487 1.487 0 0 0 3 15.312v4.19A1.5 1.5 0 0 0 4.5 21h4.19a1.487 1.487 0 0 0 1.06-.44l11.56-11.56a1.5 1.5 0 0 0 0-2.122ZM8.69 19.5H4.5v-4.189l8.25-8.25 4.19 4.19-8.25 8.25ZM18 10.19 13.81 6l2.25-2.25 4.19 4.19L18 10.19Z"})}),In="_profile_dtpha_1",Dn={profile:In,"profile-title":"_profile-title_dtpha_16","profile-title__text":"_profile-title__text_dtpha_21","profile-title__icon":"_profile-title__icon_dtpha_27","profile-data":"_profile-data_dtpha_34","profile-data__name":"_profile-data__name_dtpha_39","profile-data__phone":"_profile-data__phone_dtpha_45"},V=O.bind(Dn),Pn=({name:e,phone:r})=>{const{t,i18n:n}=N(),{getContent:o}=L("mortgage_step4"),a=dt();return c.jsx(ne,{children:c.jsxs("div",{className:V("profile"),children:[c.jsxs("div",{className:V("profile-title"),children:[c.jsx("p",{className:V("profile-title__text"),children:o("calculate_mortgage_profile_title","calculate_mortgage_profile_title")}),c.jsx(Sn,{onClick:()=>a("/services/calculate-mortgage/2"),className:V("profile-title__icon")})]}),c.jsxs("div",{className:V("profile-data"),children:[c.jsx("div",{className:V("profile-data__name"),children:e}),c.jsx("div",{className:V("profile-data__phone"),children:r&&mt(r,n.language)})]})]})})},fr=({cost:e,initialPayment:r,period:t,credit:n,nameSurname:o,phoneNumber:a})=>c.jsxs(wt,{style:{columnGap:"3rem",justifyContent:"flex-start"},children:[c.jsx(yt,{cost:e,initialPayment:r,period:t,credit:n}),c.jsx(Pn,{name:o,phone:a}),c.jsx(ne,{})]}),$n="_modal_lzcpe_1",Tn="_buttons_lzcpe_49",Mn={modal:$n,"modal-item":"_modal-item_lzcpe_18","modal-buttons":"_modal-buttons_lzcpe_31",buttons:Tn},oe=O.bind(Mn),On=()=>{const{t:e,i18n:r}=N(),{handleSubmit:t,isValid:n,values:o}=ce(),a=H();return c.jsx(c.Fragment,{children:c.jsxs("div",{className:oe("modal"),children:[c.jsxs("div",{className:oe("modal-item"),children:[c.jsx(jt,{excludeNoIncome:!0}),o.additionalIncome&&c.jsx(kt,{})]}),c.jsx("div",{className:oe("modal-buttons"),children:c.jsxs("div",{className:oe("buttons"),children:[c.jsx(Y,{variant:"modalBase",type:"submit",onClick:()=>a(U()),children:e("button_back")}),c.jsx(Y,{type:"submit",isDisabled:!n,onClick:t,size:"full",children:e("button_next_save")})]})})]})})},mr=()=>{const{t:e,i18n:r}=N(),{getContent:t}=L("common"),n=H(),o=$(p=>p.modalSlice.isOpenAdditionalIncome),a=$(p=>p.modalSlice.currentId),d=$(p=>p.borrowers.additionalIncomeModal),i=d[a-1]!==void 0?d[a-1]:void 0,l=()=>{n(U())},u=$(p=>p.borrowers.additionalIncomeModal),s=!u.some(p=>p.id===a)?Pe(u):a,h={additionalIncome:(i==null?void 0:i.additionalIncome)||"",additionalIncomeAmount:(i==null?void 0:i.additionalIncomeAmount)||null},f=ke().shape({additionalIncome:B().required(e("error_select_one_of_the_options")).test("not-empty",e("error_select_one_of_the_options"),p=>p!=null&&p!==""),additionalIncomeAmount:Se().when("additionalIncome",{is:p=>p!=null&&p!==""&&p!=="option_1",then:p=>p.required(st.t("error_fill_field")),otherwise:p=>p.notRequired()})});return c.jsx(je,{isVisible:o,onCancel:l,title:`${t("additional_source_of_income_modal_title","Additional Source of Income")} ${s+1}`,children:c.jsx(Ie,{initialValues:h,validationSchema:f,validateOnMount:!0,onSubmit:p=>{n(Qe({id:s,...p})),l()},children:c.jsx(De,{children:c.jsx(On,{})})})})},Nn="_modal_r2hy9_1",Cn="_container_r2hy9_41",En="_component_r2hy9_47",An="_buttons_r2hy9_59",Rn={modal:Nn,"modal-item":"_modal-item_r2hy9_18","modal-buttons":"_modal-buttons_r2hy9_23",container:Cn,component:En,buttons:An},ee=O.bind(Rn),Fn=()=>{const{t:e,i18n:r}=N(),{getContent:t}=L("common"),{handleSubmit:n,isValid:o,values:a,errors:d}=ce(),i=H(),{obligation:l}=a,m=(s=>({1:"",2:"bank_loan",3:"credit_card",4:"other"})[s]||"")(l);return console.log("Obligation mapping:",{originalValue:l,mappedKey:m,hasComponents:!!ue[m]}),c.jsx(c.Fragment,{children:c.jsxs("div",{className:ee("modal"),children:[c.jsxs("div",{className:ee("container"),children:[c.jsx(St,{screenLocation:"calculate_credit_3"}),ue[m]&&ue[m].map((s,h)=>c.jsx("div",{className:ee("component"),children:s},h)),c.jsx(ne,{})]}),c.jsx("div",{className:ee("modal-buttons"),children:c.jsxs("div",{className:ee("buttons"),children:[c.jsx(Y,{variant:"modalBase",type:"button",onClick:()=>i(U()),children:t("button_back")||(r.language==="he"?"חזור":r.language==="ru"?"Назад":"Back")}),c.jsx(Y,{type:"submit",isDisabled:!o,onClick:n,size:"full",children:t("button_next_save")||(r.language==="he"?"שמור והמשך":r.language==="ru"?"Сохранить и продолжить":"Save and Continue")})]})})]})})},pr=()=>{const{t:e,i18n:r}=N(),{getContent:t}=L("common"),n=H(),o=$(f=>f.modalSlice.isOpenObligation),a=$(f=>f.modalSlice.currentId),d=$(f=>f.borrowers.obligationModal),i=d[a-1]!==void 0?d[a-1]:void 0,l=()=>{n(U())},m=!d.some(f=>f.id===a)?Pe(d):a,s={obligation:(i==null?void 0:i.obligation)||"",bank:(i==null?void 0:i.bank)||"",monthlyPaymentForAnotherBank:(i==null?void 0:i.monthlyPaymentForAnotherBank)||null,endDate:(i==null?void 0:i.endDate)||new Date().getTime(),noIncome:(i==null?void 0:i.noIncome)||new Date().getTime()},h=ke().shape({obligation:B().required(R("error_select_one_of_the_options","Please select one of the options")),bank:B().when("obligation",{is:f=>f!=null&&f!==""&&f!=="1",then:f=>f.required(R("error_select_bank","Please select a bank")),otherwise:f=>f.notRequired()}),monthlyPaymentForAnotherBank:Se().when("obligation",{is:f=>f!=null&&f!==""&&f!=="1",then:f=>f.required(R("error_fill_field","Please fill this field")),otherwise:f=>f.notRequired()}),endDate:lt().when("obligation",{is:f=>f!=null&&f!==""&&f!=="1",then:f=>f.required(R("error_date","Please select a date")),otherwise:f=>f.notRequired()})});return c.jsx(je,{isVisible:o,onCancel:l,title:`${t("obligation_modal_title",e("obligation_modal_title"))} ${m+1}`,children:c.jsx(Ie,{initialValues:s,validationSchema:h,validateOnMount:!0,onSubmit:f=>{n(et({id:m,...f})),l()},children:c.jsx(De,{children:c.jsx(Fn,{})})})})},Hn="_modal_1gdud_1",Bn="_container_1gdud_41",Un="_component_1gdud_47",Ln="_buttons_1gdud_59",zn={modal:Hn,"modal-item":"_modal-item_1gdud_18","modal-buttons":"_modal-buttons_1gdud_23",container:Bn,component:Un,buttons:Ln},X=O.bind(zn),Vn=()=>{const{t:e,i18n:r}=N(),{handleSubmit:t,isValid:n,values:o,errors:a,touched:d,validateForm:i}=ce(),{mainSourceOfIncome:l}=o,u=H();return M.useEffect(()=>{},[n,o,a,d]),M.useEffect(()=>{l&&i()},[l,i]),c.jsx(c.Fragment,{children:c.jsxs("div",{className:X("modal"),children:[c.jsxs("div",{className:X("container"),children:[c.jsx("div",{className:X("component"),children:c.jsx(It,{})}),Oe[l]&&Oe[l].map((m,s)=>c.jsx("div",{className:X("component"),children:m},s)),c.jsx(ne,{})]}),c.jsx("div",{className:X("modal-buttons"),children:c.jsxs("div",{className:X("buttons"),children:[c.jsx(Y,{variant:"modalBase",type:"button",onClick:()=>u(U()),children:e("button_back")}),c.jsx(Y,{type:"button",isDisabled:!n,onClick:t,size:"full",children:e("button_next_save")})]})})]})})},hr=()=>{N();const{getContent:e}=L("common"),r=H(),t=$(s=>s.modalSlice.isOpenSourceOfIncome),n=$(s=>s.modalSlice.currentId),o=$(s=>s.borrowers.sourceOfIncomeModal),a=o[n-1]!==void 0?o[n-1]:void 0,d=()=>{r(U())},l=!o.some(s=>s.id===n)?Pe(o):n,u={mainSourceOfIncome:(a==null?void 0:a.mainSourceOfIncome)||"",monthlyIncome:(a==null?void 0:a.monthlyIncome)||null,startDate:(a==null?void 0:a.startDate)||new Date().getTime(),fieldOfActivity:(a==null?void 0:a.fieldOfActivity)||"",profession:(a==null?void 0:a.profession)||"",companyName:(a==null?void 0:a.companyName)||"",amountIncomeCurrentYear:(a==null?void 0:a.amountIncomeCurrentYear)||null},m=ke().shape({mainSourceOfIncome:B().required(R("error_select_answer","Please select an answer")),monthlyIncome:Se().transform((s,h)=>{if(typeof h=="string"){const f=h.replace(/[^0-9]/g,"");return f?parseInt(f,10):null}return s}).when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(R("error_fill_field","Please fill this field")),otherwise:s=>s.notRequired()}),startDate:B().when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(R("error_date","Please select a date")),otherwise:s=>s.notRequired()}),fieldOfActivity:B().when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(R("error_select_field_of_activity","Please select field of activity")),otherwise:s=>s.notRequired()}),profession:B().when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(R("error_fill_field","Please fill this field")),otherwise:s=>s.notRequired()}),companyName:B().when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(R("error_fill_field","Please fill this field")),otherwise:s=>s.notRequired()})});return c.jsx(je,{isVisible:t,onCancel:d,title:`${e("source_of_income_modal_title","Source of Income")} ${l+1}`,children:c.jsx(Ie,{initialValues:u,validationSchema:m,validateOnMount:!1,validateOnChange:!0,validateOnBlur:!0,onSubmit:s=>{r(tt({id:l,...s})),d()},children:c.jsx(De,{children:c.jsx(Vn,{})})})})};export{cr as A,dr as B,ur as F,or as M,pr as O,lr as S,fr as U,sr as a,hr as b,mr as c};
