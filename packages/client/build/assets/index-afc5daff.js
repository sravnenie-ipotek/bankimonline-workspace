import{j as e}from"./ui-vendor-5a9cd79c.js";import{L as k,r as m}from"./react-vendor-19e41fc0.js";import{b as I}from"./index-44d8657f.js";import{u as v}from"./i18n-vendor-5cfd36a0.js";import{M as w,C as F}from"./ClockIcon-9f189fdb.js";import"./index-82c03faf.js";import"./state-vendor-2a767ce0.js";import"./utils-vendor-48989965.js";import"./form-vendor-429348f6.js";import"./components-vendor-e60b5450.js";const D="_categoryFilter_1y0ov_1",B="_breadcrumb_1y0ov_10",$="_breadcrumbItem_1y0ov_25",E="_breadcrumbSeparator_1y0ov_49",S="_filterRow_1y0ov_60",V="_filterButton_1y0ov_71",R="_active_1y0ov_93",L="_drillDownIndicator_1y0ov_99",p={categoryFilter:D,breadcrumb:B,breadcrumbItem:$,breadcrumbSeparator:E,filterRow:S,filterButton:V,active:R,drillDownIndicator:L},M=({onCategoryChange:a,activeCategory:i})=>{const{t:c}=v(),y=[{key:"all",label:c("vacancies_category_all","Все")},{key:"development",label:c("vacancies_category_development","Разработка")},{key:"design",label:c("vacancies_category_design","Дизайн")},{key:"management",label:c("vacancies_category_management","Менеджмент")},{key:"marketing",label:c("vacancies_category_marketing","Маркетинг")},{key:"finance",label:c("vacancies_category_finance","Финансы")},{key:"customer_service",label:c("vacancies_category_customer_service","Работа с клиентами")}],l=r=>{a(r)};return e.jsx("div",{className:p.categoryFilter,children:e.jsx("div",{className:p.filterRow,children:y.map(r=>e.jsx("button",{className:`${p.filterButton} ${i===r.key?p.active:""}`,onClick:()=>l(r.key),children:r.label},r.key))})})},P=a=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:21,fill:"none",...a,children:[e.jsx("path",{fill:"#fff",d:"M16.536 15.416V4.746a1.005 1.005 0 0 1 .512-.996.963.963 0 0 1 1.413.779V16.204c0 .8-.367 1.17-1.171 1.17h-5.72a5.259 5.259 0 0 1-5.234-4.262 4.543 4.543 0 0 1-.1-.916V7.233a.97.97 0 0 1 .654-.97.88.88 0 0 1 1.054.316c.133.225.205.48.208.742.021 1.554 0 3.108 0 4.662a3.333 3.333 0 0 0 2.392 3.304c.328.095.667.144 1.008.146h4.73c.075.004.137-.008.254-.017Z"}),e.jsx("path",{fill:"#fff",d:"M3.46 5.592v10.671a.967.967 0 1 1-1.92.22V4.802c0-.805.37-1.176 1.166-1.176h5.72a5.262 5.262 0 0 1 5.238 4.259c.064.301.098.608.1.916v4.963a.96.96 0 0 1-1.408.904.976.976 0 0 1-.517-.958V9.013a3.334 3.334 0 0 0-2.642-3.375 3.583 3.583 0 0 0-.787-.08H3.747c-.087.005-.17.022-.287.034Z"})]}),A="_vacancyCardLink_1f3f2_1",G="_vacancyCard_1f3f2_1",H="_categoryChip_1f3f2_32",Z="_categoryDot_1f3f2_51",U="_categoryText_1f3f2_63",q="_jobTitle_1f3f2_67",z="_jobInfo_1f3f2_82",J="_infoItem_1f3f2_91",K="_icon_1f3f2_97",O="_infoText_1f3f2_110",Q="_detailText_1f3f2_111",W="_description_1f3f2_124",X="_jobDetails_1f3f2_139",Y="_detailItem_1f3f2_150",s={vacancyCardLink:A,vacancyCard:G,categoryChip:H,categoryDot:Z,categoryText:U,jobTitle:q,jobInfo:z,infoItem:J,icon:K,infoText:O,detailText:Q,description:W,jobDetails:X,detailItem:Y},ee=({id:a,category:i,title:c,location:y,description:l,employmentType:r,salary:g,categoryColor:f="#FBE54D"})=>(v(),e.jsx(k,{to:`/vacancies/${a}`,className:s.vacancyCardLink,children:e.jsxs("div",{className:s.vacancyCard,children:[e.jsxs("div",{className:s.categoryChip,style:{backgroundColor:f},children:[e.jsx("div",{className:s.categoryDot,style:{backgroundColor:"#FFD700"}}),e.jsx("span",{className:s.categoryText,children:i})]}),e.jsx("h3",{className:s.jobTitle,children:c}),e.jsx("div",{className:s.jobInfo,children:e.jsxs("div",{className:s.infoItem,children:[e.jsx(w,{className:s.icon}),e.jsx("span",{className:s.infoText,children:y})]})}),e.jsx("p",{className:s.description,children:l}),e.jsxs("div",{className:s.jobDetails,children:[e.jsxs("div",{className:s.detailItem,children:[e.jsx(F,{className:s.icon}),e.jsx("span",{className:s.detailText,children:r})]}),e.jsxs("div",{className:s.detailItem,children:[e.jsx(P,{className:s.icon}),e.jsx("span",{className:s.detailText,children:g})]})]})]})})),te="_vacanciesPage_ghri9_1",ae="_content_ghri9_14",se="_header_ghri9_25",ce="_title_ghri9_35",re="_subtitle_ghri9_55",ne="_vacancyGrid_ghri9_75",oe="_emptyState_ghri9_86",ie="_emptyText_ghri9_96",le="_loading_ghri9_108",_e="_spinner_ghri9_121",de="_spin_ghri9_121",me="_error_ghri9_138",ye="_retryButton_ghri9_155",ge="_noResults_ghri9_174",n={vacanciesPage:te,content:ae,header:se,title:ce,subtitle:re,vacancyGrid:ne,emptyState:oe,emptyText:ie,loading:le,spinner:_e,spin:de,error:me,retryButton:ye,noResults:ge},fe=()=>{const{t:a,i18n:i}=v(),[c,y]=m.useState("all"),[l,r]=m.useState([]),[g,f]=m.useState(!0),[u,x]=m.useState(null),h=async(t="all")=>{try{f(!0),x(null);const o=new URLSearchParams({category:t,lang:i.language||"en",active_only:"true"}),d=await fetch(`/api/vacancies?${o}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const _=await d.json();if(_.status==="success")r(_.data);else throw new Error(_.message||"Failed to fetch vacancies")}catch(o){console.error("Error fetching vacancies:",o),x(o instanceof Error?o.message:"Failed to load vacancies"),r([])}finally{f(!1)}};m.useEffect(()=>{h(c)},[i.language]);const b=t=>{y(t),h(t)},C=(t,o,d)=>{const _=T=>new Intl.NumberFormat().format(T);return t&&o?`${_(t)} - ${_(o)} ${d}`:t?`${a("vacancy_salary_from")} ${_(t)} ${d}`:""},j=m.useMemo(()=>c==="all"?l:l.filter(t=>t.category===c),[l,c]),N=t=>({full_time:a("vacancy_employment_fulltime"),part_time:a("vacancy_employment_parttime","Part Time"),contract:a("vacancy_employment_contract","Contract"),temporary:a("vacancy_employment_temporary","Temporary")})[t]||t;return e.jsx("div",{className:n.vacanciesPage,children:e.jsx(I,{children:e.jsxs("div",{className:n.content,children:[e.jsxs("div",{className:n.header,children:[e.jsx("h1",{className:n.title,children:a("vacancies_title")}),e.jsx("p",{className:n.subtitle,children:a("vacancies_subtitle")})]}),e.jsx(M,{onCategoryChange:b,activeCategory:c}),g&&e.jsxs("div",{className:n.loading,children:[e.jsx("div",{className:n.spinner}),e.jsx("p",{children:a("loading","Loading...")})]}),u&&!g&&e.jsxs("div",{className:n.error,children:[e.jsx("p",{children:a("error_loading_vacancies","Failed to load vacancies. Please try again later.")}),e.jsx("button",{className:n.retryButton,onClick:()=>h(c),children:a("retry","Retry")})]}),!g&&!u&&e.jsx("div",{className:n.vacancyGrid,children:j.length>0?j.map(t=>e.jsx(ee,{id:t.id,category:a(`vacancies_category_${t.category}`,t.category),title:t.title,location:t.location,description:t.description,employmentType:N(t.employment_type),salary:C(t.salary_min,t.salary_max,t.salary_currency),categoryColor:pe(t.category)},t.id)):e.jsx("div",{className:n.noResults,children:e.jsx("p",{children:a("vacancies_no_results")})})})]})})})},pe=a=>({development:"#FBE54D",design:"#4DABF7",management:"#69DB7C",marketing:"#FFB366",finance:"#A78BFA",customer_service:"#FF8CC8"})[a]||"#FBE54D",Ie=fe;export{Ie as Vacancies};
