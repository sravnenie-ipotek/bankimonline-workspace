import{j as e}from"./ui-vendor-5a9cd79c.js";import{L as N,r as m}from"./react-vendor-19e41fc0.js";import{b as z}from"./index-f0724ccb.js";import{u as h}from"./i18n-vendor-5cfd36a0.js";import{M as T,C as I}from"./ClockIcon-9f189fdb.js";import"./index-c0d564f3.js";import"./state-vendor-2a767ce0.js";import"./utils-vendor-48989965.js";import"./form-vendor-3025b96d.js";import"./components-vendor-e60b5450.js";const F="_categoryFilter_1h90i_1",D="_breadcrumb_1h90i_10",B="_breadcrumbItem_1h90i_25",$="_breadcrumbSeparator_1h90i_49",E="_filterRow_1h90i_60",S="_filterButton_1h90i_71",V="_active_1h90i_93",R="_drillDownIndicator_1h90i_99",v={categoryFilter:F,breadcrumb:D,breadcrumbItem:B,breadcrumbSeparator:$,filterRow:E,filterButton:S,active:V,drillDownIndicator:R},L=({onCategoryChange:a,activeCategory:i})=>{const{t:s}=h(),y=[{key:"all",label:s("vacancies_category_all","Все")},{key:"development",label:s("vacancies_category_development","Разработка")},{key:"design",label:s("vacancies_category_design","Дизайн")},{key:"management",label:s("vacancies_category_management","Менеджмент")},{key:"marketing",label:s("vacancies_category_marketing","Маркетинг")},{key:"finance",label:s("vacancies_category_finance","Финансы")},{key:"customer_service",label:s("vacancies_category_customer_service","Работа с клиентами")}],l=n=>{a(n)};return e.jsx("div",{className:v.categoryFilter,children:e.jsx("div",{className:v.filterRow,children:y.map(n=>e.jsx("button",{className:`${v.filterButton} ${i===n.key?v.active:""}`,onClick:()=>l(n.key),children:n.label},n.key))})})},M=a=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:21,fill:"none",...a,children:[e.jsx("path",{fill:"#fff",d:"M16.536 15.416V4.746a1.005 1.005 0 0 1 .512-.996.963.963 0 0 1 1.413.779V16.204c0 .8-.367 1.17-1.171 1.17h-5.72a5.259 5.259 0 0 1-5.234-4.262 4.543 4.543 0 0 1-.1-.916V7.233a.97.97 0 0 1 .654-.97.88.88 0 0 1 1.054.316c.133.225.205.48.208.742.021 1.554 0 3.108 0 4.662a3.333 3.333 0 0 0 2.392 3.304c.328.095.667.144 1.008.146h4.73c.075.004.137-.008.254-.017Z"}),e.jsx("path",{fill:"#fff",d:"M3.46 5.592v10.671a.967.967 0 1 1-1.92.22V4.802c0-.805.37-1.176 1.166-1.176h5.72a5.262 5.262 0 0 1 5.238 4.259c.064.301.098.608.1.916v4.963a.96.96 0 0 1-1.408.904.976.976 0 0 1-.517-.958V9.013a3.334 3.334 0 0 0-2.642-3.375 3.583 3.583 0 0 0-.787-.08H3.747c-.087.005-.17.022-.287.034Z"})]}),P="_vacancyCardLink_nkw0v_1",A="_vacancyCard_nkw0v_1",G="_categoryChip_nkw0v_32",H="_categoryDot_nkw0v_51",Z="_categoryText_nkw0v_63",U="_jobTitle_nkw0v_67",q="_jobInfo_nkw0v_82",J="_infoItem_nkw0v_91",K="_icon_nkw0v_97",O="_infoText_nkw0v_110",Q="_detailText_nkw0v_111",W="_description_nkw0v_124",X="_jobDetails_nkw0v_139",Y="_detailItem_nkw0v_150",c={vacancyCardLink:P,vacancyCard:A,categoryChip:G,categoryDot:H,categoryText:Z,jobTitle:U,jobInfo:q,infoItem:J,icon:K,infoText:O,detailText:Q,description:W,jobDetails:X,detailItem:Y},ee=({id:a,category:i,title:s,location:y,description:l,employmentType:n,salary:u,categoryColor:p="#FBE54D"})=>(h(),e.jsx(N,{to:`/vacancies/${a}`,className:c.vacancyCardLink,children:e.jsxs("div",{className:c.vacancyCard,children:[e.jsxs("div",{className:c.categoryChip,style:{backgroundColor:p},children:[e.jsx("div",{className:c.categoryDot,style:{backgroundColor:"#FFD700"}}),e.jsx("span",{className:c.categoryText,children:i})]}),e.jsx("h3",{className:c.jobTitle,children:s}),e.jsx("div",{className:c.jobInfo,children:e.jsxs("div",{className:c.infoItem,children:[e.jsx(T,{className:c.icon}),e.jsx("span",{className:c.infoText,children:y})]})}),e.jsx("p",{className:c.description,children:l}),e.jsxs("div",{className:c.jobDetails,children:[e.jsxs("div",{className:c.detailItem,children:[e.jsx(I,{className:c.icon}),e.jsx("span",{className:c.detailText,children:n})]}),e.jsxs("div",{className:c.detailItem,children:[e.jsx(M,{className:c.icon}),e.jsx("span",{className:c.detailText,children:u})]})]})]})})),te="_vacanciesPage_9zzuc_1",ae="_content_9zzuc_14",ce="_header_9zzuc_25",se="_title_9zzuc_35",ne="_subtitle_9zzuc_55",re="_vacancyGrid_9zzuc_75",oe="_emptyState_9zzuc_86",ie="_emptyText_9zzuc_96",le="_loading_9zzuc_108",_e="_spinner_9zzuc_121",de="_spin_9zzuc_121",me="_error_9zzuc_138",ye="_retryButton_9zzuc_155",ue="_noResults_9zzuc_174",r={vacanciesPage:te,content:ae,header:ce,title:se,subtitle:ne,vacancyGrid:re,emptyState:oe,emptyText:ie,loading:le,spinner:_e,spin:de,error:me,retryButton:ye,noResults:ue},pe=()=>{const{t:a,i18n:i}=h(),[s,y]=m.useState("all"),[l,n]=m.useState([]),[u,p]=m.useState(!0),[x,f]=m.useState(null),g=async(t="all")=>{try{p(!0),f(null);const o=new URLSearchParams({category:t,lang:i.language||"en",active_only:"true"}),d=await fetch(`/api/vacancies?${o}`);if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);const _=await d.json();if(_.status==="success")n(_.data);else throw new Error(_.message||"Failed to fetch vacancies")}catch(o){console.error("Error fetching vacancies:",o),f(o instanceof Error?o.message:"Failed to load vacancies"),n([])}finally{p(!1)}};m.useEffect(()=>{g(s)},[i.language]);const b=t=>{y(t),g(t)},k=(t,o,d)=>{const _=w=>new Intl.NumberFormat().format(w);return t&&o?`${_(t)} - ${_(o)} ${d}`:t?`${a("vacancy_salary_from")} ${_(t)} ${d}`:""},j=m.useMemo(()=>s==="all"?l:l.filter(t=>t.category===s),[l,s]),C=t=>({full_time:a("vacancy_employment_fulltime"),part_time:a("vacancy_employment_parttime","Part Time"),contract:a("vacancy_employment_contract","Contract"),temporary:a("vacancy_employment_temporary","Temporary")})[t]||t;return e.jsx("div",{className:r.vacanciesPage,children:e.jsx(z,{children:e.jsxs("div",{className:r.content,children:[e.jsxs("div",{className:r.header,children:[e.jsx("h1",{className:r.title,children:a("vacancies_title")}),e.jsx("p",{className:r.subtitle,children:a("vacancies_subtitle")})]}),e.jsx(L,{onCategoryChange:b,activeCategory:s}),u&&e.jsxs("div",{className:r.loading,children:[e.jsx("div",{className:r.spinner}),e.jsx("p",{children:a("loading","Loading...")})]}),x&&!u&&e.jsxs("div",{className:r.error,children:[e.jsx("p",{children:a("error_loading_vacancies","Failed to load vacancies. Please try again later.")}),e.jsx("button",{className:r.retryButton,onClick:()=>g(s),children:a("retry","Retry")})]}),!u&&!x&&e.jsx("div",{className:r.vacancyGrid,children:j.length>0?j.map(t=>e.jsx(ee,{id:t.id,category:a(`vacancies_category_${t.category}`,t.category),title:t.title,location:t.location,description:t.description,employmentType:C(t.employment_type),salary:k(t.salary_min,t.salary_max,t.salary_currency),categoryColor:ve(t.category)},t.id)):e.jsx("div",{className:r.noResults,children:e.jsx("p",{children:a("vacancies_no_results")})})})]})})})},ve=a=>({development:"#FBE54D",design:"#4DABF7",management:"#69DB7C",marketing:"#FFB366",finance:"#A78BFA",customer_service:"#FF8CC8"})[a]||"#FBE54D",ze=pe;export{ze as Vacancies};
