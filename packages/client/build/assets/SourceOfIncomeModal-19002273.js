import{j as c}from"./ui-vendor-5a9cd79c.js";import{a as B,u as $,j as U,d as _e,o as ze,c as N,l as Ze,H as Je,I as Qe,n as A,J as et,K as tt}from"./index-bc53121f.js";import{P as nt,e as rt,B as Y,I as at,a as L,D as ot,E as it,M as je}from"./index-edeff406.js";import{u as C,i as st}from"./i18n-vendor-5cfd36a0.js";import{u as de,a as Se,c as H,f as ke,F as Ie,b as De,h as lt}from"./form-vendor-429348f6.js";import{r as P,b as O,f as ct}from"./react-vendor-19e41fc0.js";import{F as dt}from"./FormattedInput-d86805f8.js";import{w as le}from"./components-vendor-e60b5450.js";import{W as ut,f as mt}from"./AddButton-9bc99600.js";import{u as ft,P as pt,t as ht,f as _t,a as vt,M as gt}from"./MortgageParameters-601395ac.js";import{a as yt}from"./useDropdownData-1abe74c0.js";import{C as ne}from"./Column-b52dd59a.js";import{D as bt}from"./DropdownMenu-c93145d6.js";import{R as xt}from"./Row-69bcb767.js";import{A as wt,a as jt,g as Pe,b as oe,O as St,M as kt,c as Me}from"./componentsByIncomeSource-e02feca6.js";const or=()=>{const{i18n:e}=C(),r=B(),n=$(o=>o.modalSlice.isOpenLogin),t=()=>{r(U()),r(_e("login"))},i=()=>{r(U()),r(_e("codeSignUp")),r(ze())};return n?e.language==="he"?c.jsx(nt,{onClose:t,onSuccess:i}):c.jsx(rt,{onClose:t,onSuccess:i}):null},It="_buttons_17878_16",Dt="_wrapper_17878_28",Pt={"submit-btn":"_submit-btn_17878_1",buttons:It,wrapper:Dt},me=N.bind(Pt),ir=({showValidationHints:e=!1})=>{const{t:r}=C(),{isValid:n,handleSubmit:t,errors:i,values:o,setFieldTouched:d}=de(),[a,l]=P.useState(!1),u=()=>{console.log("=== BUTTON CLICKED ==="),console.log("isValid:",n),console.log("values:",o),console.log("errors:",i),console.log("========================"),Object.keys(o).forEach(f=>{d(f,!0,!1)}),n?(console.log("Form is valid, submitting..."),t()):(console.log("Form is invalid, showing errors..."),l(!0))};return c.jsx("div",{className:me("submit-btn"),children:c.jsx("div",{className:me("wrapper"),children:c.jsx("div",{className:me("buttons"),children:c.jsx(Y,{onClick:u,size:"smallLong",type:"button",style:{opacity:n?1:.7,cursor:n?"pointer":"not-allowed",pointerEvents:"auto",zIndex:9999},children:r("button_next")})})})})};var Ne=Math.sqrt(50),Ce=Math.sqrt(10),Ee=Math.sqrt(2);function $t(e,r,n){var t,i=-1,o,d,a;if(r=+r,e=+e,n=+n,e===r&&n>0)return[e];if((t=r<e)&&(o=e,e=r,r=o),(a=Tt(e,r,n))===0||!isFinite(a))return[];if(a>0){let l=Math.round(e/a),u=Math.round(r/a);for(l*a<e&&++l,u*a>r&&--u,d=new Array(o=u-l+1);++i<o;)d[i]=(l+i)*a}else{a=-a;let l=Math.round(e*a),u=Math.round(r*a);for(l/a<e&&++l,u/a>r&&--u,d=new Array(o=u-l+1);++i<o;)d[i]=(l+i)/a}return t&&d.reverse(),d}function Tt(e,r,n){var t=(r-e)/Math.max(0,n),i=Math.floor(Math.log(t)/Math.LN10),o=t/Math.pow(10,i);return i>=0?(o>=Ne?10:o>=Ce?5:o>=Ee?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Ne?10:o>=Ce?5:o>=Ee?2:1)}function Fe(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,t)}return n}function R(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Fe(Object(n),!0).forEach(function(t){Ot(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ae(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function W(e,r,n){return r&&Ae(e.prototype,r),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ot(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function re(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&ve(e,r)}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ce(e)}function ve(e,r){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},ve(e,r)}function Mt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function K(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(e,r){if(r&&(typeof r=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K(e)}function ae(e){var r=Mt();return function(){var t=ce(e),i;if(r){var o=ce(this).constructor;i=Reflect.construct(t,arguments,o)}else i=t.apply(this,arguments);return Nt(this,i)}}function ge(e,r){return Et(e)||At(e,r)||Ke(e,r)||Bt()}function ye(e){return Ct(e)||Ft(e)||Ke(e)||Rt()}function Ct(e){if(Array.isArray(e))return be(e)}function Et(e){if(Array.isArray(e))return e}function Ft(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function At(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var t=[],i=!0,o=!1,d,a;try{for(n=n.call(e);!(i=(d=n.next()).done)&&(t.push(d.value),!(r&&t.length===r));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return t}}function Ke(e,r){if(e){if(typeof e=="string")return be(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,r)}}function be(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function Rt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xe="react-compound-slider:";function qe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return function(n,t){return n.val>t.val?e?-1:1:t.val>n.val?e?1:-1:0}}function te(e,r,n){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=e.findIndex(function(l){return l.key===r});if(i!==-1){var o=e[i],d=o.key,a=o.val;return a===n?e:[].concat(ye(e.slice(0,i)),[{key:d,val:n}],ye(e.slice(i+1))).sort(qe(t))}return e}function Z(e,r){if(!e)return[0,0];var n=e.getBoundingClientRect(),t=r?n.top:n.left,i=r?n.bottom:n.right;return[t,i]}function Re(e){var r=e.type,n=r===void 0?"":r,t=e.touches;return!t||t.length>1||n.toLowerCase()==="touchend"&&t.length>0}function fe(e,r){return e?r.touches[0].clientY:r.touches[0].pageX}function Be(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0,i=0,o=e.map(function(d){var a=n.getValue(d);return d!==a&&(i+=1,le(!t,"".concat(xe," Invalid value encountered. Changing ").concat(d," to ").concat(a,"."))),a}).map(function(d,a){return{key:"$$-".concat(a),val:d}}).sort(qe(r));return{handles:o,changes:i}}function Ht(e,r){return r}function Ut(e,r){for(var n=0;n<e.length;n++)if(e[n].key!==r[n].key||r[n+1]&&r[n].val===r[n+1].val)return e;return r}function we(e,r,n,t,i){for(var o=-1,d=!0,a=0;a<e.length;a++){var l=e[a],u=r[a];if(!u||u.key!==l.key)return e;u.val!==l.val&&(o=a,d=u.val-l.val>0)}if(o===-1)return e;for(var f=d?n:-n,s=0;s<r.length;s++){var h=r[s],m=r[s+1];if(m&&h.val===m.val)if(s===o){var p=m.val+f;if(i(p)===p){var v=te(r,m.key,m.val+f,t),g=we(r,v,n,t,i);return g===r?e:g}else return e}else{var b=h.val+f;if(i(b)===b){var j=te(r,h.key,h.val+f,t),S=we(r,j,n,t,i);return S===r?e:S}else return e}}return r}function q(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(t){return r.forEach(function(i){return i&&i(t)})}}var Lt=function(){return{value:0,percent:0}},Ye=function(e){re(n,e);var r=ae(n);function n(){var t;G(this,n);for(var i=arguments.length,o=new Array(i),d=0;d<i;d++)o[d]=arguments[d];return t=r.call.apply(r,[this].concat(o)),t.getRailProps=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=t.props,u=l.emitMouse,f=l.emitTouch;return R(R({},a),{},{onMouseDown:q(a&&a.onMouseDown,u),onTouchStart:q(a&&a.onTouchStart,f)})},t}return W(n,[{key:"render",value:function(){var i=this.getRailProps,o=this.props,d=o.getEventData,a=o.activeHandleID,l=a===void 0?"":a,u=o.children,f=u({getEventData:d||Lt,activeHandleID:l,getRailProps:i});return f&&O.Children.only(f)}}]),n}(P.Component),Ge=function(e){re(n,e);var r=ae(n);function n(){var t;G(this,n);for(var i=arguments.length,o=new Array(i),d=0;d<i;d++)o[d]=arguments[d];return t=r.call.apply(r,[this].concat(o)),t.autofocus=function(a){a.target instanceof HTMLElement&&a.target.focus()},t.getHandleProps=function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=t.props,f=u.emitKeyboard,s=u.emitMouse,h=u.emitTouch;return R(R({},l),{},{onKeyDown:q(l&&l.onKeyDown,function(m){return f&&f(m,a)}),onMouseDown:q(l&&l.onMouseDown,t.autofocus,function(m){return s&&s(m,a)}),onTouchStart:q(l&&l.onTouchStart,function(m){return h&&h(m,a)})})},t}return W(n,[{key:"render",value:function(){var i=this.getHandleProps,o=this.props,d=o.activeHandleID,a=d===void 0?"":d,l=o.children,u=o.handles,f=u===void 0?[]:u,s=l({handles:f,activeHandleID:a,getHandleProps:i});return s&&O.Children.only(s)}}]),n}(P.Component),$e=function(){function e(){G(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return W(e,[{key:"createInterpolator",value:function(n,t){var i=this,o=n[0],d=n[1],a=t[0],l=t[1];return d<o?function(u){return i.interpolateValue(l,a)(i.deinterpolateValue(d,o)(u))}:function(u){return i.interpolateValue(a,l)(i.deinterpolateValue(o,d)(u))}}},{key:"interpolateValue",value:function(n,t){return n=+n,t-=n,function(o){return n+t*o}}},{key:"deinterpolateValue",value:function(n,t){return(t-=n=+n)?function(i){return(i-n)/t}:function(){return t}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(n){var t=this.domain,i=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(t,i)))(+n)}},{key:"setDomain",value:function(n){return this.domain=[n[0],n[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(n){return this.range=[n[0],n[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(n){var t=this.domain;return $t(t[0],t[t.length-1],n||10)}}]),e}(),Vt=function(){return{value:0,percent:0}},zt=function(e){re(n,e);var r=ae(n);function n(){return G(this,n),r.apply(this,arguments)}return W(n,[{key:"render",value:function(){var i=this.props,o=i.children,d=i.values,a=i.scale,l=a===void 0?new $e:a,u=i.count,f=u===void 0?10:u,s=i.getEventData,h=s===void 0?Vt:s,m=i.activeHandleID,p=m===void 0?"":m,v=(d||l.getTicks(f)).map(function(b){return{id:"$$-".concat(b),value:b,percent:l.getValue(b)}}),g=o({getEventData:h,activeHandleID:p,ticks:v});return g&&O.Children.only(g)}}]),n}(P.Component),Kt=function(){return{value:0,percent:0}},We=function(e){re(n,e);var r=ae(n);function n(){var t;G(this,n);for(var i=arguments.length,o=new Array(i),d=0;d<i;d++)o[d]=arguments[d];return t=r.call.apply(r,[this].concat(o)),t.getTrackProps=function(a){var l=t.props,u=l.emitMouse,f=l.emitTouch;return R(R({},a||{}),{},{onMouseDown:q(a&&a.onMouseDown,u),onTouchStart:q(a&&a.onTouchStart,f)})},t}return W(n,[{key:"render",value:function(){for(var i=this.getTrackProps,o=this.props,d=o.children,a=o.left,l=a===void 0?!0:a,u=o.right,f=u===void 0?!0:u,s=o.scale,h=s===void 0?new $e:s,m=o.handles,p=m===void 0?[]:m,v=o.getEventData,g=v===void 0?Kt:v,b=o.activeHandleID,j=b===void 0?"":b,S=h.getDomain(),I=[],x=0;x<p.length+1;x++){var k=p[x-1],_=p[x];x===0&&l===!0?k={id:"$",value:S[0],percent:0}:x===p.length&&f===!0&&(_={id:"$",value:S[1],percent:100}),k&&_&&I.push({id:"".concat(k.id,"-").concat(_.id),source:k,target:_})}var w=d({getEventData:g,activeHandleID:j,tracks:I,getTrackProps:i});return w&&O.Children.only(w)}}]),n}(P.Component);function He(e,r,n){return Math.min(Math.max(e,r),n)}var Ue=W(function e(){var r=this;G(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(n){return r.domain=[n[0],n[1]],r},this.setRange=function(n){return r.range=[n[0],n[1]],r},this.setStep=function(n){return r.step=n,r},this.getValue=function(n){var t=ge(r.domain,2),i=t[0],o=t[1],d=ge(r.range,2),a=d[0],l=d[1],u=r.step,f=(He(n,i,o)-i)/(o-i),s=u*Math.round(f*(l-a)/u)+a;return He(s,a<l?a:l,l>a?l:a)}}),J=typeof window<"u"&&typeof document<"u",F=function(){},qt=function(r){return function(n,t,i){return n&&r[i]===t}},Yt=function(r,n){return r===n||r.length===n.length&&r.reduce(qt(n),!0)},Gt=function(r){if(!P.isValidElement(r))return!1;var n=r.type,t=n?n.name:"";return t===Ge.name||t===Ye.name||t===zt.name||t===We.name},Wt=function(r,n,t,i){var o=i?r-n:r+n;return i?Math.max(t[0],o):Math.min(t[1],o)},Xt=function(r,n,t,i){var o=i?r+n:r-n;return i?Math.min(t[1],o):Math.max(t[0],o)},ie=[0,100],Zt=function(e){re(n,e);var r=ae(n);function n(){var t;G(this,n);for(var i=arguments.length,o=new Array(i),d=0;d<i;d++)o[d]=arguments[d];return t=r.call.apply(r,[this].concat(o)),t.state={step:.1,values:[],domain:ie,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},t.slider=O.createRef(),t.onKeyDown=function(a,l){var u=["ArrowRight","ArrowUp"],f=["ArrowDown","ArrowLeft"],s=K(t),h=s.state.handles,m=s.props,p=m.step,v=p===void 0?.1:p,g=m.reversed,b=g===void 0?!1:g,j=m.vertical,S=j===void 0?!1:j,I=m.domain,x=I===void 0?[0,100]:I,k=a.key||"".concat(a.keyCode);if(u.concat(f).includes(k)){if(S){var _=[f,u];u=_[0],f=_[1]}a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault();var w=h.find(function(E){return E.key===l});if(w){var y=w.val,M=y;u.includes(k)?M=Wt(y,v,x,b):f.includes(k)&&(M=Xt(y,v,x,b));var D=h.map(function(E){return E.key===l?{key:E.key,val:M}:E});t.submitUpdate(D,!0)}}},t.onMouseDown=function(a,l){t.onStart(a,l,!1)},t.onTouchStart=function(a,l){Re(a)||t.onStart(a,l,!0)},t.getEventData=function(a,l){var u=K(t),f=u.state,s=f.pixelToStep,h=f.valueToPerc,m=u.props.vertical;s.setDomain(Z(t.slider.current,m));var p;return l&&a instanceof TouchEvent?p=s.getValue(fe(m,a)):a instanceof MouseEvent&&(p=s.getValue(m?a.clientY:a.pageX)),{value:p,percent:h.getValue(p)}},t.onMouseMove=function(a){var l=K(t),u=l.state,f=u.handles,s=u.pixelToStep,h=u.activeHandleID,m=h===void 0?"":h,p=l.props,v=p.vertical,g=p.reversed,b=g===void 0?!1:g;s.setDomain(Z(t.slider.current,v));var j=s.getValue(v?a.clientY:a.pageX),S=te(f,m,j,b);t.submitUpdate(S)},t.onTouchMove=function(a){var l=K(t),u=l.state,f=u.handles,s=u.pixelToStep,h=u.activeHandleID,m=l.props,p=m.vertical,v=m.reversed;if(!(s===null||Re(a))){s.setDomain(Z(t.slider.current,p));var g=s.getValue(fe(p,a)),b=te(f,h,g,v);t.submitUpdate(b)}},t.onMouseUp=function(){var a=K(t),l=a.state,u=l.handles,f=u===void 0?[]:u,s=l.activeHandleID,h=a.props,m=h.onChange,p=m===void 0?F:m,v=h.onSlideEnd,g=v===void 0?F:v;p(f.map(function(b){return b.val})),g(f.map(function(b){return b.val}),{activeHandleID:s}),t.setState({activeHandleID:""}),J&&(document.removeEventListener("mousemove",t.onMouseMove),document.removeEventListener("mouseup",t.onMouseUp))},t.onTouchEnd=function(){var a=K(t),l=a.state,u=l.handles,f=l.activeHandleID,s=a.props,h=s.onChange,m=h===void 0?F:h,p=s.onSlideEnd,v=p===void 0?F:p;m(u.map(function(g){return g.val})),v(u.map(function(g){return g.val}),{activeHandleID:f}),t.setState({activeHandleID:""}),J&&(document.removeEventListener("touchmove",t.onTouchMove),document.removeEventListener("touchend",t.onTouchEnd))},t}return W(n,[{key:"componentDidMount",value:function(){var i=this.state.pixelToStep,o=this.props.vertical;i.setDomain(Z(this.slider.current,o))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){J&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(i,o,d){var a=this.state.handles,l=this.props.onSlideStart,u=l===void 0?F:l;d||i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation();var f=a.find(function(s){return s.key===o});f?(this.setState({activeHandleID:o}),u(a.map(function(s){return s.val}),{activeHandleID:o}),d?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(i,d))}},{key:"handleRailAndTrackClicks",value:function(i,o){var d=this,a=this.state,l=a.handles,u=a.pixelToStep,f=this.props,s=f.vertical,h=f.reversed,m=h===void 0?!1:h,p=this.slider;u.setDomain(Z(p.current,s));var v;o?v=u.getValue(fe(s,i)):v=u.getValue(s?i.clientY:i.pageX);for(var g="",b=1/0,j=0;j<l.length;j++){var S=l[j],I=S.key,x=S.val,k=Math.abs(x-v);k<b&&(g=I,b=k)}var _=te(l,g,v,m);this.setState({activeHandleID:g},function(){d.submitUpdate(_,!0),o?d.addTouchEvents():d.addMouseEvents()})}},{key:"addMouseEvents",value:function(){J&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){J&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d=this.props,a=d.mode,l=a===void 0?1:a,u=d.step,f=u===void 0?.1:u,s=d.onUpdate,h=s===void 0?F:s,m=d.onChange,p=m===void 0?F:m,v=d.reversed,g=v===void 0?!1:v,b=this.state.valueToStep.getValue;this.setState(function(j){var S=j.handles,I=[];if(typeof l=="function")I=l(S,i,f,g,b),le(Array.isArray(I),"Custom mode function did not return an array.");else switch(l){case 1:I=Ht(S,i);break;case 2:I=Ut(S,i);break;case 3:I=we(S,i,f,g,b);break;default:I=i,le(!1,"".concat(xe," Invalid mode value."))}return h(I.map(function(x){return x.val})),o&&p(I.map(function(x){return x.val})),{handles:I}})}},{key:"render",value:function(){var i=this,o=this.state,d=o.handles,a=o.valueToPerc,l=o.activeHandleID,u=this.props,f=u.className,s=u.rootStyle,h=s===void 0?{}:s,m=u.rootProps,p=m===void 0?{}:m,v=u.component,g=v===void 0?"div":v,b=u.disabled,j=b===void 0?!1:b,S=u.flatten,I=S===void 0?!1:S,x=d.map(function(_){var w=_.key,y=_.val;return{id:w,value:y,percent:a.getValue(y)}}),k=O.Children.map(this.props.children,function(_){return Gt(_)===!0?O.cloneElement(_,{scale:a,handles:x,activeHandleID:l,getEventData:i.getEventData,emitKeyboard:j?F:i.onKeyDown,emitMouse:j?F:i.onMouseDown,emitTouch:j?F:i.onTouchStart}):_});return I?O.createElement(O.Fragment,null,O.createElement(g,R(R({},p),{},{style:h,className:f,ref:this.slider})),k):O.createElement(O.Fragment,null,O.createElement(g,R(R({},p),{},{style:h,className:f,ref:this.slider}),k))}}],[{key:"getDerivedStateFromProps",value:function(i,o){var d=i.step,a=d===void 0?.1:d,l=i.values,u=i.domain,f=u===void 0?ie:u,s=i.reversed,h=s===void 0?!1:s,m=i.onUpdate,p=m===void 0?F:m,v=i.onChange,g=v===void 0?F:v,b=i.warnOnChanges,j=b===void 0?!1:b,S=o.valueToPerc,I=o.valueToStep,x=o.pixelToStep,k={};if((!S||!I||!x)&&(S=new $e,I=new Ue,x=new Ue,k.valueToPerc=S,k.valueToStep=I,k.pixelToStep=x),o.domain===ie||o.step===null||o.domain===null||o.reversed===null||a!==o.step||f[0]!==o.domain[0]||f[1]!==o.domain[1]||h!==o.reversed){var _=ge(f,2),w=_[0],y=_[1];I.setStep(a).setRange([w,y]).setDomain([w,y]),h===!0?(S.setDomain([w,y]).setRange([100,0]),x.setStep(a).setRange([y,w])):(S.setDomain([w,y]).setRange([0,100]),x.setStep(a).setRange([w,y])),le(y>w,"".concat(xe," Max must be greater than min (even if reversed). Max is ").concat(y,". Min is ").concat(w,"."));var M=Be(l||o.values,h,I,j),D=M.handles,E=M.changes;(E||l===void 0||l===o.values)&&(p(D.map(function(V){return V.val})),g(D.map(function(V){return V.val}))),k.step=a,k.values=l,k.domain=f===ie?ye(f):f,k.handles=D,k.reversed=h}else if(!Yt(l,o.values)){var Oe=Be(l,h,I,j),ue=Oe.handles,Xe=Oe.changes;Xe&&(p(ue.map(function(V){return V.val})),g(ue.map(function(V){return V.val}))),k.values=l,k.handles=ue}return Object.keys(k).length?k:null}}]),n}(P.PureComponent);const Jt="_slider_w5hmp_1",Qt="_rail_w5hmp_7",en="_handle_w5hmp_15",tn="_track_w5hmp_36",Te={slider:Jt,rail:Qt,handle:en,track:tn},nn=N.bind(Te),rn=({source:e,target:r,getTrackProps:n})=>c.jsx("div",{className:nn("track","bg-accent-primary"),style:{width:`${r.percent-e.percent}%`},...n()}),an=N.bind(Te),on=({handle:{id:e,percent:r},getHandleProps:n})=>{const{i18n:t}=C();return c.jsx("div",{className:an("handle","bg-accent-primary"),style:{left:`${r}%`,marginLeft:t.language==="he"?"-12px":"0px"},...n(e)})},Le=N.bind(Te),sn=({min:e,max:r,step:n,values:t,onUpdate:i,onChange:o,"data-testid":d})=>{const{i18n:a}=C();return c.jsxs(Zt,{mode:1,step:n,domain:[e,r],onUpdate:i,onChange:o,values:t,reversed:a.language==="he",className:Le("slider"),"data-testid":d,children:[c.jsx(Ye,{children:({getRailProps:l})=>c.jsx("div",{className:Le("rail","bg-base-secondaryDefaultButton"),...l()})}),c.jsx(Ge,{children:({handles:l,getHandleProps:u})=>c.jsx("div",{className:"slider-handles",children:l.map(f=>c.jsx(on,{handle:f,domain:[e,r],getHandleProps:u},f.id))})}),c.jsx(We,{left:a.language!=="he",right:a.language==="he",children:({tracks:l,getTrackProps:u})=>c.jsx("div",{className:"slider-tracks",children:l.map(({id:f,source:s,target:h})=>c.jsx(rn,{source:s,target:h,getTrackProps:u},f))})})]})},ln={"slider-input":"_slider-input_2u5jo_1","range-ranges":"_range-ranges_2u5jo_12"},Ve=N.bind(ln),cn=({value:e,max:r,min:n,name:t,error:i,title:o,handleChange:d,disableRangeValues:a,tooltip:l,disableCurrency:u,unitsMax:f,unitsMin:s,"data-testid":h})=>{const[m,p]=P.useState(e),v=j=>{p(j[0])},g=j=>{d(j[0])},b=j=>{d(j)};return P.useLayoutEffect(()=>{p(e)},[e]),c.jsx(c.Fragment,{children:c.jsxs("div",{className:Ve("slider-input"),children:[c.jsx(dt,{disableCurrency:u,title:o,tooltip:l,name:t,error:i,value:m,handleChange:b,"data-testid":h}),c.jsx(sn,{min:0,max:r,step:1,values:[e],onUpdate:v,onChange:g,"data-testid":h?`${h}-slider`:void 0}),!a&&c.jsxs("div",{className:Ve("range-ranges"),children:[c.jsx("div",{children:c.jsxs("span",{className:t+"Min",children:[n.toLocaleString("en-US")," ",s&&s]})}),c.jsx("div",{children:c.jsxs("span",{className:t+"Max",children:[r.toLocaleString("en-US")," ",f&&f]})})]})]})})},sr=P.memo(cn),dn="_filled_1kf35_18",un={"alert-warning":"_alert-warning_1kf35_1","alert-warning__text":"_alert-warning__text_1kf35_10",filled:dn},pe=N.bind(un),lr=({children:e,filled:r,icon:n,text:t})=>c.jsxs("div",{className:pe("alert-warning",{filled:r}),children:[c.jsx("div",{className:pe("alert-warning__icon"),children:n||c.jsx(ut,{})}),c.jsx("span",{className:pe("alert-warning__text"),children:e||t})]}),mn="_info_1vgj8_1",fn={info:mn,"info-title":"_info-title_1vgj8_11","info-icon":"_info-icon_1vgj8_19"},he=N.bind(fn),pn=({title:e})=>c.jsxs("div",{className:he("info"),children:[c.jsx(at,{className:he("info-icon"),size:24}),c.jsx("p",{className:he("info-title"),children:e})]}),hn="_card_wewux_1",_n={card:hn,"card-title":"_card-title_wewux_10","card-title__text":"_card-title__text_wewux_21","card-children":"_card-children_wewux_34","card-footer":"_card-footer_wewux_39","card-check":"_card-check_wewux_44","card-check__title":"_card-check__title_wewux_49","card-check__price":"_card-check__price_wewux_61","card-button":"_card-button_wewux_72"},T=N.bind(_n),vn=({title:e,infoTitle:r,children:n,mortgageAmount:t,totalAmount:i,mothlyPayment:o,bankOffer:d,onBankSelect:a})=>{C();const{getContent:l}=L("mortgage_step4"),u=B(),f=t.toLocaleString("en-US"),s=i.toLocaleString("en-US"),h=o.toLocaleString("en-US"),m=()=>{const p=d||{id:`bank_${Date.now()}`,bankName:e,program:r,rate:0,monthlyPayment:o,totalAmount:i,mortgageAmount:t};u(Ze({selectedBank:p,selectedBankId:p.id,selectedBankName:p.bankName})),a&&a(p),u(_e("signUp")),u(ze()),console.log(`[BANK SELECTION] Selected bank: ${p.bankName}`),console.log("[BANK SELECTION] Bank data:",p)};return c.jsxs("div",{className:T("card"),children:[c.jsxs("div",{className:T("card-title"),children:[c.jsx("h3",{className:T("card-title__text"),children:e}),c.jsx(pn,{title:r})]}),c.jsx("div",{className:T("card-children"),children:n}),c.jsx(ot,{}),c.jsxs("div",{className:T("card-footer"),children:[c.jsxs("div",{className:T("card-check"),children:[c.jsx("p",{className:T("card-check__title"),children:l("mortgage_total","mortgage_total")}),c.jsxs("p",{className:T("card-check__price"),children:[f," ₪"]})]}),c.jsxs("div",{className:T("card-check"),children:[c.jsx("p",{className:T("card-check__title"),children:l("mortgage_total_return","mortgage_total_return")}),c.jsxs("p",{className:T("card-check__price"),children:[s," ₪"]})]}),c.jsxs("div",{className:T("card-check"),children:[c.jsx("p",{className:T("card-check__title"),children:l("mortgage_monthly","mortgage_monthly")}),c.jsxs("p",{className:T("card-check__price"),children:[h," ₪"]})]})]}),c.jsx("button",{type:"button",className:T("card-button"),onClick:m,children:l("mortgage_select_bank","mortgage_select_bank")})]})},gn="_container_ceieu_1",yn="_column_ceieu_8",bn={container:gn,column:yn},Q=N.bind(bn),cr=()=>{const{t:e,i18n:r}=C(),n=ft(),{getContent:t}=L("bank_offers"),[i,o]=P.useState([]),[d,a]=P.useState([]),[l,u]=P.useState(!0),[f,s]=P.useState(null),h=$(_=>_.mortgage),m=$(_=>_.credit),p=$(_=>_.refinanceMortgage),v=$(_=>_.refinanceCredit),g=()=>{switch(n){case"credit":return m;case"refinance-mortgage":return p;case"refinance-credit":return v;default:return h}},b=()=>{switch(n){case"credit":return m;case"refinance-mortgage":return p;case"refinance-credit":return v;default:return h.incomeData}},j=g(),S=b(),I=$(_=>_.filter.mortgageType),x=n==="credit";P.useEffect(()=>{(async()=>{try{u(!0),s(null);const w=()=>{switch(n){case"credit":return m;case"refinance-mortgage":return p;case"refinance-credit":return v;default:return h}},y=ht(w(),j,S,n||void 0);console.log("🚀 [BANK-OFFERS] Service Type:",n),console.log("🚀 [BANK-OFFERS] Is Credit:",x),console.log("🚀 [BANK-OFFERS] Selected Parameters:",w()),console.log("🚀 [BANK-OFFERS] User Personal Data:",j),console.log("🚀 [BANK-OFFERS] User Income Data:",S),console.log("🚀 [BANK-OFFERS] Making API request with payload:",y);const M=await _t(y);console.log("🏦 [BANK-OFFERS] Received bank offers:",M.length),M.length===0&&(console.warn("⚠️ [BANK-OFFERS] NO BANK OFFERS FOUND!"),console.log("💡 [BANK-OFFERS] Check admin panel banking standards!")),o(M)}catch(w){console.error("💥 [BANK-OFFERS] Error fetching bank offers:",w),s(w.message||"Unknown error occurred")}finally{u(!1)}})()},[h,m,p,v,j,S,n,e]),P.useEffect(()=>{(async()=>{try{const w=await vt(),y=r.language||"en",M=w.map(D=>{let E=y==="he"?D.title:y==="ru"?D.title_ru:D.title_en;switch(D.id){case"prime":E=x?e("credit_prime_percent","Prime Rate Credit"):e("mortgage_prime_percent","Prime Rate Mortgage");break;case"fixed_inflation":E=x?e("credit_fix_percent","Fixed Rate Credit"):e("mortgage_fix_percent","Fixed Rate Mortgage");break;case"variable_inflation":E=x?e("credit_float_percent","Variable Rate Credit"):e("mortgage_float_percent","Variable Rate Mortgage");break;default:break}return{id:D.id,title:E,description:y==="he"?D.description:y==="ru"?D.description_ru:D.description_en,conditionFinance:y==="he"?D.conditionFinance:y==="ru"?D.conditionFinance_ru:D.conditionFinance_en,conditionPeriod:y==="he"?D.conditionPeriod:y==="ru"?D.conditionPeriod_ru:D.conditionPeriod_en,conditionBid:y==="he"?D.conditionBid:y==="ru"?D.conditionBid_ru:D.conditionBid_en,interestRate:D.interestRate,termYears:D.termYears}});a(M)}catch{console.warn("⚠️ [MORTGAGE-PROGRAMS] Failed to fetch programs, using fallback"),a(x?[{id:"prime",title:e("credit_prime_percent","Prime Rate Credit"),description:e("prime_description","Prime rate linked credit program"),conditionFinance:e("up_to_33_percent","Up to 33%"),conditionPeriod:e("4_to_30_years","4-30 years"),conditionBid:e("prime_rate_structure","Variable + Fixed components")},{id:"fixed_inflation",title:e("credit_fix_percent","Fixed rate linked to inflation"),description:e("fixed_inflation_description","Fixed rate with inflation adjustment"),conditionFinance:e("up_to_70_percent","Up to 70%"),conditionPeriod:e("5_to_30_years","5-30 years"),conditionBid:e("fixed_rate_structure","Fixed rate structure")},{id:"variable_inflation",title:e("credit_float_percent","Variable rate linked to inflation"),description:e("variable_inflation_description","Variable rate with inflation adjustment"),conditionFinance:e("up_to_75_percent","Up to 75%"),conditionPeriod:e("4_to_25_years","4-25 years"),conditionBid:e("variable_rate_structure","Variable rate structure")}]:[{id:"prime",title:e("mortgage_prime_percent","Prime Rate Mortgage"),description:e("prime_description","Prime rate linked mortgage program"),conditionFinance:e("up_to_33_percent","Up to 33%"),conditionPeriod:e("4_to_30_years","4-30 years"),conditionBid:e("prime_rate_structure","Variable + Fixed components")},{id:"fixed_inflation",title:e("mortgage_fix_percent","Fixed rate linked to inflation"),description:e("fixed_inflation_description","Fixed rate with inflation adjustment"),conditionFinance:e("up_to_70_percent","Up to 70%"),conditionPeriod:e("5_to_30_years","5-30 years"),conditionBid:e("fixed_rate_structure","Fixed rate structure")},{id:"variable_inflation",title:e("mortgage_float_percent","Variable rate linked to inflation"),description:e("variable_inflation_description","Variable rate with inflation adjustment"),conditionFinance:e("up_to_75_percent","Up to 75%"),conditionPeriod:e("4_to_25_years","4-25 years"),conditionBid:e("variable_rate_structure","Variable rate structure")}])}})()},[e,r.language,x]);const k=_=>I==="all"||x?_:_.filter(w=>{switch(I){case"prime":return w.id==="prime";case"fixed":return w.id==="fixed_inflation";case"variable":return w.id==="variable_inflation";default:return!0}});return l?c.jsx("div",{className:Q("container"),children:t("loading_bank_offers",e("loading_bank_offers"))}):f?c.jsxs("div",{className:Q("container"),children:[t("bank_offers_error",e("bank_offers_error")),f]}):c.jsx("div",{className:Q("container"),children:i.length===0?c.jsxs("div",{className:Q("no-offers"),children:[c.jsx("h3",{children:t("no_bank_offers_available",e("no_bank_offers_available"))}),c.jsx("p",{children:t("no_offers_message",e("no_offers_message"))})]}):i.map((_,w)=>c.jsx(P.Fragment,{children:c.jsx("div",{className:Q("column"),children:c.jsx(vn,{title:_.bank_name||`${t("bank_name","Bank")} #${w+1}`,infoTitle:x?t("bank_offers_credit_register","Credit Registration"):t("mortgage_register","Mortgage Registration"),mortgageAmount:_.loan_amount,totalAmount:_.total_payment,mothlyPayment:_.monthly_payment,bankOffer:{id:_.bank_id,bankName:_.bank_name,program:x?"Credit Program":"Mortgage Program",rate:_.interest_rate,monthlyPayment:_.monthly_payment,totalAmount:_.total_payment,mortgageAmount:_.loan_amount},children:!x&&(k(d).length>0?k(d).map((y,M)=>c.jsx(pt,{title:y.title,percent:_.interest_rate||y.interestRate||2.1,mortgageAmount:_.loan_amount,monthlyPayment:_.monthly_payment,period:_.term_years||y.termYears||20,description:y.description,conditionFinance:y.conditionFinance,conditionPeriod:y.conditionPeriod,conditionBid:y.conditionBid},M)):c.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#666"},children:t("no_programs_match_filter",'No programs match your selected filter. Try selecting "All Programs" to see all available options.')}))},_.bank_id||w)})},_.bank_id||w))})},xn="_dropdown_s6dzj_1",wn={dropdown:xn},jn=N.bind(wn),dr=()=>{C();const{getContent:e}=L("mortgage_step4"),r=$(d=>d.filter),n=B(),t=yt("mortgage_step4","filter","full");t.loading&&console.log("🔄 Loading filter dropdown options..."),t.error&&console.warn("❌ Filter dropdown error:",t.error);const i=()=>{switch(r.mortgageType){case"all":return"filter_1";case"prime":return"filter_2";case"fixed":return"filter_3";case"variable":return"filter_4";default:return"filter_1"}},o=t.options.length>0?t.options:[{value:"filter_1",label:e("calculate_mortgage_filter_1","כל תוכניות המשכנתא")},{value:"filter_2",label:e("calculate_mortgage_filter_2","משכנתאות בריבית פריים")},{value:"filter_3",label:e("calculate_mortgage_filter_3","משכנתאות בריבית קבועה")},{value:"filter_4",label:e("calculate_mortgage_filter_4","משכנתאות בריבית משתנה")}];return c.jsxs(ne,{children:[c.jsx(bt,{data:o,title:t.label||e("calculate_mortgage_filter_title","סנן לפי סוג משכנתא"),placeholder:t.placeholder||e("calculate_mortgage_filter_title","סנן לפי סוג משכנתא"),value:i(),onChange:d=>n(Je(d)),className:jn("dropdown"),style:{background:"transparent !important"},disabled:t.loading}),t.error&&c.jsx(it,{error:e("error_dropdown_load_failed","Failed to load filter options. Please refresh the page.")})]})},Sn=e=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",...e,children:c.jsx("path",{fill:"#FBE54D",d:"m21.31 6.88-4.188-4.19a1.5 1.5 0 0 0-2.122 0L3.44 14.25A1.487 1.487 0 0 0 3 15.312v4.19A1.5 1.5 0 0 0 4.5 21h4.19a1.487 1.487 0 0 0 1.06-.44l11.56-11.56a1.5 1.5 0 0 0 0-2.122ZM8.69 19.5H4.5v-4.189l8.25-8.25 4.19 4.19-8.25 8.25ZM18 10.19 13.81 6l2.25-2.25 4.19 4.19L18 10.19Z"})}),kn="_profile_dtpha_1",In={profile:kn,"profile-title":"_profile-title_dtpha_16","profile-title__text":"_profile-title__text_dtpha_21","profile-title__icon":"_profile-title__icon_dtpha_27","profile-data":"_profile-data_dtpha_34","profile-data__name":"_profile-data__name_dtpha_39","profile-data__phone":"_profile-data__phone_dtpha_45"},z=N.bind(In),Dn=({name:e,phone:r})=>{const{t:n,i18n:t}=C(),{getContent:i}=L("mortgage_step4"),o=ct();return c.jsx(ne,{children:c.jsxs("div",{className:z("profile"),children:[c.jsxs("div",{className:z("profile-title"),children:[c.jsx("p",{className:z("profile-title__text"),children:i("calculate_mortgage_profile_title","calculate_mortgage_profile_title")}),c.jsx(Sn,{onClick:()=>o("/services/calculate-mortgage/2"),className:z("profile-title__icon")})]}),c.jsxs("div",{className:z("profile-data"),children:[c.jsx("div",{className:z("profile-data__name"),children:e}),c.jsx("div",{className:z("profile-data__phone"),children:r&&mt(r,t.language)})]})]})})},ur=({cost:e,initialPayment:r,period:n,credit:t,nameSurname:i,phoneNumber:o})=>c.jsxs(xt,{style:{columnGap:"3rem",justifyContent:"flex-start"},children:[c.jsx(gt,{cost:e,initialPayment:r,period:n,credit:t}),c.jsx(Dn,{name:i,phone:o}),c.jsx(ne,{})]}),Pn="_modal_lzcpe_1",$n="_buttons_lzcpe_49",Tn={modal:Pn,"modal-item":"_modal-item_lzcpe_18","modal-buttons":"_modal-buttons_lzcpe_31",buttons:$n},se=N.bind(Tn),On=()=>{const{t:e,i18n:r}=C(),{handleSubmit:n,isValid:t,values:i}=de(),o=B();return c.jsx(c.Fragment,{children:c.jsxs("div",{className:se("modal"),children:[c.jsxs("div",{className:se("modal-item"),children:[c.jsx(wt,{excludeNoIncome:!0}),i.additionalIncome&&c.jsx(jt,{})]}),c.jsx("div",{className:se("modal-buttons"),children:c.jsxs("div",{className:se("buttons"),children:[c.jsx(Y,{variant:"modalBase",type:"submit",onClick:()=>o(U()),children:e("button_back")}),c.jsx(Y,{type:"submit",isDisabled:!t,onClick:n,size:"full",children:e("button_next_save")})]})})]})})},mr=()=>{const{t:e,i18n:r}=C(),{getContent:n}=L("common"),t=B(),i=$(p=>p.modalSlice.isOpenAdditionalIncome),o=$(p=>p.modalSlice.currentId),d=$(p=>p.borrowers.additionalIncomeModal),a=d[o-1]!==void 0?d[o-1]:void 0,l=()=>{t(U())},u=$(p=>p.borrowers.additionalIncomeModal),s=!u.some(p=>p.id===o)?Pe(u):o,h={additionalIncome:(a==null?void 0:a.additionalIncome)||"",additionalIncomeAmount:(a==null?void 0:a.additionalIncomeAmount)||null},m=Se().shape({additionalIncome:H().required(e("error_select_one_of_the_options")).test("not-empty",e("error_select_one_of_the_options"),p=>p!=null&&p!==""),additionalIncomeAmount:ke().when("additionalIncome",{is:p=>p!=null&&p!==""&&p!=="option_1",then:p=>p.required(st.t("error_fill_field")),otherwise:p=>p.notRequired()})});return c.jsx(je,{isVisible:i,onCancel:l,title:`${n("additional_source_of_income_modal_title","Additional Source of Income")} ${s+1}`,children:c.jsx(Ie,{initialValues:h,validationSchema:m,validateOnMount:!0,onSubmit:p=>{t(Qe({id:s,...p})),l()},children:c.jsx(De,{children:c.jsx(On,{})})})})},Mn="_modal_r2hy9_1",Nn="_container_r2hy9_41",Cn="_component_r2hy9_47",En="_buttons_r2hy9_59",Fn={modal:Mn,"modal-item":"_modal-item_r2hy9_18","modal-buttons":"_modal-buttons_r2hy9_23",container:Nn,component:Cn,buttons:En},ee=N.bind(Fn),An=()=>{const{t:e,i18n:r}=C(),{getContent:n}=L("common"),{handleSubmit:t,isValid:i,values:o,errors:d}=de(),a=B(),{obligation:l}=o,f=(s=>({1:"",2:"bank_loan",3:"credit_card",4:"other"})[s]||"")(l);return console.log("🔍 Obligation Modal - Mapping:",{originalValue:l,mappedKey:f,hasComponents:!!oe[f],availableKeys:Object.keys(oe)}),console.log("🔍 Obligation Modal - Form State:",{isValid:i,values:o,errors:d,obligation:l}),c.jsx(c.Fragment,{children:c.jsxs("div",{className:ee("modal"),children:[c.jsxs("div",{className:ee("container"),children:[c.jsx(St,{screenLocation:"calculate_credit_3"}),oe[f]&&oe[f].map((s,h)=>c.jsx("div",{className:ee("component"),children:s},h)),c.jsx(ne,{})]}),c.jsx("div",{className:ee("modal-buttons"),children:c.jsxs("div",{className:ee("buttons"),children:[c.jsx(Y,{variant:"modalBase",type:"button",onClick:()=>a(U()),children:n("button_back")||(r.language==="he"?"חזור":r.language==="ru"?"Назад":"Back")}),c.jsx(Y,{type:"submit",isDisabled:!i,onClick:t,size:"full",children:n("button_next_save")||(r.language==="he"?"שמור והמשך":r.language==="ru"?"Сохранить и продолжить":"Save and Continue")})]})})]})})},fr=()=>{const{t:e,i18n:r}=C(),{getContent:n}=L("common"),t=B(),i=$(m=>m.modalSlice.isOpenObligation),o=$(m=>m.modalSlice.currentId),d=$(m=>m.borrowers.obligationModal),a=d[o-1]!==void 0?d[o-1]:void 0,l=()=>{t(U())},f=!d.some(m=>m.id===o)?Pe(d):o,s={obligation:(a==null?void 0:a.obligation)||"",bank:(a==null?void 0:a.bank)||"",monthlyPaymentForAnotherBank:(a==null?void 0:a.monthlyPaymentForAnotherBank)||null,endDate:(a==null?void 0:a.endDate)||new Date().getTime(),noIncome:(a==null?void 0:a.noIncome)||new Date().getTime()},h=Se().shape({obligation:H().required(A("error_select_one_of_the_options","Please select one of the options")),bank:H().when("obligation",{is:m=>m!=null&&m!==""&&m!=="1",then:m=>m.required(A("error_select_bank","Please select a bank")),otherwise:m=>m.notRequired()}),monthlyPaymentForAnotherBank:ke().when("obligation",{is:m=>m!=null&&m!==""&&m!=="1",then:m=>m.required(A("error_fill_field","Please fill this field")),otherwise:m=>m.notRequired()}),endDate:lt().when("obligation",{is:m=>m!=null&&m!==""&&m!=="1",then:m=>m.required(A("error_date","Please select a date")),otherwise:m=>m.notRequired()})});return c.jsx(je,{isVisible:i,onCancel:l,title:`${n("obligation_modal_title",e("obligation_modal_title"))} ${f+1}`,children:c.jsx(Ie,{initialValues:s,validationSchema:h,validateOnMount:!0,onSubmit:m=>{t(et({id:f,...m})),l()},children:c.jsx(De,{children:c.jsx(An,{})})})})},Rn="_modal_1gdud_1",Bn="_container_1gdud_41",Hn="_component_1gdud_47",Un="_buttons_1gdud_59",Ln={modal:Rn,"modal-item":"_modal-item_1gdud_18","modal-buttons":"_modal-buttons_1gdud_23",container:Bn,component:Hn,buttons:Un},X=N.bind(Ln),Vn=()=>{const{t:e,i18n:r}=C(),{handleSubmit:n,isValid:t,values:i,errors:o,touched:d,validateForm:a}=de(),{mainSourceOfIncome:l}=i,u=B();return O.useEffect(()=>{console.log("🔍 Form Validation Debug:",{isValid:t,values:i,errors:o,touched:d,mainSourceOfIncome:i.mainSourceOfIncome})},[t,i,o,d]),O.useEffect(()=>{l&&a()},[l,a]),c.jsx(c.Fragment,{children:c.jsxs("div",{className:X("modal"),children:[c.jsxs("div",{className:X("container"),children:[c.jsx("div",{className:X("component"),children:c.jsx(kt,{})}),Me[l]&&Me[l].map((f,s)=>c.jsx("div",{className:X("component"),children:f},s)),c.jsx(ne,{})]}),c.jsx("div",{className:X("modal-buttons"),children:c.jsxs("div",{className:X("buttons"),children:[c.jsx(Y,{variant:"modalBase",type:"button",onClick:()=>u(U()),children:e("button_back")}),c.jsx(Y,{type:"button",isDisabled:!t,onClick:n,size:"full",children:e("button_next_save")})]})})]})})},pr=()=>{C();const{getContent:e}=L("common"),r=B(),n=$(s=>s.modalSlice.isOpenSourceOfIncome),t=$(s=>s.modalSlice.currentId),i=$(s=>s.borrowers.sourceOfIncomeModal),o=i[t-1]!==void 0?i[t-1]:void 0,d=()=>{r(U())},l=!i.some(s=>s.id===t)?Pe(i):t,u={mainSourceOfIncome:(o==null?void 0:o.mainSourceOfIncome)||"",monthlyIncome:(o==null?void 0:o.monthlyIncome)||null,startDate:(o==null?void 0:o.startDate)||new Date().getTime(),fieldOfActivity:(o==null?void 0:o.fieldOfActivity)||"",profession:(o==null?void 0:o.profession)||"",companyName:(o==null?void 0:o.companyName)||"",amountIncomeCurrentYear:(o==null?void 0:o.amountIncomeCurrentYear)||null},f=Se().shape({mainSourceOfIncome:H().required(A("error_select_answer","Please select an answer")),monthlyIncome:ke().transform((s,h)=>{if(typeof h=="string"){const m=h.replace(/[^0-9]/g,"");return m?parseInt(m,10):null}return s}).when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(A("error_fill_field","Please fill this field")),otherwise:s=>s.notRequired()}),startDate:H().when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(A("error_date","Please select a date")),otherwise:s=>s.notRequired()}),fieldOfActivity:H().when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(A("error_select_field_of_activity","Please select field of activity")),otherwise:s=>s.notRequired()}),profession:H().when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(A("error_fill_field","Please fill this field")),otherwise:s=>s.notRequired()}),companyName:H().when("mainSourceOfIncome",{is:s=>s!=null&&s!==""&&!["unpaid_leave","unemployed"].includes(s),then:s=>s.required(A("error_fill_field","Please fill this field")),otherwise:s=>s.notRequired()})});return c.jsx(je,{isVisible:n,onCancel:d,title:`${e("source_of_income_modal_title","Source of Income")} ${l+1}`,children:c.jsx(Ie,{initialValues:u,validationSchema:f,validateOnMount:!1,validateOnChange:!0,validateOnBlur:!0,onSubmit:s=>{r(tt({id:l,...s})),d()},children:c.jsx(De,{children:c.jsx(Vn,{})})})})};export{lr as A,cr as B,dr as F,or as M,fr as O,sr as S,ur as U,ir as a,pr as b,mr as c};
